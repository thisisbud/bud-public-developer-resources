openapi: 3.0.2
info:
  title: "Bud API Services: Documentation"
  description: "# Overview\n\n## Introduction\nWelcome to Bud's API Platform documentation.\
    \ Here you will find everything you need to build features, apps and experiences\
    \ using Bud's API Services. All endpoints follow standard RESTful principles and\
    \ example request and response payload snippets are provided to get you up and\
    \ running quickly and easily.\n\nTo start interacting with our platform, please\
    \ sign up for access [here](https://www.thisisbud.com/developers#developer-console).\
    \ You will be provided with access to the [Bud Developer Console](https://console.thisisbud.com)\
    \ where you can create the API Credentials required to obtain an OAuth2 access\
    \ token.\n\nIf you have any questions, please use our [Support Centre](https://support.thisisbud.com/hc/en-gb)\
    \ or email us on [help@thisisbud.com](mailto:help@thisisbud.com).\n\n## Bud Platform\
    \ Products\n\n| Product | Service | Description |\n|--|--|--|\n| Connect | Open\
    \ Banking Aggregation API | Simplified and unified access to Open Banking Aggregation\
    \ APIs. |\n| Connect | First Party Ingestion API | Push your own data onto the\
    \ Bud platform via Bud's first party ingestion endpoints. |\n| Intelligence |\
    \ Financial Data API | Obtain enriched first and third party transactional data.\
    \ |\n| Intelligence | Enrichment API | Access enrichment resources and retrieve\
    \ high level aggregations of transactional data. |\n| Intelligence | Financial\
    \ Insights API | Obtain a deeper understanding of your customers transactional\
    \ data through a variety of different insights. |\n| Intelligence | Signal API\
    \ | Contextual, relevant triggers and notifications that drive action from customers.\
    \ |\n| Intelligence | Financial Review API | Pre-fill affordability forms to speed\
    \ up services and reduce drop-off with custom groups of income and spending. |\n\
    | Pay | Payments API | Make authorised payments and transfers directly from a\
    \ customer’s account. |\n| Check | KYC API | Perform relevant checks against businesses\
    \ and customers. |\n\n## Environments and API Base URIs\n\nBud currently supports\
    \ two environments on its platform:\n\n1.  Bud’s Sandbox Environment - [https://api-sandbox.thisisbud.com/](https://api-sandbox.thisisbud.com/)\n\
    \n2.  Bud’s Production Environment - [https://api.thisisbud.com/](https://api.thisisbud.com/)\n\
    \n\n## Bud’s Sandbox Environment\n\n### About\n\nBud Sandbox Platform is a development\
    \ environment for integrating and testing Bud’s services. Its version is kept\
    \ up to date with production. Bud’s sandbox environment mirrors our production\
    \ environment and all updates are made in tandem. On the Sandbox environment,\
    \ the variety of providers that you can connect to via Open Banking is limited\
    \ and contains a predefined set of dummy accounts and transaction data. The instance\
    \ size doesn’t differ from production, although certain rate limits are in place.\n\
    \n### API Access\n\nTo start interacting with Bud’s Sandbox API you have to sign\
    \ up for a developer account [here](https://www.thisisbud.com/developers#developer-console).\n\
    \nOnce you’ve completed the signup and activation process you will be able to\
    \ create a new project in the [Developer Console](https://console.thisisbud.com)\
    \ to receive API Credentials (client_id and client_secret). These can be used\
    \ to obtain OAuth2 access and refresh tokens using authentication endpoint. The\
    \ access token must be supplied as a Bearer token within every service API call\
    \ made to the Bud Platform. Once the access token has expired, the refresh token\
    \ must be used to obtain another access token.  \n\n\nDetails on the authentication\
    \ process can be found in the Authentication section of this documentation.\n\n\
    ### Sandbox Providers\n\nBud’s sandbox is built to mirror its production environment.\
    \ The main difference is the available open banking providers that a customer\
    \ is able to connect to. In the sandbox, Bud’s aggregation service only supports\
    \ the use of Open Banking sandbox providers which issue dummy data.\n\nCurrently,\
    \ you are able to connect to customer profiles with predefined accounts and transaction\
    \ data sets (managed by Bud) which are available via the NatWest Sandbox provider.\n\
    \nFrom a Marketplace perspective, you can test any available journeys and play\
    \ around with them, see how the product is constructed, what information the endpoints\
    \ return and potentially create a new product of your choosing, following the\
    \ API journey. Please note, that you will be unable to physically carry out any\
    \ of the marketplace journeys (e.g. send rental data to Experian, or switch your\
    \ Utility provider) within the Sandbox environment.\n\nNecessary access credentials\
    \ can be found in the Bud [Developer Console](https://console.thisisbud.com) interface.\n\
    \n## Bud’s Production Environment\n\n### About\n\nBud’s production environment\
    \ is designed for use within your application when going live to real Customers.\
    \ The environment is fully scalable, secure and facilitates the use of real Customer\
    \ data.\n\n### API Access\n\nTo start interacting with Bud’s Production environment\
    \ you must first sign up for a developer account [here](https://www.thisisbud.com/developers#developer-console).\
    \ Once you have been assigned a relevant account manager, please contact them\
    \ to get access to Bud’s production environment.\n\n### Providers\n\nBud’s production\
    \ environment provides live access to all currently available providers via the\
    \ Bud Platform (i.e. third party products and services). Please click here for\
    \ a list of the currently supported Open Banking providers available via Buds\
    \ Open Banking Aggregation API. This list is updated as and when new providers\
    \ are on boarded onto the Bud platform.\n\nThe production environment allows your\
    \ Customers to connect to additional third party products and services via the\
    \ Bud platform. A list of the different Investment and Pension Aggregation providers\
    \ can be seen here. Information surrounding additional third party providers,\
    \ relevant to a specific marketplace journey, can be found in the relevant documentation\
    \ below.\n\n## Message formats\n\nBud’s platform is made available through Application\
    \ Programming Interface (API) endpoints, all of which adhere to [RESTful](https://restfulapi.net/)\
    \ principles. Standard HTTP verbs and status codes are used for requests and response\
    \ statuses. Request and response payloads are [JSON](http://www.json.org/) encoded\
    \ data formatted. Communication with the Bud Platform is handled over HTTPS protocol\
    \ only.\n\n| Data Type | Standard |\n| -- | -- |\n| Strings encoding | `UTF-8`\
    \ |\n| Datetime | `ISO 8601` |\n| Currency codes | `ISO 4217` |\n\n### HTTP Verbs\n\
    \n| Verb | Usage Context |\n| -- | -- |\n| GET | Used to retrieve the resource\
    \ representation or metadata |\n| POST | Used to create a new resource on the\
    \ server |\n| PUT | Used to update the resource state |\n| PATCH | Used to partially\
    \ update a resource |\n| DELETE | Used to delete the resource|\n\n### HTTP Response\
    \ Codes\n\n| Code Class |  Description |\n| -- | -- |\n| `1XX` | Informational\
    \ - provisional response from the server |\n| `2XX` | Success - the request has\
    \ been processed successfully by the server |\n| `4XX` | Client Error - the request\
    \ has not been processed due to client-side issue with the request |\n| `5XX`\
    \ | Server Error - the request has not been processed due to server-side issue\
    \ |\n\n## Requests Custom Headers\n\nSome endpoints will require the presence\
    \ of custom headers in the HTTP Request to be properly processed by Bud Platform\
    \ services.\n\n| Header Name | Description|\n| ----------- | ----------------------------\
    \ |\n| `X-Client-Id` | API Credentials `client_id` value required for request\
    \ authorisation purposes |\n| `X-Customer-Id` | Customer Identifier value necessary\
    \ for establishing the Customer context of the data to be retrieved or processed\
    \ |\n| `X-Customer-Secret` | Customer Secret value necessary for authorisation\
    \ to retrieve and decrypt the Customer Data stored in Bud platform |\n| `X-Account-Id`\
    \ | Customer Account Identifier value necessary for establishing the context to\
    \ retrieve specific customer’s account data.|\n| `X-From` | Start date from when\
    \ the transactions data should be returned |\n| `X-To` | End date till when the\
    \ transactions data should be returned |\n\n## Response Styling\n\n### Response\
    \ Custom Headers\n\n| Header Name |  Description |\n| -- | -- |\n| `X-Request-Id`\
    \ | Bud request identifier for troubleshooting purposes |\n\n## Success Responses\n\
    \nThe description and the listed status codes below indicate that an action requested\
    \ by the client was successfully processed.\n\nThe successful responses will have\
    \ status codes in the `200-299` range and have relevant response content where\
    \ required. However, `204 No Content` and `205 Reset Content` status codes won't\
    \ contain a response content.\n\n### Response Style Properties\n| Field      \
    \  | Description                                                          | Properties\
    \                                    |\n| ------------ | --------------------------------------------------------------------\
    \ | --------------------------------------------- |\n| operation_id | A descriptive\
    \ enough string that is linked to the operation/feature. | A `required` lower\
    \ case snake case `string`   |\n| data         | A data-set that is relevant to\
    \ the endpoint.                         | An `optional` single/multidimensional\
    \ `array` |\n| metadata     | Contains endpoint specific additional information.\
    \                   | An `optional` JSON `object`                   |\n\n####\
    \ Examples\n\n##### 200 OK\n\nAfter getting an existing resource with `GET /resources/{id}`.\n\
    \n```json\n{\n  \"operation_id\": \"resources_get\",\n  \"data\": {\n    \"id\"\
    : \"111-AAA-222-BBB\",\n    \"name\": \"Bud\",\n    \"email\": \"bud@thisisbud.com\"\
    ,\n    \"created_at\": \"2019-01-01T15:53:00+05:00\"\n  }\n}\n```\n\n##### 201\
    \ Created\n\nAfter creating a new resource with `POST /resources`.\n\n```json\n\
    {\n  \"operation_id\": \"resources_post\",\n  \"data\": {\n    \"id\": \"111-AAA-222-BBB\"\
    \n  }\n}\n```\n## Error Responses\n\n### Response Style Properties\n\n| Field\
    \        | Description                                                       \
    \      | Properties                                    |\n| ------------ | -----------------------------------------------------------------------\
    \ | --------------------------------------------- |\n| operation_id | A descriptive\
    \ enough string that is linked to the operation/feature.    | A `required` snake\
    \ case `string`              |\n| code_id      | A descriptive enough string that\
    \ is linked to the reason for the error. | A `required` snake case `string`  \
    \            |\n| message      | An actual user friendly error message.      \
    \                            | A `required` `string`                         |\n\
    | metadata     | Contains endpoint specific additional information.          \
    \            | An `optional` JSON `object`                   |\n| errors     \
    \  | A data-set that is relevant to the error.                               |\
    \ An `optional` JSON `object`                   |\n\n### Client Error Responses\n\
    \nThe description and the listed status codes below indicate that the action requested\
    \ by the client was not successfully processed due to apparent client errors in\
    \ the request.\n\nThe client errors will have status codes in the 400-499 range\
    \ and have relevant response content where required.\n\n#### Generic Client Error\
    \ Responses\n| Error Code | Cause | Response Body |\n|--------------|---------|-----------|\n\
    |401|Unauthorized|`{\"operation_id\": \"unknown\",\"code_id\":\"unknown\",\"message\"\
    : \"Unauthorised request\",\"errors\": {}}` |\n|404|Not Found|`{\"operation_id\"\
    : \"unknown\",\"code_id\":\"unknown\",\"message\": \"Route or resource not found\"\
    ,\"errors\": {}}` |\n|405|Method Not Allowed|`{\"operation_id\": \"unknown\",\"\
    code_id\":\"unknown\",\"message\": \"Method not allowed\",\"errors\": {}}` |\n\
    \n#### List of Code Ids\n\n| Name                            | Description   \
    \                                                                            \
    \                                          |\n|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------|\n\
    | failed_validation               | Occurs when a request validation process fails.\
    \                                                                            \
    \         |\n| invalid_login                   | Occurs when insufficient login\
    \ credentials were provided.                                                 \
    \                          |\n| resource_not_found              | Occurs when\
    \ a requested record or a feature was not found.                             \
    \                                             |\n| unique_constraint         \
    \      | Occurs when a request tries to create an existing record in database.\
    \                                                               |\n| task_not_found\
    \                  | The specified task could not be found.                  \
    \                                                                            |\n\
    | account_not_found               | The specified account could not be found.\
    \ Please check the account identifier is correct. The account might be closed\
    \ or suspended. |\n| internal_error                  | An unexpected internal\
    \ error.                                                                     \
    \                                  |\n| internal_timeout                | A task\
    \ had timed out.                                                             \
    \                                                  |\n| internal_transient_error\
    \        | A unexpected transient internal error.                            \
    \                                                                  |\n| request_validation\
    \              | Occurs when a request validation process fails.             \
    \                                                                        |\n|\
    \ auth_denied                     | Authorisation process cancelled.         \
    \                                                                            \
    \               |\n| auth_expired                    | The authorisation url has\
    \ expired. Please generate a new one to continue.                            \
    \                               |\n| connection_not_found            | No active\
    \ connection with the provider                                               \
    \                                               |\n| connection_expired      \
    \        | The connection consent has expired. re-authentication required    \
    \                                                                  |\n| connection_revoked\
    \              | The connection consent has been revoked. Re-authentication required\
    \                                                                 |\n| connection_status\
    \               | The connection consent is in the wrong status to perform the\
    \ action.                                                                |\n|\
    \ connection_permission           | The connection consent does not have the require\
    \ permissions for this resource                                              \
    \        |\n| provider_not_found              | Unknown provider             \
    \                                                                            \
    \                           |\n| provider_failure                | The provider\
    \ has had an unexpected failure                                              \
    \                                            |\n| provider_timeout           \
    \     | The provider has taken to long to respond.                           \
    \                                                               |\n| provider_maintenance\
    \            | The provider is temporarily unavailable due to maintenance    \
    \                                                                      |\n| provider_request_limit\
    \          | The provider rate limit has been exceeded                       \
    \                                                                    |\n| provider_endpoint_unimplemented\
    \ | The provider has not implemented this endpoint                           \
    \                                                           |\n| provider_endpoint_deprecated\
    \    | The provider has deprecated this endpoint                             \
    \                                                              |\n| provider_reauthenticate\
    \         | The provider has deemed this consent needs to be reauthenticated.\
    \                                                                   |\n\n####\
    \ Examples\n\n##### 400 Bad Request\n\nReturned after a failed attempt to create\
    \ a new resource by passing invalid data to POST /resources.\n\nAfter trying to\
    \ create a new resources by passing invalid data to `POST /resources`.\n\n```json\n\
    {\n  \"operation_id\": \"resources_post\",\n  \"code_id\": \"failed_validation\"\
    ,\n  \"message\": \"Invalid request payload.\",\n  \"metadata\": {},\n  \"errors\"\
    : {\n    \"name\": \"This value is required.\",\n    \"email\": \"This value is\
    \ invalid.\"\n  }\n}\n```\n### Server Error Responses\n\nThe server errors will\
    \ have status codes in the 500-599 range. The server errors will look very much\
    \ like the \"Client Errors\" but will contain bare minimum information attached\
    \ to them.\n\n#### Generic Server Error Responses\n| Error Code | Cause | Response\
    \ Body |\n|--------------|---------|-----------|\n|`500`| Internal Server Error|\
    \ `{\"message\": \"An error occurred while processing your request\"}`|\n|`503`|\
    \ Service Unavailable| `{\"message\": \"Service unavailable\"}` |\n\n# Updates\
    \ & Versioning\n\nUpdates to Bud's API documentation are made frequently. The\
    \ current version of the documentation can be clearly viewed at the very top of\
    \ this page.\n\n## Backward Compatibility\n\nBud aims to make integration as seamless\
    \ as possible for its clients and therefore takes all possible steps to prevent\
    \ backward-compatibility breaks. In the scenario where a backward-compatibility\
    \ break is unavoidable, Bud creates a new endpoint, either: (a) by bumping the\
    \ version within the endpoint URL; or (b) in some circumstances renaming the URL\
    \ entirely. The previous endpoint may then become deprecated, and support for\
    \ the endpoint will cease after a period of three months. Clients with access\
    \ to any of Bud’s API services will be notified of deprecations to any endpoints\
    \ and provided with ample time in which to make any necessary changes.\n\nFields\
    \ within response or request schemas may also become deprecated. Along with deprecated\
    \ endpoints, these breaking changes will be clearly highlighted within the below\
    \ changelog.\n\n## Deprecations\n\nBud will continue to support deprecations for\
    \ a period of **three months** after they are first announced.\n\n| Date of Announcement\
    \ | Deprecation Details                                                      \
    \                                                                            \
    \                                                                            \
    \                                                                            \
    \         |\n|:---------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n\
    \n| 04/12/2020           | Changed the base URL of the **GET Warnings**, **GET\
    \ Trends** and **GET Forecast** endpoints from `/v1/assistant/` to `/v1/signal/`.\
    \                                                                            \
    \                                                                            \
    \                           |\n| 06/08/2020           | Removed `bank_name` field\
    \ in favour of a new field called `provider` in the following endpoints:<br>__POST__`/v1/open-banking/authorisation-url`\
    \ (Request Payload)<br> __POST__`/v1/open-banking/connect/{connection_task_id}`\
    \ (Response Payload)<br> __POST__`/v1/open-banking/refresh/{task_id}` (Response\
    \ Payload) |\n| 01/09/2021           | Deprecated **GET Warnings** endpoints in\
    \ favour of new **GET Money Management**, **GET Customer Characteristics** and\
    \ **GET Financial Insight** endpoints.                                       \
    \                                                                            \
    \                                         |\n| 01/11/2021           | Deprecated\
    \ **Retrieve Authorisation Gateway URL** endpoint in favour of new **Retrieve\
    \ Authorisation Gateway URL (v2)** endpoint.                                 \
    \                                                                            \
    \                                                                        |\n|\
    \ 01/11/2021           | Deprecated **Energy Switching API**, **Mortgage API**,\
    \ **Home Insurance API** and **Broadband API** which formed Bud's marketplace\
    \ offering.                                                                  \
    \                                                                            \
    \                            |\n| 14/03/2022           | Deprecated **Enrich Transaction**\
    \ endpoints from the Ingest and Enrich API suite.                            \
    \                                                                            \
    \                                                                            \
    \                                                 |\n| 01/08/2022           |\
    \ Deprecated `YYYY-MM-DD` date format for `X-From` and `X-To` headers within `/v1/affordability/spending-groups`.\
    \ Both `X-From` and `X-To` headers now follow the `YYYY-MM` date format.     \
    \                                                                            \
    \                                               | \n| 05/09/2022           | Deprecated\
    \ **Retrieve Merchant Totals V1** in favour of new **Retrieve Merchant Totals\
    \ V2** endpoint |\n| 23/01/2023           | Deprecated **List Transactions V1**.\
    \ Bud understands that many clients have integrated this endpoint in order to\
    \ retrieve transactions held on the Bud platform. As a result, there is a **six\
    \ month** deprecation window, meaning that support for this endpoint will cease\
    \ on the **1st of August 2023**, meaning clients must have migrated over to the\
    \ new and improved **List Transactions V2** endpoint by that point in time. |\n\
    | 23/01/2023           | Deprecated **Create Customers V1**. Support will continue\
    \ for this endpoint, however we recommend clients to migrate to V2 and for all\
    \ new clients to integrate with the V2 endpoint. |\n| 24/03/2023           | Deprecated\
    \ **Retrieve Accounts** endpoint. Bud understands that many clients have integrated\
    \ this endpoint in order to retrieve accounts held on the Bud platform. As a result,\
    \ there is a **six month** deprecation window, meaning that support for this endpoint\
    \ will cease on the **24th of September 2023**, meaning clients must have migrated\
    \ over to the new and improved **Retrieve Accounts V2** endpoint by that point\
    \ in time. |\n| 28/03/2023           | Deprecated **Retrieve Financial Forecast**\
    \ in favour of **Retrieve Forecasted Transactions V2**. |\n| 28/03/2023      \
    \     | Deprecated **Create Transaction Rule(s)**. |\n| 28/03/2023           |\
    \ Deprecated **Retrieve Trends** in favour of **Retrieve Category Totals**. |\n\
    \n## Changelog\n\nThis changelog represents a list of all changes that have been\
    \ made to Bud’s API documentation. This includes both backward-compatible and\
    \ backward-incompatible changes.\n\n**Version 2.5.2: 19/04/2023**\n> - Added `format`\
    \ query parameter to __Retrieve Categories__.\n\n**Version 2.5.1: 30/03/2023**\n\
    > - Fix income types for __Retrieve Income Transactions V2__.\n\n**Version 2.5.0:\
    \ 28/03/2023**\n> - Deprecated __Retrieve Financial Forecast__.\n> - Deprecated\
    \ __Create Transaction Rule(s)__.\n> - Renamed __Retrieve Upcoming Transaction__\
    \ endpoints (V1 and V2) to __Retrieve Forecasted Transactions__.\n> - Renamed\
    \ __Recategorise Transaction__ endpoints (V1 and V2) to __Correct Transaction\
    \ Categories__.\n> - Fix documented required fields for __Recategorise Transaction\
    \ V1__.\n\n\n**Version 2.4.0: 24/03/2023**\n> - Deprecated __Retrieve Accounts__.\n\
    > - Finalised __Retrieve Accounts V2 (beta)__ to production release as __Retrieve\
    \ Accounts V2__.\n> - Finalised __Retrieve Account By ID V2 (beta)__ to production\
    \ release as __Retrieve Account By ID V2__.\n> - Finalised __Retrieve Balances\
    \ Over Time (Beta)__ to production release as __Retrieve Balances Over Time__.\n\
    > - Finalised __Retrieve Balances Over Time By Account (Beta)__ to production\
    \ release as __Retrieve Balances Over Time By Account__.\n\n\n**Version 2.3.9:\
    \ 21/03/2023**\n> - Update merchant descriptions & required fields for **Retrieve\
    \ Subscriptions**\n> - Standardised description used for dates in __Retrieve Merchant\
    \ Totals V2__.\n> - Standardised description used for dates in __Retrieve Income\
    \ Transactions V1__.\n> - Standardised description used for dates in __Retrieve\
    \ Income Transactions V2__.\n> - Standardised description used for dates in __Retrieve\
    \ Loan Transactions__.\n> - Standardised description used for dates in __Retrieve\
    \ Debt Collection Transactions__.\n> - Standardised description used for dates\
    \ in __Retrieve Benefits Transactions__.\n> - Standardised description used for\
    \ dates in __Retrieve Benefits Totals__.\n> - Standardised description used for\
    \ dates in __Retrieve Financial Products__.\n> - Standardised description used\
    \ for dates in __Retrieve Subscriptions__.\n> - Standardised description used\
    \ for dates in __Retrieve Upcoming Transactions V1__.\n> - Standardised description\
    \ used for dates in __Retrieve Salary Information__.\n\n**Version 2.3.8: 21/03/2023**\n\
    > - Update amount descriptions\n\n**Version 2.3.7: 20/03/2023**\n> - Fix the docs\
    \ for **Retrieve Money Management** correcting the category names for some warning\
    \ types.\n> - Remove the deprecated `large_expense` and `high_balance` warnings\
    \ from **Retrieve Money Management**.\n\n**Version 2.3.6: 16/03/2023**\n> - Deprecated\
    \ __Initiate Energy Payments Discovery__ and __Retrieve Energy Payments__\n\n\
    **Version 2.3.5: 13/03/2023**\n> - Updated holder and holders fields on __List\
    \ Accounts V2 (beta)__ and __Retrieve Account By ID V2 (beta)__.\n\n**Version\
    \ 2.3.3: 13/03/2023**\n> - Document `provider_redirect_url` field for **Create\
    \ Single Payment**\n\n**Version 2.3.2: 13/03/2023**\n> - Document `reconfirm_consent_redirect`\
    \ field for **Retrieve Authorisation Gateway URL (v2)**\n> - Added the `processor`\
    \ field to the response from __Retrieve Income Transactions V2__\n\n**Version\
    \ 2.3.1: 09/03/2023**\nThe changes in this release carry no change to URLs, this\
    \ is purely the name of the endpoint.\n> - Renamed __Fetch Balance Actionable\
    \ Insights (Beta)__ to __Retrieve Balance Actionable Insights (Beta)__\n> - Renamed\
    \ __List OB Providers__ to __Retrieve OB Providers__\n> - Renamed __List Customer\
    \ Consents__ to __Retrieve Customer Consents__\n> - Renamed __List Categories__\
    \ to __Retrieve Categories__\n> - Renamed __Fetch Financial Data__ to __Retrieve\
    \ Financial Data__\n> - Renamed __List Accounts__ to __Retrieve Accounts__\n>\
    \ - Renamed __List Transactions__ to __Retrieve Transactions__\n> - Renamed __List\
    \ Transactions V2__ to __Retrieve Transactions V2__\n> - Renamed __List Accounts\
    \ V2 (beta)__ to __Retrieve Accounts V2 (beta)__\n> - Renamed __Balances Over\
    \ Time (Beta)__ to __Retrieve Balances Over Time (Beta)__\n> - Renamed __Balances\
    \ Over Time By Account (Beta)__ to __Retrieve Balances Over Time By Account (Beta)__\n\
    > - Renamed __Affordability Report__ to __Retrieve Affordability Report__\n> -\
    \ Renamed __Affordability Transactions__ to __Retrieve Affordability Transactions__\n\
    > - Renamed __Get Financial Products__ to __Retrieve Financial Products__\n> -\
    \ Renamed __List Providers__ to __Retrieve Providers__\n> - Renamed __List Single\
    \ Payments__ to __Retrieve Single Payments__\n> - Renamed __List Standing Orders__\
    \ to __Retrieve Standing Orders__\n> - Renamed __List Scheduled Payments__ to\
    \ __Retrieve Scheduled Payments__\n> - Renamed __List Components__ to __Retrieve\
    \ Components__\n\n**Version 2.3.0: 07/03/2023**\n> - Added new __Get Financial\
    \ Products V2__ endpoint.\n\n**Version 2.2.0: 28/02/2023**\n> - Added a new __Balances\
    \ Insights__ beta endpoint to the new Actionable Insights API. Not subject to\
    \ breaking change restrictions.\n\n**Version 2.1.1: 15/02/2023**\n> - Corrected\
    \ documented response descriptions and examples for __Get Financial Products__\n\
    \n**Version 2.1.0: 02/02/2023**\n> - Added a new __List Accounts V2 (beta)__ and\
    \ __Retrieve Account By ID V2 (beta)__ beta endpoints within the Financial Data\
    \ API.\n\n**Version 2.0.4: 31/01/2023**\n> - Fix the docs for **List Transactions\
    \ V2** correcting the date format in the example response.\n> - Fix the docs for\
    \ **Get Financial Products** correcting the expected response data structure.\n\
    > - Fix the docs for **Balances Over Time By Account (Beta)** correcting the endpoint\
    \ URI.\n\n**Version 2.0.3: 27/01/2023**\n> - Fix the docs for **Retrieve Income\
    \ Transactions V2** line with fixes for average statistic calculation.\n\n**Version\
    \ 2.0.2: 23/01/2023**\n> - Make various spelling and grammar corrections to the\
    \ Financial Review API docs, and additionally specify that the Financial Review\
    \ API date ranges are to be received as GET parameters rather than headers.\n\n\
    **Version 2.0.0: 23/01/2023**\n> - This major release not only showcases a new\
    \ look and feel for Bud's API docs, but also some fairly significant changes to\
    \ the structure of the endpoints across the platform. In a nutshell, Bud's Connect\
    \ API (formally Open Banking Aggregation API) has a simplified structure with\
    \ the retrieve data endpoints moving into a dedicated **Financial Data** section.\
    \ In addition, the various insights endpoints have been broken down to provide\
    \ a more simplified structure within the **Financial Insights** section.\n> -\
    \ \\[**BREAKING**\\] Bud's List Transactions (**POST** _/v1/open-banking/transactions_)\
    \ has now been deprecated given the onsight of the new **List Transactions V2**\
    \ endpoint (**POST** _/financial/v2/transactions_). Given the number of clients\
    \ using the V1 endpoint, Bud has increased the deprecation window to six months.\
    \ As a result, **all support will cease for the V1 List Transactions endpoint\
    \ on the 1st of August 2023**. Please complete your migration before that date\
    \ and contact your Bud account manager for further details and any help planning\
    \ your migration.\n> - Bud's Create Customers (**POST** _/v1/customers_) has now\
    \ been deprecated. Support for this endpoint will continue, however we recommend\
    \ clients to mirgate to V2 when possible.\n\n**Version 1.22.3: 18/01/2023**\n\
    > - Improvements to __Ingest Transactions V2__ and __Ingest Transactions Task\
    \ Status__ examples.\n> - Removed the `provider` field from the __Ingest Transactions\
    \ V2__ request payload.\n> - Consolidate the List Accounts, V1 List Transactions\
    \ endpoint and Remove OB Provider endpoints into the Financial Data API (to sit\
    \ alongside the new V2 List Transactions endpoint).\n\n**Version 1.22.2: 12/01/2023**\n\
    > - \\[**BREAKING**\\] _Balances Over Time_ and _Balances Over Time By Account_\
    \ beta endpoints now provide pending and booked balances. Please note this has\
    \ changed the structure of the response. Please note, as these are beta endpoints,\
    \ normal deprecation rules don't apply.\n\n**Version 1.22.1: 10/01/2023**\n> -\
    \ General bug fixes and improvements across examples and schemas\n\n**Version\
    \ 1.22.0: 21/12/2022**\n> - Bud is looking to undergo some major improvements\
    \ to the code base of its Rent Recognition service throughout 2023 in order to\
    \ bring it in line with the other services on the Bud platform. As a result, Bud\
    \ has removed the current Rent Recognition service from its API documentation.\
    \ For further details on when the new Rent Recognition service will be available,\
    \ please contact sales@thisisbud.com or your relevant Bud account manager.\n\n\
    **Version 1.21.1: 15/12/2022**\n> - Fix for Ingest Transactions V2 sync response\n\
    > - Fix for connect and refresh webhook status field\n\n**Version 1.21.0: 15/12/2022**\n\
    > - Added a new __Balances Over Time__ and __Balances Over Time By Account__ beta\
    \ endpoints within the Financial Data API.\n> - Released __List Transactions V2__\
    \ with some additional examples added (the previous beta endpoint __List Transactions\
    \ (beta)__ has now been removed).\n> - Released the new Ingest Transactions V2\
    \ endpoint that enables synchronous processing for smaller payloads and also follows\
    \ the latest schema for the List Transactions V2 endpoint.\n\n\n**Version 1.20.10:\
    \ 06/12/2022**\n> - Updates to the __Transactions__ list endpoint (beta) examples,\
    \ and added enrichments for `location` and `transaction_types`\n\n**Version 1.20.9:\
    \ 30/11/2022**\n> - Updates to the __Transactions__ list endpoint (beta) which\
    \ includes renaming the `cdi` field to `credit_debit_indicator`,\nadding the transaction\
    \ `processor` enrichment, the transaction `status` field and improvements across\
    \ examples.\n> - Added consent_id field to __Initiate Provider Authorisation__\
    \ endpoint to create authorisation URLs for a specific consent by sending the\
    \ consent ID in the initiating request.\n\n**Version 1.20.8: 15/11/2022**\n> -\
    \ General bug fixes and improvements across examples and schemas\n\n**Version\
    \ 1.20.7: 08/11/2022**\n> - Added a new __Recategorise Transactions V2__ endpoint\
    \ within the Submit Corrections API.\n\n**Version 1.20.6: 07/11/2022**\n>- Added\
    \ a new field `customer_context` to the __Create Customers V1__ and __Create Customers\
    \ V2__ endpoints, \nalong with new __Retrieve Customer Context__ and __Update\
    \ Customer Context__ endpoints. \nThe Customer Context allows for the creation\
    \ of a better user experience based on better knowledge of the customer themselves.\n\
    \n**Version 1.20.5: 01/11/2022**\n> - General bug fixes and improvements across\
    \ examples and schemas\n> - Updates to the __Code Ids table__, with a full list\
    \ of connect error codes\n> - Added schemas for two new webhook callbacks for\
    \ connect and refresh tasks.\n> - Add payments `provider_types` field\n\n**Version\
    \ 1.20.4: 28/10/2022**\n> - Added a new __Retrieve Authorisation Gateway URL__\
    \ and __Retrieve Authorisation Gateway URL (v2)__ response code.\n\n**Version\
    \ 1.20.3: 18/10/2022**\n> - General bug fixes and improvements across examples,\
    \ schemas, endpoints descriptions, names and sectioning titles.\n\n**Version 1.20.2:\
    \ 13/10/2022**\n> - Added a new __Retrieve Upcoming Transactions V2__ endpoint\
    \ within the Transactions Insights API.\n\n**Version 1.20.1: 04/10/2022**\n> -\
    \ General bug fixes and improvements across examples, schemas, endpoints descriptions,\
    \ names and sectioning titles.\n\n**Version 1.20.0: 03/10/2022**\n> - Added a\
    \ new Financial Data API, containing a new __Transactions__ list endpoint (beta).\n\
    \n**Version 1.19.0: 30/09/2022**\n> - Added a new __Reconfirm Consent__ endpoint\
    \ within the Manage OB Connections API.\n> - Added a new field to the V2 Open\
    \ Banking Authorisation Gateway URL endpoint. The endpoint\nallows clients to\
    \ direct customers to the reconfirmation of consent journey, where customers can\n\
    extend their consent by 90 days.\n\n**Version 1.18.1: 26/09/2022**\n> - General\
    \ bug fixes and improvements across examples, schemas, endpoints descriptions,\
    \ names and sectioning titles.\n\n**Version 1.18.0: 16/09/2022**\n> - Added a\
    \ new __Subscriptions__ endpoint within the Transactions Insights API.\n\n**Version\
    \ 1.17.0: 06/09/2022**\n> - Added a new data field to the Retrieve Refresh Status\
    \ endpoint as part of Bud's Connect (OB\nAggregation) API. The field - `has_new_transactions`\
    \ describes whether any new transactions have\nbeen obtained as part of the latest\
    \ refresh, thus providing details on whether you as the Client \nare required\
    \ to fetch the latest transacitons for that customer.\n> - Deprecated __Retrieve\
    \ Merchant Totals V1__ in favour of the new __Retrieve Merchant Totals V2__ endpoint.\n\
    > - Added _Buy Now, Pay Later_ support to the __Get Financial Products__ endpoint,\
    \ identified by \nthe enum value `bnpl`.\n\n**Version 1.16.2: 16/08/2022**\n>\
    \ - Included a new query parameter within the List Consents endpoint to allow\
    \ clients\nto view all consents, i.e. those that have been expired/revoked, and\
    \ those that are\nawaiting authorisation (as well as those that are active).\n\
    > - General bug fixes and improvements across examples, schemas, endpoints descriptions,\
    \ names and sectioning titles.\n\n**Version 1.16.1: 11/08/2022**\n> - General\
    \ spelling corrections and improvements across examples\n\n**Version 1.16.0: 01/08/2022**\n\
    > - \\[**BREAKING**\\] The `X-From` and `X-To` date fields will now follow the\
    \ date format of YYYY-MM for `/v1/affordability/spending-groups`. **Please note\
    \ that the current date format for `X-From` and `X-To` will no longer be supported\
    \ in three months time on the 1st November 2022**. All clients with existing integrations\
    \ will be contacted via email by their relevant account manager to inform them\
    \ of this change. This should provide clients with enough time adjust their integration\
    \ before the change coming into force. Please contact `help@thisisbud.com` or\
    \ your account manager if you have any questions, issues or concerns relating\
    \ to this update.\n\n**Version 1.15.2: 22/07/2022**\n> - General spelling corrections\n\
    \n**Version 1.15.1: 18/07/2022**\n> - General bug fixes and improvements across\
    \ examples, schemas, endpoints descriptions, names and sectioning titles.\n\n\n\
    **Version 1.15.0: 29/06/2022**\n> - \\[**BREAKING**\\] The `period` field will\
    \ have new enum values when calling the `/v1/regular-transactions` and the `/v1/future-transactions`\
    \ endpoints. **Please note that this change will only come into effect in three\
    \ months time on the 5th October 2022**. All clients with existing integrations\
    \ will be contacted via email by their relevant account manager to inform them\
    \ of this change. This should provide clients with enough time adjust their integration\
    \ before the change coming into force. Please contact `help@thisisbud.com` or\
    \ your account manager if you have any questions, issues or concerns relating\
    \ to this update.\n> - Fixed some inaccuracies with the __Signal Money Management__\
    \ docs.\n\n**Version 1.14.0: 27/06/2022**\n> - Added a new __Affordability Report__\
    \ endpoint within the Financial Review API.\n> - Added a new __Affordability Transaction__\
    \ endpoint within the Financial Review API.\n\n**Version 1.13.2: 22/06/2022**\n\
    > - Fixed doc issues with some __Signal__ warnings (__Money Management__ `regular_monthly_income_change`\
    \ and __Financial Insights__ `gambling_threshold`)\n\n**Version 1.13.1: 22/06/2022**\n\
    > - Fixed issues with doc site dependencies\n\n**Version 1.13.0: 21/06/2022**\n\
    > - Added a new __Debt Collection Finder__ endpoint within the Transaction Insights\
    \ section.\n> - Added a new __Product Finder__ endpoint within Transaction Insights\
    \ which creates a summary of a customer's financial products using their transaction\
    \ history.\n> - Added Parties to the __List Accounts__ endpoint in the Manage\
    \ OB Data section\n\n**Version 1.12.2: 24/05/2022**\n> - General bug fixes and\
    \ improvements across examples, schemas, endpoints descriptions, names and sectioning\
    \ titles.\n> - Added a new __Income Finder V2__ endpoint within the Transaction\
    \ Insights section.\n> - Added a new __Loans Finder__ endpoint within the Transaction\
    \ Insights section.\n\n**Version 1.12.1: 05/05/2022**\n> - Moved __Benefits Finder__\
    \ endpoint into the correct section - Transaction Insights.\n\n**Version 1.12.0:\
    \ 26/04/2022**\n> - Added a new __Benefits Finder__ endpoint within the Transaction\
    \ Insights section that provides details around any benefit specific transactions\
    \ a customer might have within their connected accounts.\n> - Fixed typos.\n\n\
    **Version 1.11.3: 14/03/2022**\n> - Deprecated __Enrich Transaction__ endpoints\
    \ from the Ingest and Enrich API suite. \n> - General improvements across examples,\
    \ schemas, endpoints descriptions, names and sectioning titles.\n\n**Version 1.11.2:\
    \ 31/01/2022**\n> - Corrected syntax for Custom Signal endpoints.\n> - Fixed typos.\n\
    \n**Version 1.11.1: 27/01/2022**\n> - Added a better description to the Recategorisation\
    \ (Customer Corrections) endpoint.\n> - Fixed typos.\n\n**Version 1.11.0: 05/01/2022**\n\
    > - Added a new __Income Finder__ endpoint within the Transaction Insights section\
    \ that provides details around any income specific transactions that a customer\
    \ might have within their connected accounts.\n> - Detailed the payload of the\
    \ callbacks (webhooks) sent to the relevant Client webhook URL when (i) an Open\
    \ Banking Synchronisation task completes (i.e. after either a Connect or Refresh\
    \ request has been made by the Client); and (ii)\nwhen the status of a Payment\
    \ (single, scheduled or stand order) has either completed or failed.\n> - Included\
    \ a new 400 response example in the Get Authorisation Gateway URL and Initiate\
    \ Refresh endpoints (within Bud's OB Aggregation API) to detail the response when\
    \ the selected provider is currently in maintenance mode.\n> - Corrected the documentation\
    \ of the List Accounts endpoint to ensure that the `account_type` field is shown\
    \ as nullable.\n\n**Version 1.10.1: 22/11/2021**\n> - Added a new __Custom Signals__\
    \ endpoint within the Signal API that allows you to segment and identify customers\
    \ based on custom criteria. \n\n**Version 1.10.0: 28/10/2021**\n> - Added a new\
    \ __Delete Provider Data__ endpoint.\n> - Deprecated __Retrieve Authorisation\
    \ Gateway URL__ endpoint following the introduction of the new `/v2/open-banking/authorisation-gateway-url`\
    \ endpoint.\n> - Moved `/v1/energy-switching/energy-payments` & `/v1/energy-switching/energy-payments/{task_id}`\
    \ endpoints from Energy Switching API to the Insights API.\n> - Deprecated remaining\
    \ endpoints within the __Energy Switching API__.\n> - Deprecated all endpoints\
    \ within the __Mortgage API__.\n> - Deprecated all endpoints within the __Home\
    \ Insurance API__.\n> - Deprecated all endpoints within the __Broadband API__.\n\
    \n**Version 1.9.0: 14/10/2021**\n> - Addition of a new endpoint `/v2/open-banking/authorisation-gateway-url`\
    \ to allow clients to use an updated\nBud Connect flow, allowing their customer's\
    \ to go through a new Account Connection journey. The v2 journey is \nhighly configurable\
    \ via the use of different flags within the request payload.\n\n**Version 1.8.3:\
    \ 06/10/2021**\n> - General bug fixes and improvements across examples, schemas,\
    \ endpoints descriptions, names and sectioning titles.\n\n**Version 1.8.2: 16/09/2021**\n\
    > - Altered the List Consents endpoint to now take in an optional `X-Customer-Secret`\
    \ field within the request headers. If done so, each consent object will now return\
    \ a list of `account_ids` associated with the consent object in addition to a\
    \ date denoting the date a which a refresh was successfully completed for that\
    \ given consent object.\n\n**Version 1.8.1: 07/09/2021**\n> - Added a new Submit\
    \ Authorisation Codes endpoint for use within the Payments flows when using Bud\
    \ as a technical service provider.\n\n**Version 1.8.0: 01/09/2021**\n> - Deprecated\
    \ __Warnings__ endpoint within the Signal API\n> - Added a new __Money Management__\
    \ endpoint within the Signal API that allows clients to provide more detailed\
    \ information regarding a customer's financial situation.\n> - Added a new __Customer\
    \ Characteristics__ endpoint within the Signal API that allows clients to profile\
    \ based on a customer's transactions.\n> - Added a new __Financial Insight__ endpoint\
    \ within the Signal API that allows clients to understand a customer's overall\
    \ financial situation and affordability.\n\n**Version 1.7.10: 06/08/2021**\n>\
    \ - Updated the List Transaction Response schema to detail the addition of the\
    \ new carbon tracker enrichment field. \n\n**Version 1.7.9: 03/08/2021**\n> -\
    \ The `customer_secret` attribute is now a required attribute on the POST Ingest\
    \ Accounts endpoint.\n> - Updated the List Transaction Response schema to detail\
    \ those fields that are required and/or nullable.\n> - Created a new Create Transaction\
    \ Rule(s) endpoint that allows client to set a value of the `client_label` attribute\
    \ against a set of customer transactions which adhere to the rules specified in\
    \ the request payload.\n> - Updated API Overview table in the introduction to\
    \ include latest product set.\n> - Removed deprecated Financial Assistant endpoints.\n\
    \n**Version 1.7.8: 28/05/2021**\n> - Addition of some optional fields to the POST\
    \ Retrieve Authorisation Gateway URL endpoint. The additional fields allow clients\
    \ to specify: (i) a single provider, effectively skipping the select provider\
    \ screen in the customer UI; (ii) a list of providers, allowing clients to configure\
    \ the list of providers shown to the customer on the select provider screen; and\
    \ (iii) filter the provider list shown to the customer by the type of provider\
    \ (e.g. business or personal). In addition, a `connect_more_accounts_button` flag\
    \ can be configured to show the customer a button at the end of the connection\
    \ flow that will allow them to connect to another provider without having to return\
    \ to the client application.\n\n**Version 1.7.7: 15/04/2021**\n> - Updated the\
    \ examples within Bud's KYC endpoints to make them more usable against Bud's sandbox\
    \ environment.\n> - Addition of a new GET `/v1/open-banking/account-access-consents`\
    \ endpoint to allow clients to query the active consents against a given customer\
    \ (in relation to Bud's OB Aggregation service).\n\n**Version 1.7.6: 17/03/2021**\n\
    > - Addition of a new \"Regular Payment Changed\" Insight to the Warnings Endpoint\
    \ (that forms part of Bud's Signal Product).\n> - Bugfix: addition of the required\
    \ `mobile_phone_number` field to the request payload of the Switch Supplier endpoint\
    \ within the Energy Switching API to align to the implementation of the API itself.\n\
    > - Bugix: the format of the `annual_spend.amount` field within the request payload\
    \ of the kWh Estimation endpoint now states that is should be a number (as opposed\
    \ to a string) to align to the API itself.\n\n**Version 1.7.5: 10/02/2021**\n\
    > - Fixed bug in the List Accounts endpoint for Bud's OB Aggregation service -\
    \ the response data object now details all the returned fields as expected.\n\
    > - Removed the deprecated List Account Balances endpoint from the documentation\
    \ entirely.\n> - Added a new __Ingest Accounts__ endpoint within the Enrichment\
    \ API that allows clients to provide more detailed information regarding a customer's\
    \ account.\n\n**Version 1.7.4: 25/01/2021**\n> - Addition of a Know Your Customers\
    \ (KYC) API allowing clients to perform KYC checks on businesses or their customers.\n\
    > - \\[**BREAKING**\\] The `X-Customer-Secret` is now a required field within\
    \ the headers of the `/v1/open-banking/authorisation-gateway-url` endpoint. **Please\
    \ note that this change will only come into effect in three months time on the\
    \ 1st of May 2021**. All clients with exisitng integrations will be contacted\
    \ via email by their relevant account manager to inform them of this change. This\
    \ should provide clients with enough time adjust their integration before the\
    \ change coming into force. Please contact `help@thisisbud.com` or your account\
    \ manager if you have any questions, issues or concerns relating to this update.\n\
    \n**Version 1.7.3: 11/01/2021**\n> - Addition of the changelog to the api docs,\
    \ and further information around updates and versioning.\n> - Documentation Bug\
    \ Fix: `redirect_url` field is now shown as required within the **POST** `/v1/open-banking/authorisation-url`\
    \ endpoint. This affects those clients using Bud's TSP Aggregation Service.\n\n\
    **Version 1.7.2: 18/12/2020**\n> - Introduction of a new payment service within\
    \ Bud's Payment API. Clients are now able to initiate __Scheduled Payments__ from\
    \ Bud's Payments service. The scheduled payments service is available to those\
    \ clients using Bud as a TPP (i.e. via Bud Pay) and as a TSP.\n> - Bud have now\
    \ released their __First Party Transactions Ingestion__ endpoint. This allows\
    \ clients to simply post Bud some of their customer's transactions, which will\
    \ then be run through each of Bud's enrichment and insights services and then\
    \ stored securely. This opens up Bud's plethora of Insights services, Signal,\
    \ and Financial Review to those clients with first-party transactional data.\n\
    \n**Version 1.7.1: 06/12/2020**\n> - Few changes to the Payments endpoint responses,\
    \ including:\n>   - the GET providers endpoint, `required_actions` field now becomes\
    \ an array (as opposed to an object) and is populated with string enums which\
    \ are now clearly described in the schema.\n>   - the response of the create Single\
    \ Payment and Standing Order endpoints now includes a `required_action` field\
    \ as opposed to required_actions (since there will only ever be one next required\
    \ action). If this field appears within the response then clients must take another\
    \ action in order to complete the payment flow.\n>   - the payment status endpoint\
    \ also now includes the `required_action` field, which if not null, clearly indicates\
    \ that the client is required to perform the necessary action in order for the\
    \ payment to complete.\n>   - updated the payment service enums within the response\
    \ of the GET providers endpoint, since each provider can now potentially offer\
    \ `domestic-single-payment`, `domestic-standing-order` and (soon to be) `domestic-scheduled-payment`\
    \ services.\n> - Added extra information within the description of various Rent\
    \ Recognition endpoints. This should provide clients with a much clearer understanding\
    \ of which endpoints are needed and why in order to integrate the entire RR journey.\n\
    \n**Version 1.7.0: 27/11/2020**\n> - Added a new POST /v2/customers endpoint that\
    \ allows clients to create up to 200 customers in a single request.\n> - \\[**BREAKING**\\\
    ] Deprecated Financial Assistant endpoints (warnings / trends / forecast) and\
    \ introduced these endpoints under a new API called Signal with updated urls and\
    \ operation_ids.\n> - Altered description of the OB Aggregation TPP Retrieve Authorisation\
    \ Gateway URL to include for information into its usage.\n> - Introduction of\
    \ a new set of Payments based endpoints allowing customers to set up and authorise\
    \ standing orders from one of Bud’s supported providers. This comes in the form\
    \ of:\n>   - a new TPP endpoint, where clients can now request a new Bud Pay URL\
    \ to allows customers to set up a new standing order; and\n>   - a new set of\
    \ TSP endpoints, allowing clients to integrate Bud APIs to allow their customers\
    \ to initiate standing orders.\n\n**Version 1.6.5: 10/09/2020**\n> - Addition\
    \ of the `period` field to the __GET__ `/v1/salary` endpoint to provide an indication\
    \ into any regulatory associated with a predicted salary transaction.\n\n**Version:\
    \ 1.6.4: 06/08/2020**\n > - \\[**BREAKING**\\] Deprecated the use of `bank_name`\
    \ in relevant schemas within Bud’s OB Aggregation API in favour of of the field\
    \ `provider`\n > - Updated Affordability API title to Financial Review API and\
    \ provided an updated description of the API.\n > - Updated the product table\
    \ within the introduction to reflect new titles and descriptions across Bud’s\
    \ API services.\n\n**Version: 1.6.3 - 20/07/2020**\n > - Added a new endpoint\
    \ for the OB Aggregation TSP flow - __POST__ `/v1/open-banking/authorisation-codes`.\
    \ It allows clients to send back the parameters they receive from the bank once\
    \ the customer has completed the authorisation process. This allows Bud to match\
    \ the state to the relevant task id, and also provides the relevant code that\
    \ will allow Bud to start fetching the customer’s data from the provider.\n\n\
    **Version: 1.6.2 - 16/07/2020**\n > - Addition of international updates to payments\
    \ APIs\n > - Updated energy switching meters example to ensure that it will return\
    \ meter information for the address given in the example. \n\n**Version: 1.6.0\
    \ - 15/06/2020**\n > - Financial Assistant service added to the Insights API.\
    \ This includes three brand new endpoints that help customers to better manage\
    \ their financial world.\n >   - _Retrieve Warnings_: provides a list of potential\
    \ scenarios where a customer might suffer some financial expense (e.g. in their\
    \ overdraft, cannot cover bills, late payment and late income)\n >   - _Retrieve\
    \ Trends_: provides the key trends associated with a customer’s transactional\
    \ data broken down by month\n >   - _Retrieve Forecast_ - provides a list of the\
    \ regular and predicted transactions over a given period, noting whether they\
    \ are booked, pending or predicted.\n > - Affordability Service added to the documentation,\
    \ including a brand new endpoint to help clients to assess their customers affordability.\
    \ The _Create Spending Groups_ endpoint allows clients to create their own custom\
    \ group, e.g. Discretionary Spend, where they can select which of Bud’s categories\
    \ and/or subcategories will make up the group. All transactions for that customer\
    \ assigned to the categories/subcategories within the group will be bucketed up\
    \ and the client will be able to see the total income and expenditure in those\
    \ categories over a given period of time.\n\n**Version: 1.5.3 - 22/05/2020**\n\
    \ > - Added Payments: List Payment Status endpoint in order to retrieve paginated\
    \ details of multiple payment ids based on header filters\n > - General bug fixes\
    \ and improvements across examples, schemas, endpoints descriptions, names and\
    \ sectioning titles.\n\n**Version: 1.5.0 - 08/04/2020**\n > - Addition of Bud’\
    s Payment Initiation API. The endpoints provide clients with the functionality\
    \ to allow their customers to make payments from one of their bank accounts, to\
    \ a chosen recipient. In their first iteration, customers are able to authorise\
    \ a single payment from one of their UK based bank accounts to another UK bank\
    \ account.\n > - Addition of a Category Totals endpoint. The endpoint allows clients\
    \ to retrieve the total amount of money that is moving into and out of their customers'\
    \ connected bank accounts, broken down by transaction category. The endpoint breaks\
    \ the totals down by both tier 1 and tier 2 type categories (as is provided by\
    \ Buds dual layered categorisation engine).\n > - Acceptance of a new transaction\
    \ schema format for all 1st Party Enrichment Endpoints. All of Bud’s first party\
    \ data enrichment endpoints (i.e. __POST__`/v1/categorise/double-cat`, __POST__`/v1/regular-payments`,\
    \ __POST__`/v1/merchants`) are now able to accept the transaction format outputted\
    \ by TrueLayer. This makes it even easier for those clients who are using TrueLayer\
    \ as an aggregator to get the use of Bud’s enrichment services.\n\n# Authentication\n\
    \n<SecurityDefinitions />\n"
  contact:
    name: Bud Support
    url: https://www.thisisbud.com/
    email: help@thisisbud.com
  version: 2.5.2
  x-logo:
    url: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATAAAABuCAQAAAAKAYdLAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4wQDDggcbXcx7wAABeJJREFUeNrt3W2IFVUcx/HvXRW1VdQedy1bZVfoYX0osVQyfSGElKbRA5oFIaIlhAkWUYm6gvqqDMHMoBeKlhayCCZC2AMRPay7aJrSZmauZhQqaj7t7u1Fi965987s7D1n7pk7/j73zX2Y85//mXt2Zu45Z2ZBREREREREREREREREREREREREREREREREREREREREREREREREROIiZSFGH+YxgsOs5U/X1bFiPDPpQT3bu1DmcaZyg+vErWpjD+s47zoN6Mte0qRJc4Iq18lYMJv2jvosD11mRUeJpD32UO7664BFGQl94DoZY704fbU2rQwKVWYwbc6bQlSPBaYbtMz4K7nP53lpGkK/q8+7MTxUmeEWtmJcGX+j5psmM0I3l9vCirKAV36OuE46QsbfaHL/9opnL9tcpxBf3V0nkAgzWMRj9HadhrH+3Gk7pBqYDZdY3oXfnHE2gc1U2gyoQ6Rk+pKZdgOqgYnXF7TYDGe3gcWgW85QH9cJxMAVm8HsNrBqhhV1U9g33XUCzo1gsM1wdhtYio8ZWsytYdksFrpOwbGhbLYb0PavyLs5wA+c9v28lRa+Zzt/+y5RwwKqaOCdgCjZRvEit/A1a7jou8xwJjOMAb7D+ylqqCmw1imeZ0oCBrv7Mzp+/QofFTDCdZG13Jw3Wi1nOpbZT9+QGUziUkeZ3T49z+P4pqCRuCkhM1jjfMwwqsdG182rsAaWJs0JxuWJ9knGEq+EzODHjDLTcj5NsbjgwehwDazm6vyL5D2MG5i7booKdjE25917M57XhoxUG1hmJUsjrmWtlVl18ZQ2DeCyH6ycT7kpIJ+wuQWVeZJXI69HcpsXHDQN4LajtZIlkcbvzWqn9St1R3nPNIT93wzt/MSZPO+nqKA65699Nos5FdHmgZkMzHnvIj9zLm9+Q7jd0nqP8VtkdSqWNppYxT+u08g+yW8OnKRXw4ac08hnPUscyvjkw5AZXM4os9jzyY6sdZ3h5YC++jLm0lrASf50T5krzEn0QbOLbB8in2FvwKfNPJczCXd0hLV7wPPqL8bybt691//aWWfhkPo2681PjZPDbgP7lYZOl1nNJs9rW4elXD2zfkK8wIFOy2w1XuuWyOpTkuw2sHOhlqrzvIqu59gbuYEdIcqcjSyb65SLX5EHOepgrbuKtJ6nHNQtxtx0U5xM8DoXMkez7K5xM7Tp4iS4WOvszvss5feSP9Fvo5EVnDDfHGJfpd157Y48xFRGmfaEaWcu/qqYZxpCDcxcqR8Mg9xlGkANzNz+BDcx4zEJNTBzv5gPCSeXTvJtmM+3PJqIKdNj6GE3pJsG5mIwOMp1ptnABgd1sq+G7ebnXZncHCKjG3+M1zpLTzMz7AZ00cBG5pmlFb3JmkQTSpPd21HZbWD9Qy21zPPK/zricNH6+B7mvZFreTpEtAFWt0dpsnoWZreBVTG+kyVS1GVN4/vDd9lJVIRY5yzfPdPlrPHHdTwYItr1bkLcTia8M1qPM9F3yRRjcuaYprNmHxzyfNbQyQlnGTM47ynhndFan7WuCywLODz35I2sC9DCXheZHBNpsXvZmu1fkZXs5rjPnPzb8hyAzrIzINr9HOBIwNXat+ZcleS1hame1714izc55jNvbVDBtz7pyWuJuI15P/tnx1F0UwzsQpprO5nil2KIQSZbqcspnwp57+iu2MQT1mMmhNue/MMR3xfwMi8VYRhnmJqXP/MG1lZwyVNMy9l/FR4tf/mdvB553Uz2sXFn+n1YaGCNBZZr5mH25by7xzCb3PKrmM+lgmK1BV4hdc0+2g2zjq8m1wlAOY1dvqXGKep87oZYzUmDW3Vs8+myuIf6Am6AsiT0Nljp/CYl0Twaze9ZaaN3u5w5jAy5L2ylhe/4nAu+S1Qwl+oCsrjCV2wM2KXfwSPUcmPIGv9LPZ91Ye1TEnEb80ztNLE+Dv8MS0RERERERERERERERERERERERERERERERERERERERERERERERERs+Q/rhi5WauEgfQAAAABJRU5ErkJggg=="
servers:
- url: https://api-sandbox.thisisbud.com
tags:
- name: Connect API
  description: "These endpoints handle the connections to Open Banking providers (ASPSPs)\
    \ and the ingestion of first party transaction data. Bud manages all of the connections\
    \ to each of the individual ASPSPs and enables access to all of the providers\
    \ via a single set of API endpoints.\n\nBud currently supports three methods of\
    \ connecting your customers data to the Bud platform:\n\n  1. You can use the\
    \ [__Bud Connect__](#operation/v2_ob_authorisation_gateway_url_post) endpoint\
    \ which returns a link to Bud’s pre-built Open Banking customer connection journey\
    \ that can be configured to your brand.\n\n  2. If you have your own license you\
    \ can choose to host the Open Banking customer connection journey yourself, using\
    \ [Bud's APIs](#operation/open_banking_authorisation_url_post) to create the connection.\
    \ __If you are an agent of Bud but feel that your application could benefit from\
    \ a more native feel please talk to your Bud Account Manager or email help@thisisbud.com\
    \ for further details.__\n\n  3. If you already have transactional data that you’\
    re looking to enrich, you can use Bud’s [Ingest Endpoints](#tag/Ingest-Data) to\
    \ push your data onto the Bud platform without needing your customers to connect\
    \ their accounts via Open Banking. \n  \nNote: a number of the calls within this\
    \ service are asynchronous, and as such, follow a pattern of sending a request\
    \ and responding with a task ID. This task ID can then be tracked, allowing for\
    \ a more efficient, cross network implementation.\n"
  x-displayName: Connect API
  x-traitTag: true
- name: Create a Connection
  description: |
    Create a new connection to an Open Banking provider by using either: (i) Bud's configurable frontend UI (__Bud Connect__), built to maximise conversion; or (ii) Bud's individual API endpoints to help you build your own connect flow.
  x-displayName: Create a Connection
- name: Manage a Connection
  description: "Different endpoints that allow to to manage an existing customer connection.\
    \ This includes the ability to:\n  (i) Refresh the data associated with a given\
    \ connection, pulling in the latest account \n      information into the Bud platform;\n\
    \  (ii) Renew an existing consent  by-passing the need to go through Strong Customer\
    \ \n      Authentication (SCA) with their bank;\n  (iii) Revoke a consent, removing\
    \ the ability for Bud to fetch any further data associated\n      with that consent.\n"
  x-displayName: Manage a Connection
- name: Ingest First Party Data
  description: |
    Initiate the asynchronous process of pushing a customer's account information (i.e. first party data) onto the Bud platform. These asynchronous requests create a task to store the given accounts or transactions against the specified customers. The Task ID returned by this request can be used to verify the current status of the process.
  x-displayName: Ingest First Party Data
- name: Customers API
  description: |2

    The Customers API allows for the manipulation of a client's "Customers" as registered on the Bud platform. The API is built around resource-oriented URLs, returns JSON-encoded responses, uses standard HTTP response codes and authentication.
  x-displayName: Customers API
  x-traitTag: true
- name: Manage Customers
  description: |
    Manage the number of customers registered onto the Bud platform.
  x-displayName: Manage Customers
- name: Enrichment API
  description: |
    Enrich transactional data you already hold, or have aggregated through Open Banking, using Bud's core enrichment services.
  x-displayName: Enrichment API
  x-traitTag: true
- name: Enrichment Resources
  description: |
    Obtain greater context to Bud's enrichment services.
  x-displayName: Enrichment Resources
- name: Enrichment Totals
  description: |
    Breakdown your customer's income and expenditure based on Bud's enrichments to help orientate their financial world.
  x-displayName: Enrichment Totals
- name: Financial Data API
  description: |2

    These endpoints handle the aggregation and retrieval of financial data. They are designed to be generic across
    a range of ingestion sources and regions.
  x-displayName: Financial Data API
  x-traitTag: true
- name: Retrieve Financial Data
  description: |
    Retrieve a customer's financial data from a range of sources.
  x-displayName: Retrieve Financial Data
- name: Manage Financial Data
  description: |
    Manipulate Transactions held on the Bud platform by removing data, submitting corrections, or adding tags through different rulesets.
  x-displayName: Manage Financial Data
- name: Financial Insights API
  description: |
    Get insights about spending, identify key transactions and create your own custom transaction labels to dig deeper into the data and build new services for customers.
  x-displayName: Financial Insights API
  x-traitTag: true
- name: Regular Insights
  description: |
    Obtain insights relating to any regularity found across certain groups of transactions within your customer's accounts.
  x-displayName: Regular Insights
- name: Income Insights
  description: |
    Obtain insights regarding your customer's income.
  x-displayName: Income Insights
- name: Expenditure Insights
  description: |
    Obtain insights regarding your customer's expenditure.
  x-displayName: Expenditure Insights
- name: Financial Review API
  description: |
    Obtain a deeper understanding of your customers' transactional data and use these endpoints to help build affordability and fact-finding tools.
  x-displayName: Financial Review API
  x-traitTag: true
- name: Assess Affordability
  description: |
    Breakdown your customers' income and spending by customisable groupings based on Bud's enrichments to inform affordability calculations.
  x-displayName: Assess Affordability
- name: Retrieve Affordability Report
  description: |
    Breakdown your customer's transactions by fixed/flexible spend and discretionary vs non discretionary high-level totals.
  x-displayName: Retrieve Affordability Report
- name: KYC API
  description: "Bud's Know Your Customer (KYC) API allows you to perform relevant\
    \ checks against businesses and customers. This API uses the \nNorthrow API in\
    \ order to perform the physical checks against a business or customer. The functionality\
    \ is provided on a needs\nmust basis for those clients who are unable to perform\
    \ the necessary KYC checks required in order to use Bud's Open Banking\nAggregation\
    \ and Payment Services. Please contact your account manager for further details\
    \ or email `help@thisisbud.com`.\n"
  x-displayName: KYC API
  x-traitTag: true
- name: Perform KYC Check
  description: |
    Perform a KYC check against a company (business) or person (customer).
  x-displayName: Perform KYC Check
- name: Payments API
  description: |2

    These endpoints allow Bud's Clients to initiate (i.e. make) payments through the use of Open Banking Payment APIs.
    Bud manages the connections to each of the payment providers, and serves these connections under a single set of API endpoints, enabling Bud's clients (and in turn their customers) to initiate a payment from one of these providers to a chosen recipient.

    Bud currently supports two methods for initiating payments with available providers:

      1. If you are not regulated to provide payment initiation services, or if you are regulated but do not wish to use
      your own permissions, then use Bud's [TPP Initiation](#tag/TPP-Initiation) endpoints.
      2. If on the other hand, your are regulated as an Payment Initiation Service Provider (PISP), then you are able to use Bud
      as a Technical Service Provider (see [TSP Initiation](#tag/TSP-Initiation)).
  x-displayName: Payments API
  x-traitTag: true
- name: Initiate Payment - Bud license
  description: |
    Authenticates and securely creates a new payment from a customer’s chosen account(s) using Bud's regulatory licence as a
    [Third Party Provider (TPP)](https://www.openbanking.org.uk/providers/third-party-providers/) of Payment Initiation Services.
  x-displayName: Initiate Payment - Bud license
- name: Initiate Payment - Client license
  description: |
    Authenticates and securely creates a new payment from a customer’s chosen account(s) using your organisation's regulatory
    permission as a Payment Initiation Service Provider (PISP).
  x-displayName: Initiate Payment - Client license
- name: Manage Payments
  description: "Manage payments to initiated through Bud's Payments API      \n"
  x-displayName: Manage Payments
- name: Signal API
  description: |
    Contextual, relevant triggers and notifications that drive action from customers.
  x-displayName: Signal API
  x-traitTag: true
- name: Everyday Money Management
  description: |
    Help your customers stay on top of their financial situation with helpful and timely notifications
  x-displayName: Everyday Money Management
- name: Customer Characteristics
  description: |
    Understand your customers profile and what type of services they could benefit from
  x-displayName: Customer Characteristics
- name: Income and Expenditure Insight
  description: |
    Understand your customers overall financial situation and affordability.
  x-displayName: Income and Expenditure Insight
- name: Custom Signals
  description: |
    Understand and target messaging to your customers more effectively by defining your own custom segmentations.
  x-displayName: Custom Signals
- name: Actionable Insights API
  description: |
    These endpoints handle the retrieval of actionable insights for a customer. An actionable insight is an indicator of
    the state of a customer's financial situation that could induce a change in behaviour.
  x-displayName: Actionable Insights API
  x-traitTag: true
- name: Retrieve Balance Insights (Beta)
  description: ""
  x-displayName: Retrieve Balance Insights (Beta)
paths:
  /v1/open-banking/providers:
    get:
      tags:
      - Create a Connection
      summary: Retrieve OB Providers
      description: |
        List the available account providers with their name, icon and maintenance status.
      operationId: open_banking_providers_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: types
        in: query
        description: "A comma separated list of Bud support provider types to be shown.\
          \ If no filter is applied, all the providers are returned."
        required: false
        schema:
          type: string
          enum:
          - sandbox
          - business
          - retail
      responses:
        "200":
          description: List of providers available via Bud's Open Banking Aggregation
            APIs
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_200'
        "400":
          description: Bad Request that fails validations on headers & payload
        "401":
          description: Unauthorized (BearerToken in 'Authorization' header fails the
            authentication)
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/open-banking/authorisation-gateway-url:
    post:
      tags:
      - Create a Connection
      summary: Retrieve Authorisation Gateway URL
      description: "Allow customers to authorise with, and connect to, a provider,\
        \ using Bud’s regulatory permission as an Account Information Service Provider\
        \ (AISP) using __Bud Connect__. Bud Connect is a piece of frontend UI that\
        \ can be integrated into any mobile or web experience, and allows your customers\
        \ to connect to and authorise with their chosen provider, allowing Bud to\
        \ pull their account information using Bud's AISP license. \n\nUse Bud’s Authorisation\
        \ Gateway (__Bud Connect__) if you are not regulated as an AISP in order to\
        \ connect your customers to their banks to share account information. You\
        \ may still choose to use __Bud Connect__ in order to give the customer a\
        \ slick account connection experience or to speed up your technical build\
        \ and integration, even if you are a regulated AISP yourself.\n\nThe status\
        \ of the authorisation step will be provided to you as a path parameter within\
        \ the `redirect_url` specified within the request payload. This `redirect_url`\
        \ is where your customer will be redirected to once they have either failed,\
        \ or successfully completed, the authorisation process with their provider.\n\
        \nPlease note that in order to recieve status updates on a given account connection\
        \ task, you will need to configure your Callback URL within the developer\
        \ console. Once the entire connection process has been completed and the customer's\
        \ account information is ready to be collected via the Retrieve OB Data Endpoints,\
        \ Bud will send a request to your callback URL.\n"
      operationId: ob_authorisation_gateway_url_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthGatewayURLRequest'
            examples:
              All providers:
                value:
                  redirect_url: https://my-agent-webapp.com/connected?my-parameter=xyz
              Filter providers list:
                value:
                  redirect_url: https://my-agent-webapp.com/connected?my-parameter=xyz
                  provider_types:
                  - retail
              Specify provider(s):
                value:
                  redirect_url: https://my-agent-webapp.com/connected?my-parameter=xyz
                  providers:
                  - Barclays
                  - Lloyds
                  - Natwest
              Show the "connect more accounts" button:
                value:
                  redirect_url: https://my-agent-webapp.com/connected?my-parameter=xyz
                  connect_more_accounts_button: true
              Enable account data mangement:
                value:
                  redirect_url: https://my-agent-webapp.com/connected?my-parameter=xyz
                  enable_account_data_management": true
        required: true
      responses:
        "201":
          description: The resource has been successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthGatewayURLResponse'
              example:
                operation_id: ob_authorisation_gateway_url_post
                data:
                  url: https://auth.gateway.thisisbud.com/connect?nonce=nu9ysswxk3hnrepo&token=b361e184038e25077cab277ede9362289941da928cd0d9c7ea52107aa2ad0d909d87993a532af47d9794cd5f29ba66128b3dc7f705ce9b044c636c28e31e1bb3ff8e17145a49f42f525bff51945c3a2484c89a05c1b1e484f9b84ee0cfee4640453fd599e71b5111bd880a63cc924fca8c6ce831396e2f4f8b3e5ac994c5c9
        "400":
          description: The request contains an invalid payload.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: ob_authorisation_gateway_url_post
                code_id: failed_validation
                message: Failed validation.
                errors:
                  redirect_url: This value should not be blank.
        "401":
          description: An unauthorised request was received.
        "405":
          description: The request uses an unexpected HTTP method.
        "422":
          description: Unprocessable request (e.g. requested providers are in maintenance)
        "5XX":
          description: An unexpected error occurred on the server side.
      callbacks:
        EventSubscriptionCallBack:
          '{$request.body#/redirect_url}':
            description: |
              This callback is sent to your configured Open Banking Sync Complete webhook URL on the completion of a relevant OB synchronisation task.
            post:
              summary: Aggregation Sync Notification Callback
              parameters:
              - name: X-Signature
                in: header
                description: The signed request body JWT
                required: true
                schema:
                  type: string
              - name: X-Signing-ID
                in: header
                description: The public key ID which should be used to verify the
                  X-Signature header. Bud's list of public keys can be found at https://assets.thisisbud.com/bud-callback.jwks
                required: true
                schema:
                  type: string
              requestBody:
                description: This callback is sent to your configured Open Banking
                  Sync Complete webhook URL on the completion of a relevant OB synchronisation
                  task.
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/OBSyncWebhookBody'
                    example:
                      data:
                        task_id: 03af1639-78a6-402d-809b-902a0b00a77d
                        status: Completed
                        task_type: connect
                        customer_id: b6f898f8-99e8-4529-8e90-64d96fe05aa4
                required: true
              responses:
                "200":
                  description: Your server returns this code if it accepts the callback
                "300":
                  description: "The notification will not be retried, redirects will\
                    \ not be followed"
                "400":
                  description: The notification will not be retried
                "500":
                  description: |
                    The request will be retried shortly. If it fails multiple times, we will stop attempting to deliver the
                    notification for this single event.
      deprecated: true
      security:
      - OAuth2: []
  /v2/open-banking/authorisation-gateway-url:
    post:
      tags:
      - Create a Connection
      summary: Retrieve Authorisation Gateway URL (v2)
      description: |
        Allow customers to authorise with, and connect to, a provider, using Bud’s regulatory permission as an Account Information Service Provider (AISP) using __Bud Connect__. Bud Connect is a piece of frontend UI that can be integrated into any mobile or web experience, and allows your customers to connect to and authorise with their chosen provider, allowing Bud to pull their account information using Bud's AISP license.

        Version 2 of the Bud Connect flow provides customer's with an updated connection flow and includes a number of different parameters within the API itself that can be used to configure the journey to a clients needs. Please refer to the request schema for further details.

        Use Bud’s Authorisation Gateway (__Bud Connect__) if you are not regulated as an AISP in order to connect your customers to their banks to share account information. You may still choose to use __Bud Connect__ in order to give the customer a slick account connection experience or to speed up your technical build and integration, even if you are a regulated AISP yourself.

        The status of the authorisation step will be provided to you as a path parameter within the `redirect_url` specified within the request payload. This `redirect_url` is where your customer will be redirected to once they have either failed, or successfully completed, the authorisation process with their provider.

        Please note that in order to recieve status updates on a given account connection task, you will need to configure your Callback URL within the developer console. Once the entire connection process has been completed and the customer's account information is ready to be collected via the Retrieve OB Data Endpoints, Bud will send a request to your callback URL.
      operationId: v2_ob_authorisation_gateway_url_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthGatewayURLRequestv2'
            examples:
              All providers:
                value:
                  redirect_url: https://my-agent-webapp.com/connected?my-parameter=xyz
              Filter providers list:
                value:
                  redirect_url: https://my-agent-webapp.com/connected?my-parameter=xyz
                  provider_types:
                  - retail
              Specify provider(s):
                value:
                  redirect_url: https://my-agent-webapp.com/connected?my-parameter=xyz
                  providers:
                  - Barclays
                  - Lloyds
                  - Natwest
              Show the "connect more accounts" button:
                value:
                  redirect_url: https://my-agent-webapp.com/connected?my-parameter=xyz
                  connect_more_accounts_button: true
              Show the account connection summary screen:
                value:
                  redirect_url: https://my-agent-webapp.com/connected?my-parameter=xyz
                  accounts_summary: true
              Show the initial screen as the account summary screen:
                value:
                  redirect_url: https://my-agent-webapp.com/connected?my-parameter=xyz
                  initial_screen": accounts_summary
              Enable account data mangement:
                value:
                  redirect_url: https://my-agent-webapp.com/connected?my-parameter=xyz
                  enable_account_data_management": true
        required: true
      responses:
        "201":
          description: The resource has been successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthGatewayURLResponse'
              example:
                operation_id: v2_ob_authorisation_gateway_url_post
                data:
                  url: https://auth.gateway.thisisbud.com/connect?nonce=nu9ysswxk3hnrepo&token=b361e184038e25077cab277ede9362289941da928cd0d9c7ea52107aa2ad0d909d87993a532af47d9794cd5f29ba66128b3dc7f705ce9b044c636c28e31e1bb3ff8e17145a49f42f525bff51945c3a2484c89a05c1b1e484f9b84ee0cfee4640453fd599e71b5111bd880a63cc924fca8c6ce831396e2f4f8b3e5ac994c5c9
        "400":
          description: The request contains an invalid payload.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v2_ob_authorisation_gateway_url_post
                code_id: failed_validation
                message: Failed validation.
                errors:
                  redirect_url: This value should not be blank.
        "401":
          description: An unauthorised request was received.
        "405":
          description: The request uses an unexpected HTTP method.
        "422":
          description: Unprocessable request (e.g. requested providers are in maintenance)
        "5XX":
          description: An unexpected error occurred on the server side.
      callbacks:
        EventSubscriptionCallBack:
          '{$request.body#/redirect_url}':
            description: |
              This callback is sent to your configured Open Banking Sync Complete webhook URL on the completion of a relevant OB synchronisation task.
            post:
              summary: Aggregation Sync Notification Callback
              parameters:
              - name: X-Signature
                in: header
                description: The signed request body JWT
                required: true
                schema:
                  type: string
              - name: X-Signing-ID
                in: header
                description: The public key ID which should be used to verify the
                  X-Signature header. Bud's list of public keys can be found at https://assets.thisisbud.com/bud-callback.jwks
                required: true
                schema:
                  type: string
              requestBody:
                description: This callback is sent to your configured Open Banking
                  Sync Complete webhook URL on the completion of a relevant OB synchronisation
                  task.
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/OBSyncWebhookBody'
                    example:
                      data:
                        task_id: 03af1639-78a6-402d-809b-902a0b00a77d
                        status: Completed
                        task_type: connect
                        customer_id: b6f898f8-99e8-4529-8e90-64d96fe05aa4
                required: true
              responses:
                "200":
                  description: Your server returns this code if it accepts the callback
                "300":
                  description: "The notification will not be retried, redirects will\
                    \ not be followed"
                "400":
                  description: The notification will not be retried
                "500":
                  description: |
                    The request will be retried shortly. If it fails multiple times, we will stop attempting to deliver the notification for this single event.
        ConnectCompletedCallBack:
          '{$request.body#/redirect_url}':
            description: |
              This callback is sent to your configured Open banking connection completed webhook URL on the completion of a connect task.
            post:
              summary: Connect Completed Notification Callback
              parameters:
              - name: X-Signature
                in: header
                description: The signed request body JWT
                required: true
                schema:
                  type: string
              - name: X-Signing-ID
                in: header
                description: The public key ID which should be used to verify the
                  X-Signature header. Bud's list of public keys can be found at https://assets.thisisbud.com/bud-callback.jwks
                required: true
                schema:
                  type: string
              requestBody:
                description: This callback is sent to your configured 'Open banking
                  connection completed' webhook URL on the completion of a connect
                  task.
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/OBWebhookBody'
                    example:
                      data:
                        task_id: 03af1639-78a6-402d-809b-902a0b00a77d
                        status: Failed
                        result: provider_failure
                        task_type: connect
                        customer_id: b6f898f8-99e8-4529-8e90-64d96fe05aa4
                required: true
              responses:
                "200":
                  description: Your server returns this code if it accepts the callback
                "300":
                  description: "The notification will not be retried, redirects will\
                    \ not be followed"
                "400":
                  description: The notification will not be retried
                "500":
                  description: "The request will be retried shortly. If it fails multiple\
                    \ times, we will stop attempting to deliver the notification for\
                    \ this single event.   \n"
      security:
      - OAuth2: []
  /v1/open-banking/authorisation-url:
    post:
      tags:
      - Create a Connection
      summary: Initiate Provider Authorisation
      description: |
        Request a new Open Banking authorisation url for a specific Customer and provider.
      operationId: open_banking_authorisation_url_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OpenBankingAuthoriseRequest'
            examples:
              Provider:
                value:
                  provider: Barclays
                  redirect_url: https://myclientredirecturl.com
        required: true
      responses:
        "102":
          description: An identical request has been accepted for processing but has
            not yet been completed
        "202":
          description: A new Task has been created to obtain the bank's authorisation
            URL. The generated `task_id` can be used to check the Task's status
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskCreatedResponseOB'
              example:
                operation_id: open_banking_authorisation_url_post
                data:
                  task_id: 360e5821-4f18-4077-83f4-c9a7c1768bea
                  provider: Barclays
                metadata:
                  next_url: /v1/open-banking/authorisation-url/360e5821-4f18-4077-83f4-c9a7c1768bea
                  next_url_delay: 50
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              examples:
                Parameter missing:
                  value:
                    operation_id: open_banking_authorisation_url_post
                    code_id: failed_validation
                    message: Failed validation
                    errors:
                      customer_id: This value should not be blank
                Resource not found:
                  value:
                    operation_id: open_banking_authorisation_url_post
                    code_id: resource_not_found
                    message: Consent ID could not be found.
                    errors:
                      domain_error: Consent ID could not be found.
                Provider in Maintenance:
                  value:
                    operation_id: open_banking_authorisation_url_post
                    code_id: provider_maintenance
                    message: The provider is in maintenance.
                    errors:
                      provider: The provider is currently disabled due to planned
                        maintenance or known issues.
        "401":
          description: Unauthorized (BearerToken in 'Authorization' header fails the
            authentication)
        "405":
          description: The request uses an unexpected HTTP method
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/open-banking/authorisation-url/{task_id}:
    get:
      tags:
      - Create a Connection
      summary: Retrieve Authorisation URL
      description: |
        Check the status and get the result of an Initiate Provider Authorisation URL task. If the task is not yet completed, the data element will be null.

        Once the customer has successfully authorised with the ASPSP, Bud will create a task to fetch the relevant data from the ASPSP. The task id created will be passed back within the supplied re-direct url. Please refer to the Check Connection Status endpoint for updates on this fetching process using the task id provided in the redirect URL.
      operationId: open_banking_authorisation_url_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: task_id
        in: path
        description: Bud Task identifier
        required: true
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: The request was successfully processed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskAuthoriseResponse'
              examples:
                complete:
                  summary: Completed
                  value:
                    operation_id: open_banking_authorisation_url_get
                    data:
                      provider: example_provider
                      result: success
                      status: Completed
                      task_id: 16fa0748-8a6b-455b-9be9-30ae257965d8
                      url: https://oauth.example.provider.com/authorization.oauth2?
                    metadata:
                      next_url: /v1/open-banking/authorisation-url/16fa0748-8a6b-455b-9be9-30ae257965d8
                      next_url_delay: 50
                      status: Completed
                pending:
                  summary: Pending
                  value:
                    operation_id: open_banking_authorisation_url_get
                    metadata:
                      status: Pending
                      next_url: /v1/open-banking/authorisation-url/16fa0748-8a6b-455b-9be9-30ae257965d8
                      next_url_delay: 50
                failed:
                  summary: Failed
                  value:
                    operation_id: open_banking_authorisation_url_get
                    metadata:
                      status: Failed
                      next_url: /v1/open-banking/authorisation-url/16fa0748-8a6b-455b-9be9-30ae257965d8
                      next_url_delay: 50
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: open_banking_authorisation_url_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  customer_id: This value should not be blank
        "404":
          description: Task not found
        "405":
          description: The request uses an unexpected HTTP method
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/open-banking/authorisation-codes:
    post:
      tags:
      - Create a Connection
      summary: Submit Authorisation Codes
      description: |
        When using Bud as a TSP (Technical Service Provider) and doing full app-to-app authorisation, the customer is returned from the provider directly back to your app. Your app will then need to send all the query and hash fragment parameters to Bud so that we can complete the connection.

        Query and fragment parameters should be merged with query taking precedence. If you receive a request `/path?a=1#a=2&b=3` then you should perform this request with `{"a":"1","b":"3"}`. Given the nature of the fragment queries most server side languages will not process these so javascript may be required to correctly gather both parameters.

        Regardless of what parameters are present, all of them should be sent to Bud so that we can choose to either continue the connection or to map and record the error.

        Code and error are shown here only because they are the most common parameters you will see, but this object could contain any number of unspecified properties. Currently state is a common property among all authorisation flows and is the current task ID. The state property is not guaranteed for the future of this API contract and will not be treated as backwards incompatible if a new authentication flow does not use it.
      operationId: open_banking_authorisation_codes_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthorisationCodesRequest'
            examples:
              success:
                summary: Authorisation has been successful
                value:
                  state: b55f5f00-8e40-4e9e-8c9e-a292a86eb40c
                  code: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
              error:
                summary: Authorisation has failed
                value:
                  state: b55f5f00-8e40-4e9e-8c9e-a292a86eb40c
                  error: access_denied
        required: true
      responses:
        "202":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthorisationCodesResponse'
              examples:
                Success:
                  description: success
                  value:
                    operation_id: v1_open_banking_authorisation_codes_post
                    data:
                      task_id: b55f5f00-8e40-4e9e-8c9e-a292a86eb40c
                      provider: Barclays
                      status: Completed
                      result: success
                Error:
                  description: error
                  value:
                    operation_id: v1_open_banking_authorisation_codes_post
                    data:
                      task_id: b55f5f00-8e40-4e9e-8c9e-a292a86eb40c
                      provider: Barclays
                      status: Failed
                      result: auth_invalid
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              examples:
                Invalid Body:
                  description: Invalid Body
                  value:
                    operation_id: v1_open_banking_authorisation_codes_post
                    code_id: failed_body_decode
                    message: invalid request body
                    errors:
                      customer_id: This value should not be blank
                Validation Failure:
                  description: Validation Error
                  value:
                    operation_id: v1_open_banking_authorisation_codes_post
                    code_id: failed_validation
                    message: invalid request
                    errors:
                      state: The field is required
      security:
      - OAuth2: []
  /v1/open-banking/connect/{connection_task_id}:
    get:
      tags:
      - Create a Connection
      summary: Retrieve Connection Status
      description: "Check the status of an account connection task. If the task is\
        \ not yet completed, the status will be shown as pending. If the status is\
        \ completed, then the data is ready to be ingested. \n\nThe __connection_task_id__\
        \ is provided as a parameter in the redirect url after the Customer has undergone\
        \ a successful authorisation with a relevant Open Banking provider.\n"
      operationId: open_banking_connect_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: connection_task_id
        in: path
        description: Unique identifier related to a specific connection task
        required: true
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: The request was successfully processed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OpenBankingConnectResponse'
              examples:
                completed:
                  summary: Completed
                  value:
                    operation_id: open_banking_connect_get
                    data:
                      provider: Barclays
                      step: 4
                      text: Completed
                    metadata:
                      status: Completed
                      next_url: /v1/open-banking/connect/360e5821-4f18-4077-83f4-c9a7c1768bea
                      next_url_delay: 50
                pending:
                  summary: Pending
                  value:
                    operation_id: open_banking_connect_get
                    data:
                      provider: Barclays
                      step: 2
                      text: Fetching accounts
                    metadata:
                      status: Pending
                      next_url: /v1/open-banking/connect/360e5821-4f18-4077-83f4-c9a7c1768bea
                      next_url_delay: 50
                failed:
                  summary: Failed
                  value:
                    operation_id: open_banking_connect_get
                    data:
                      provider: Barclays
                      step: 3
                      text: Fetching balances and transactions
                    metadata:
                      status: Failed
                      next_url: /v1/open-banking/connect/360e5821-4f18-4077-83f4-c9a7c1768bea
                      next_url_delay: 50
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: open_banking_connect_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  customer_id: This value should not be blank
        "404":
          description: Task not found
        "405":
          description: The request uses an unexpected HTTP method
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/open-banking/refresh:
    post:
      tags:
      - Manage a Connection
      summary: Initiate Refresh
      description: |
        Download a customer’s latest account information. Refresh the accounts from a single provider with an existing connection. If the customer's consent has expired for this provider, Bud will be unable to refresh the account. This will be confirmed in the response of the refresh status endpoint associated with the `task_id` provided in the response to this endpoint, where the `reconnect_required` field will set to `true`.
      operationId: open_banking_refresh_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OpenBankingRefreshRequest'
            example:
              provider: Barclays
              from: 2019-01-01T00:00:00+00:00
              to: 2019-06-01T00:00:00+00:00
        required: true
      responses:
        "102":
          description: An identical request has been accepted for processing but the
            processing has not been completed yet.
        "202":
          description: A new Task has been generated to request the Customer's bank
            account refresh. The generated `task_id` can be used to check the Task's
            status.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskCreatedResponseOB'
              example:
                operation_id: open_banking_refresh_post
                data:
                  task_id: 360e5821-4f18-4077-83f4-c9a7c1768bea
                metadata:
                  next_url: /v1/open-banking/refresh/360e5821-4f18-4077-83f4-c9a7c1768bea
                  next_url_delay: 50
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              examples:
                Parameter missing:
                  value:
                    operation_id: open_banking_refresh_post
                    code_id: failed_validation
                    message: Failed validation
                    errors:
                      customer_id: This value should not be blank
                      customer_secret: This value should not be blank
                Provider in Maintenance:
                  value:
                    operation_id: open_banking_refresh_post
                    code_id: provider_maintenance
                    message: The provider is in maintenance.
                    errors:
                      provider: The provider is currently disabled due to planned
                        maintenance or known issues.
        "405":
          description: The request uses an unexpected HTTP method
        "5XX":
          description: An unexpected error occurred on the server side
      callbacks:
        EventSubscriptionCallBack:
          '{$request.body#/redirect_url}':
            post:
              summary: Aggregation Sync Notification Callback
              parameters:
              - name: X-Signature
                in: header
                description: The signed request body JWT
                required: true
                schema:
                  type: string
              - name: X-Signing-ID
                in: header
                description: The public key ID which should be used to verify the
                  X-Signature header. Bud's list of public keys can be found at https://assets.thisisbud.com/bud-callback.jwks
                required: true
                schema:
                  type: string
              requestBody:
                description: This callback is sent to your configured Open Banking
                  Sync Complete webhook URL on the completion of a relevant OB synchronisation
                  task.
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/OBSyncWebhookBody'
                    example:
                      data:
                        task_id: 03af1639-78a6-402d-809b-902a0b00a77d
                        status: Completed
                        task_type: refresh
                        customer_id: b6f898f8-99e8-4529-8e90-64d96fe05aa4
                required: true
              responses:
                "200":
                  description: Your server returns this code if it accepts the callback
                "300":
                  description: "The notification will not be retried, redirects will\
                    \ not be followed"
                "400":
                  description: The notification will not be retried
                "500":
                  description: |
                    The request will be retried shortly. If it fails multiple times, we will stop attempting to deliver the notification for this single event.
        RefreshCompletedCallBack:
          '{$request.body#/redirect_url}':
            description: |
              This callback is sent to your configured 'Open banking refresh completed' webhook URL on the completion of a connect task.
            post:
              summary: Refresh Completed Notification Callback
              parameters:
              - name: X-Signature
                in: header
                description: The signed request body JWT
                required: true
                schema:
                  type: string
              - name: X-Signing-ID
                in: header
                description: The public key ID which should be used to verify the
                  X-Signature header. Bud's list of public keys can be found at https://assets.thisisbud.com/bud-callback.jwks
                required: true
                schema:
                  type: string
              requestBody:
                description: This callback is sent to your configured 'Open banking
                  refresh completed' webhook URL on the completion of a refresh task.
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/OBWebhookBody'
                    example:
                      data:
                        task_id: 03af1639-78a6-402d-809b-902a0b00a77d
                        status: Completed
                        result: success
                        task_type: refresh
                        customer_id: b6f898f8-99e8-4529-8e90-64d96fe05aa4
                required: true
              responses:
                "200":
                  description: Your server returns this code if it accepts the callback
                "300":
                  description: "The notification will not be retried, redirects will\
                    \ not be followed"
                "400":
                  description: The notification will not be retried
                "500":
                  description: "The request will be retried shortly. If it fails multiple\
                    \ times, we will stop attempting to deliver the notification for\
                    \ this single event. \n"
      security:
      - OAuth2: []
  /v1/open-banking/refresh/{task_id}:
    get:
      tags:
      - Manage a Connection
      summary: Retrieve Refresh Status
      description: |
        Check the status of an account information refresh task e.g. progress on account information download. If the task is not yet completed, the status will be shown as pending. If the status is completed, then the data is ready to be collected via the [Retrieve OB Data](#tag/Retrieve-OB-Data) endpoints.
      operationId: open_banking_refresh_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: task_id
        in: path
        description: Bud Task identifier
        required: true
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: The request was successfully processed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OpenBankingRefreshResponse'
              examples:
                completed:
                  summary: Completed
                  value:
                    operation_id: open_banking_refresh_get
                    data:
                      provider: Barclays
                      status: Complete
                      result: success
                      reconnect_required: false
                      step: 4
                      text: Completed
                    metadata:
                      has_new_transactions: true
                      status: Complete
                pending:
                  summary: Pending
                  value:
                    operation_id: open_banking_refresh_get
                    data:
                      provider: Barclays
                      status: Pending
                      reconnect_required: false
                      step: 1
                      text: Fetching access token
                    metadata:
                      status: Pending
                      next_url: /v1/open-banking/refresh/360e5821-4f18-4077-83f4-c9a7c1768bea
                      next_url_delay: 50
                failed_provider_failure:
                  summary: Provider Failure
                  value:
                    operation_id: open_banking_refresh_get
                    data:
                      task_id: 1ceb1d81-a80e-4825-a7c0-4d69424c9874
                      provider: Barclays
                      status: Failed
                      result: provider_failure
                      reconnect_required: false
                      step: 2
                      text: Fetching accounts
                    metadata:
                      status: Failed
                failed_connection_not_found:
                  summary: Connection not found
                  value:
                    operation_id: open_banking_refresh_get
                    data:
                      task_id: 1ceb1d81-a80e-4825-a7c0-4d69424c9874
                      provider: Barclays
                      status: Failed
                      result: connection_not_found
                      reconnect_required: false
                      step: 4
                      text: Completed
                    metadata:
                      status: Failed
                failed_reconnect_required:
                  summary: Reconnection Required
                  value:
                    operation_id: open_banking_refresh_get
                    data:
                      provider: Barclays
                      status: Failed
                      result: connection_revoked
                      reconnect_required: true
                      step: 4
                      text: Completed
                    metadata:
                      status: Failed
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: open_banking_refresh_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  customer_id: This value should not be blank
        "405":
          description: The request uses an unexpected HTTP method
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/open-banking/account-access-consents:
    get:
      tags:
      - Manage a Connection
      summary: Retrieve Customer Consents
      description: |
        Retrieve the list of all available Open Banking consents granted by the customer.

        This will only include their respective `account_ids`, when the Customer Secret is included in the request. See the `X-Customer-Secret` header.
      operationId: open_banking_connections_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: false
        schema:
          type: string
      - name: status
        in: query
        description: "Filter connections by connection status. When ommited, only\
          \ active Authorised connections will be shown."
        required: false
        schema:
          type: string
          enum:
          - all
      responses:
        "200":
          description: The list of consents
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetOBConsentsResponse'
              examples:
                withSecret:
                  summary: Request With Secret
                  description: A retrive consents request including the customer secret
                  value:
                    operation_id: open_banking_connections_get
                    data:
                    - id: 1ceb1d81-a80e-4825-a7c0-4d69424c9874
                      customer_id: 8e826e72-5cab-4426-897f-5317992a95f0
                      provider: Natwest_Sandbox
                      transaction_from_date: 2020-03-23T14:46:32Z
                      expiration_date: 2021-06-21T14:46:33Z
                      created_at: 2021-03-23T14:46:33Z
                      last_consented_on: 2021-03-23T14:47:01Z
                      status: authorised
                      permissions:
                      - ReadAccounts
                      - ReadBalances
                      - ReadTransactions
                      raw_version: v1.1
                      raw_format: obie
                      raw:
                        ConsentId: 87ccf4c3-62b1-49c1-9a49-26919f954deb
                        TransactionFromDateTime: null
                        StatusUpdateDateTime: null
                        Status: AwaitingAuthorisation
                        Permissions:
                        - ReadAccountsDetail
                        - ReadBalances
                        - ReadTransactionsDetail
                        - ReadTransactionsDebits
                        - ReadTransactionsCredits
                      account_ids:
                      - aa86f72c-476a-3355-b54c-614a815fae40
                      last_synced_at: 2021-06-15T11:01:30.07Z
                    - id: a080272e-c449-4a75-861a-9feb53075946
                      customer_id: 8e826e72-5cab-4426-897f-5317992a95f0
                      provider: Amex
                      transaction_from_date: 2020-04-24T15:46:32Z
                      transaction_to_date: 0001-01-01T00:00:00Z
                      expiration_date: 2021-07-21T14:46:33Z
                      created_at: 2021-04-24T15:42:13Z
                      last_consented_on: 2021-04-24T15:42:13Z
                      status: authorised
                      permissions:
                      - ReadAccounts
                      - ReadBalances
                      - ReadTransactions
                      raw_version: v1.1
                      raw_format: amex
                      raw: null
                      account_ids:
                      - bb98k51y-564t-8560-c99d-232b977gef68
                      last_synced_at: 2021-06-16T09:13:41.32Z
                    metadata:
                      results: 2
                withoutSecret:
                  summary: Request Without Secret
                  description: A retrieve consents request without the customer secret
                  value:
                    operation_id: open_banking_connections_get
                    data:
                    - id: 1ceb1d81-a80e-4825-a7c0-4d69424c9874
                      customer_id: 8e826e72-5cab-4426-897f-5317992a95f0
                      provider: Natwest_Sandbox
                      transaction_from_date: 2020-03-23T14:46:32Z
                      expiration_date: 2021-06-21T14:46:33Z
                      created_at: 2021-03-23T14:46:33Z
                      last_consented_on: 2021-03-23T14:47:01Z
                      status: authorised
                      permissions:
                      - ReadAccounts
                      - ReadBalances
                      - ReadTransactions
                      raw_version: v1.1
                      raw_format: obie
                      raw:
                        ConsentId: 87ccf4c3-62b1-49c1-9a49-26919f954deb
                        TransactionFromDateTime: null
                        StatusUpdateDateTime: null
                        Status: AwaitingAuthorisation
                        Permissions:
                        - ReadAccountsDetail
                        - ReadBalances
                        - ReadTransactionsDetail
                        - ReadTransactionsDebits
                        - ReadTransactionsCredits
                      last_synced_at: 2021-06-15T11:01:30.07Z
                    - id: a080272e-c449-4a75-861a-9feb53075946
                      customer_id: 8e826e72-5cab-4426-897f-5317992a95f0
                      provider: Amex
                      transaction_from_date: 2020-04-24T15:46:32Z
                      transaction_to_date: 0001-01-01T00:00:00Z
                      expiration_date: 2021-07-21T14:46:33Z
                      created_at: 2021-04-24T15:42:13Z
                      last_consented_on: 2021-04-24T15:42:13Z
                      status: authorised
                      permissions:
                      - ReadAccounts
                      - ReadBalances
                      - ReadTransactions
                      raw_version: v1.1
                      raw_format: amex
                      raw: null
                      last_synced_at: 2021-06-16T09:13:41.32Z
                    metadata:
                      results: 2
        "400":
          description: Bad Request that fails validations on headers
        "401":
          description: Unauthorized (BearerToken in 'Authorization' header fails the
            authentication)
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/open-banking/account-access-consent/revoke:
    post:
      tags:
      - Manage a Connection
      summary: Initiate Revoke Consent
      description: |
        Start a task to remove consent to download further customer account information and remove Bud’s ability to download further information for a specified customer account.
      operationId: open_banking_account_access_consent_revoke_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RevokeAccountAccessIntentRequest'
            example:
              provider: Barclays
        required: true
      responses:
        "202":
          description: The request has been accepted for processing
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TaskCreatedResponse'
              example:
                operation_id: open_banking_account_access_consent_revoke_post
                data:
                  task_id: 1ceb1d81-a80e-4825-a7c0-4d69424c9874
        "400":
          description: Bad Request that fails validations on headers & payload
        "401":
          description: Unauthorized (BearerToken in 'Authorization' header fails the
            authentication)
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/open-banking/account-access-consent/revoke/{task_id}:
    get:
      tags:
      - Manage a Connection
      summary: Retrieve Revoke Consent Status
      description: |
        Check the status and result of a Revoke Consent task.
      operationId: open_banking_account_access_consent_revoke_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: task_id
        in: path
        description: Bud Task identifier
        required: true
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RevokeAccountAccessIntentTastStatusResponse'
              examples:
                completed:
                  summary: Completed
                  value:
                    operation_id: open_banking_account_access_consent_revoke_get
                    metadata:
                      status: Completed
                pending:
                  summary: Pending
                  value:
                    operation_id: open_banking_account_access_consent_revoke_get
                    metadata:
                      status: Pending
                failed:
                  summary: Failed
                  value:
                    operation_id: open_banking_account_access_consent_revoke_get
                    metadata:
                      status: Failed
                      error_code: 1
                      error_message: Error message
        "400":
          description: Bad Request that fails validations on headers & payload
        "401":
          description: Unauthorized (BearerToken in 'Authorization' header fails the
            authentication)
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/open-banking/account-access-consents/{consent_id}/reconfirm:
    post:
      tags:
      - Manage a Connection
      summary: Reconfirm Consent
      description: |
        Reconfirm a customer's consent to extend the expiration date by 90 days. If the provider requires SCA authentication or the consent status is not showing "Authorised" or the consent is expired, the `reconnect_required` flag will show as true. If false, the consent has been extended.
      operationId: open_banking_consents_reconfirm_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: consent_id
        in: path
        description: Bud Consent identifier
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReconfirmConsentRequest'
            example:
              provider: Barclays
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ReconfirmConsentResponse'
              example:
                operation_id: open_banking_consents_reconfirm_post
                data:
                  provider_id: Barclays
                  reconnect_required: false
        "400":
          description: Bad Request that fails validations on headers & payload
        "401":
          description: Unauthorized (BearerToken in 'Authorization' header fails the
            authentication)
        "404":
          description: Consent not found
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/ingest/accounts:
    post:
      tags:
      - Ingest First Party Data
      summary: Ingest Accounts
      description: |
        Initiate the asynchronous process of pushing a customer's account(s) and balance(s) through the Bud architecture.

        This request creates a task that stores the given accounts and balances against the specified customers.

        The Task ID returned by this request can be used to verify the current status of the process.
      operationId: ingest_accounts_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: Content-Type
        in: header
        description: Define the transactions' format for this request.
        required: true
        schema:
          type: string
          enum:
          - application/bud-accounts+json
      requestBody:
        content:
          application/bud-accounts+json:
            schema:
              $ref: '#/components/schemas/IngestAccountsRequest'
            example:
            - customer_id: c3339af9-2426-44d4-9c4d-ddb8fd281e23
              customer_secret: 95793c357ce9f3738f302db9579e453d03ce44eba814512d0c8038f7c376f586
              accounts:
              - provider: Barclays
                account_id: 99473c28-21cf-4a9a-b79e-fd643dd7a4bc
                currency: GBP
                account_type: Personal
                account_sub_type: CurrentAccount
                details:
                - scheme_name: UK.OBIE.SortCodeAccountNumber
                  identification: "98765432165444"
                  secondary_identification: "00021"
                  name: Mr Kevin
                balances:
                - amount:
                    value: "7.00"
                    currency: GBP
                  credit_debit_indicator: outgoing_debit
                  credit_line:
                  - included: true
                    amount:
                      value: "200.00"
                      currency: GBP
                    type: Credit
                  date: 2020-12-01
                  time: 00:00:00
                  type: InterimBooked
            - customer_id: 85db4cdf-5f79-4f4e-8388-f9a52da598a2
              customer_secret: 6075654df0e057e97535ab31b80561d7d9e8409606738c2633cdd6dab63e089a
              accounts:
              - provider: Lloyds
                account_id: bfd4ea71-58d7-4b24-8820-95029875cc9a
                currency: GBP
                account_type: Personal
                account_sub_type: CurrentAccount
                details:
                - scheme_name: UK.OBIE.SortCodeAccountNumber
                  identification: "12312312313200"
                  secondary_identification: "00022"
                  name: Mr Kevin
                balances:
                - amount:
                    value: "70005.00"
                    currency: GBP
                  credit_debit_indicator: incoming_credit
                  credit_line:
                  - included: true
                    amount:
                      value: "100.00"
                      currency: GBP
                    type: Credit
                  date: 2020-12-01
                  time: 00:00:00
                  type: InterimBooked
        required: true
      responses:
        "202":
          description: A new Task has been created to ingest the given accounts. The
            generated `task_id` can be used to check the Task's status
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IngestTransactionsResponse'
              example:
                operation_id: ingest_accounts_post
                data:
                  task_id: 4cef424c-1d7f-4cab-8be2-aee7e1774a00
                metadata:
                  next_url: /v1/ingest/accounts/4cef424c-1d7f-4cab-8be2-aee7e1774a00
                  next_url_delay: 50
        "400":
          description: Bad Request that fails validations on headers & payload
        "401":
          description: Unauthorized (BearerToken in 'Authorization' header fails the
            authentication)
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/ingest/accounts/{task_id}:
    get:
      tags:
      - Ingest First Party Data
      summary: Retrieve Accounts Ingestion Task Status
      description: |
        Check the status of an ingest accounts request.

        The given status has an overall value and a specific status for each given customer.
      operationId: ingest_accounts_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: task_id
        in: path
        description: Bud Task identifier
        required: true
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: The request was successfully processed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IngestStatusResponse'
              examples:
                Success:
                  value:
                    summary: Successfully completed
                    operation_id: ingest_accounts_get
                    data:
                      id: 4cef424c-1d7f-4cab-8be2-aee7e1774a00
                      status: Completed
                      sub_tasks:
                      - id: e6277c5a-c73d-47f5-847f-36bff8618691
                        customer_id: c3339af9-2426-44d4-9c4d-ddb8fd281e23
                        status: Completed
                        errors: null
                      - id: 661d6ec2-1b08-4f30-9ede-d4d18db26b09
                        customer_id: 85db4cdf-5f79-4f4e-8388-f9a52da598a2
                        status: Completed
                        errors: null
                Validation Failure:
                  value:
                    summary: Validation error
                    operation_id: ingest_accounts_get
                    data:
                      id: 4cef424c-1d7f-4cab-8be2-aee7e1774a00
                      status: Failed
                      sub_tasks:
                      - id: e6277c5a-c73d-47f5-847f-36bff8618691
                        customer_id: c3339af9-2426-44d4-9c4d-ddb8fd281e23
                        status: Failed
                        errors:
                          accounts.0.account_id: account_id is required
                          accounts.1.provider: provider is required
                      - id: 661d6ec2-1b08-4f30-9ede-d4d18db26b09
                        customer_id: 85db4cdf-5f79-4f4e-8388-f9a52da598a2
                        status: Failed
                        errors:
                          accounts.1.provider: provider is required
                Transient Failure:
                  value:
                    operation_id: ingest_accounts_get
                    data:
                      id: 4cef424c-1d7f-4cab-8be2-aee7e1774a00
                      status: Failed
                      sub_tasks:
                      - id: e6277c5a-c73d-47f5-847f-36bff8618691
                        customer_id: c3339af9-2426-44d4-9c4d-ddb8fd281e23
                        status: Failed
                        errors:
                          error: unable to persist accounts
        "405":
          description: The request uses an unexpected HTTP method
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/ingest/transactions:
    post:
      tags:
      - Ingest First Party Data
      summary: Ingest Transactions
      description: |
        Initiate the asynchronous process of pushing a customer's transaction(s) through the Bud architecture to apply Bud's enrichment and insights services to first party transactional data. This request creates a task that stores the given transactions against the specified customers and initiates the relevant enrichment process.

        The enrichment services applied to the data will depend upon the relevant scopes assigned to your Client ID.

        The Task ID returned by this request can be used to verify the current status of the process.
      operationId: ingest_transactions_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: Content-Type
        in: header
        description: Define the transactions' format for this request.
        required: true
        schema:
          type: string
          enum:
          - application/bud-transaction-v2+json
      requestBody:
        content:
          application/bud-transaction-v2+json:
            schema:
              $ref: '#/components/schemas/IngestTransactionsRequest'
        required: true
      responses:
        "202":
          description: A new Task has been created to ingest the given transactions.
            The generated `task_id` can be used to check the Task's status
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IngestTransactionsResponse'
              example:
                operation_id: ingest_transactions_post
                data:
                  task_id: 4cef424c-1d7f-4cab-8be2-aee7e1774a00
                metadata:
                  next_url: /v1/ingest/transactions/4cef424c-1d7f-4cab-8be2-aee7e1774a00
                  next_url_delay: 50
        "400":
          description: Bad Request that fails validations on headers & payload
        "401":
          description: Unauthorized (BearerToken in 'Authorization' header fails the
            authentication)
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v2/ingest/transactions:
    post:
      tags:
      - Ingest First Party Data
      summary: Ingest Transactions V2
      description: |
        This endpoint initiates a 'blocking' transaction ingestion and enrichment process. It will return partially enriched transactions and a Task ID which would then be used for finding out the current status of the full enrichment process. The complete enrichment services applied to the data will depend upon the relevant scopes assigned to your Client ID.

        If a 'X-Disable-Synchronous' header is present and set to true, the process will be entirely 'non-blocking', with the returned Task ID providing access to the status of the full enrichment process.
      operationId: v2_ingest_transactions_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: Content-Type
        in: header
        description: Define the transactions' format for this request.
        required: true
        schema:
          type: string
          enum:
          - application/bud-transaction-v3+json
          - application/bud-transaction-v2+json
      - name: X-Disable-Synchronous
        in: header
        description: "If provided as true, the task will not be processed synchronously"
        schema:
          type: string
          enum:
          - "true"
      requestBody:
        content:
          application/bud-transaction-v3+json:
            schema:
              $ref: '#/components/schemas/IngestTransactionsV3Request'
        required: true
      responses:
        "200":
          description: "The synchronous enrichment request has succeeded and enriched\
            \ transaction returned. \n\nA new Task has been created to ingest and\
            \ fully enrich the given transactions. \n\nThe generated `task_id` can\
            \ be used to check the Task's status.\n"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IngestV2SyncResponse'
              example:
                operation_id: v2_ingest_transactions_post
                data:
                - customer_id: 4cef424c-1d7f-4cab-8be2-aee7e1774a00
                  enriched_transactions:
                  - transaction_id: another_transaction_id
                    account_id: another_account_id
                    description: paypal* specialty coffee london GBR
                    credit_debit_indicator: debit
                    status: booked
                    amount:
                      value: "10.99"
                      currency: GBP
                    date_time: 2022-05-28T10:00:00Z00:00
                    enrichments:
                      categories:
                        l1:
                          slug: eating_out
                          confidence: "0.99"
                        l2:
                          slug: cafes_and_eating_out
                          confidence: "0.98"
                      merchant:
                        id: 01cc2d49-6144-46f1-9414-67c99b139a95
                        slug: specialty_coffee
                        display_name: Specialty Coffee Supplier Ltd.
                        logo: http://url/specialty_coffee_supplier_logo.jpeg
                      processor:
                        id: 18f63293-0217-4520-bbf0-071dca7a9d04
                        slug: paypal
                        display_name: PayPal
                        logo: http://url/paypal_logo.jpeg
                      names:
                      - jane doe
                metadata:
                  task_id: 4cef424c-1d7f-4cab-8be2-aee7e1774a00
                  next_url: /v1/ingest/transactions/4cef424c-1d7f-4cab-8be2-aee7e1774a00
                  next_url_delay: 50
        "202":
          description: A new Task has been created to ingest the given transactions.
            The generated `task_id` can be used to check the Task's status
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IngestV2AsyncResponse'
              example:
                operation_id: v2_ingest_transactions_post
                metadata:
                  task_id: 4cef424c-1d7f-4cab-8be2-aee7e1774a00
                  next_url: /v1/ingest/transactions/4cef424c-1d7f-4cab-8be2-aee7e1774a00
                  next_url_delay: 50
        "400":
          description: The server will not process the request due to a client error.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400'
        "401":
          description: Unauthorized (BearerToken in 'Authorization' header fails the
            authentication)
        "5XX":
          description: An unexpected error occurred on the server side
        "503":
          description: An unexpected error occurred on the enrichment server. Sync
            Only
        "504":
          description: An unexpected timeout occurred on the enrichment server. Sync
            Only
      security:
      - OAuth2: []
  /v1/ingest/transactions/{task_id}:
    get:
      tags:
      - Ingest First Party Data
      summary: Retrieve Transaction Ingestion Task Status
      description: |
        Check the status of an ingest transactions request. Please note that this works for both the Ingest Transactions V1 and V2 endpoints.

        The given status has an overall value and a specific status for each given customer.
      operationId: ingest_transactions_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: task_id
        in: path
        description: Bud Task identifier
        required: true
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: The request was successfully processed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IngestStatusResponse'
              examples:
                Success:
                  value:
                    operation_id: ingest_transactions_get
                    data:
                      id: 4cef424c-1d7f-4cab-8be2-aee7e1774a00
                      status: Completed
                      sub_tasks:
                      - id: e6277c5a-c73d-47f5-847f-36bff8618691
                        customer_id: c3339af9-2426-44d4-9c4d-ddb8fd281e23
                        status: Completed
                        errors: null
                      - id: 661d6ec2-1b08-4f30-9ede-d4d18db26b09
                        customer_id: 85db4cdf-5f79-4f4e-8388-f9a52da598a2
                        status: Completed
                        errors: null
                Validation Failure:
                  value:
                    operation_id: ingest_transactions_get
                    data:
                      id: 4cef424c-1d7f-4cab-8be2-aee7e1774a00
                      status: Failed
                      sub_tasks:
                      - id: e6277c5a-c73d-47f5-847f-36bff8618691
                        customer_id: c3339af9-2426-44d4-9c4d-ddb8fd281e23
                        status: Failed
                        errors:
                          transactions.0.provider: provider is required
                          transactions.0.account_id: account_id is required
                          transactions.1.provider: provider is required
                          transactions.2.transaction_id: transaction_id is required
                      - id: 661d6ec2-1b08-4f30-9ede-d4d18db26b09
                        customer_id: 85db4cdf-5f79-4f4e-8388-f9a52da598a2
                        status: Failed
                        errors:
                          transactions.1.provider: provider is required
                Transient Failure:
                  value:
                    operation_id: ingest_transactions_get
                    data:
                      id: 4cef424c-1d7f-4cab-8be2-aee7e1774a00
                      status: Failed
                      sub_tasks:
                      - id: e6277c5a-c73d-47f5-847f-36bff8618691
                        customer_id: c3339af9-2426-44d4-9c4d-ddb8fd281e23
                        status: Failed
                        errors:
                          error: unable to persist transactions
        "400":
          description: The server will not process the request due to a client error.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_400_1'
        "405":
          description: The request uses an unexpected HTTP method
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/customers:
    post:
      tags:
      - Manage Customers
      summary: Create Customer
      description: |
        This endpoint is used to create a new Customer in order for them to consume the Bud services.

        **Please note: this endpoint is now deprecated, please migrate to using the POST /v2/customers endpoint.**
      operationId: customers_create
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v1_customers_body'
            example:
              customer_context:
                type: personal
                region: GB
                locale: en-GB
        required: false
      responses:
        "201":
          description: The resource has been successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerCreateResponse'
              example:
                operation_id: customers_create
                data:
                  customer_id: 360e5821-4f18-4077-83f4-c9a7c1768bea
                  customer_secret: 63ae14a67e5cf8c8f7bf5376479d13e9
                  customer_context:
                    type: personal
                    region: GB
                    locale: en-GB
        "400":
          description: The request contains an invalid payload.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: customers_create
                code_id: failed_validation
                message: Failed validation.
                errors:
                  client_id: This value should not be blank
        "401":
          description: An unauthenticated request was received.
        "405":
          description: The request uses an unexpected HTTP method.
        "5XX":
          description: An unexpected error occurred on the server side.
      deprecated: true
      security:
      - OAuth2: []
  /v2/customers:
    post:
      tags:
      - Manage Customers
      summary: Create Customer(s)
      description: This endpoint is used to create new Customers in order for them
        to consume the Bud services.
      operationId: v2_customers_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCustomersPayload'
            example:
              number_of_customers: 3
              customer_context:
                type: personal
                region: GB
                locale: en-GB
        required: false
      responses:
        "201":
          description: The resource has been successfully created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomersCreateResponse'
              examples:
                Multiple Customers:
                  value:
                    operation_id: v2_customers_post
                    data:
                    - customer_id: 360e5821-4f18-4077-83f4-c9a7c1768bea
                      customer_secret: 63ae14a67e5cf8c8f7bf5376479d13e9
                      customer_context:
                        type: personal
                        region: GB
                        locale: en-GB
                    - customer_id: 7788d43e-4eb1-11eb-ae93-0242ac130002
                      customer_secret: 63ae14a67e5cf8c8f7bf5376479d13e5
                      customer_context:
                        type: personal
                        region: GB
                        locale: en-GB
                    - customer_id: 8e4b6f88-4eb1-11eb-ae93-0242ac130002
                      customer_secret: a951d12bf19e2874254cb2833dc5a8c3
                      customer_context:
                        type: personal
                        region: GB
                        locale: en-GB
                    metadata:
                      results: 3
                Single Customer:
                  value:
                    operation_id: v2_customers_post
                    data:
                    - customer_id: 360e5821-4f18-4077-83f4-c9a7c1768bea
                      customer_secret: 63ae14a67e5cf8c8f7bf5376479d13e9
                      customer_context:
                        type: personal
                        region: GB
                        locale: en-GB
                    metadata:
                      results: 1
        "400":
          description: The request contains an invalid payload.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v2_customers_post
                code_id: failed_validation
                message: Failed validation.
                errors:
                  client_id: This value should not be blank
        "401":
          description: An unauthenticated request was received.
        "405":
          description: The request uses an unexpected HTTP method.
        "5XX":
          description: An unexpected error occurred on the server side.
      security:
      - OAuth2: []
  /v1/customers/{customer_id}:
    delete:
      tags:
      - Manage Customers
      summary: Remove Customer
      description: This endpoint is used to delete an existing Customer.
      operationId: customers_delete
      parameters:
      - name: customer_id
        in: path
        description: The resource identifier.
        required: true
        style: simple
        explode: false
        schema:
          type: string
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      responses:
        "204":
          description: The request was successfully processed and no content is returned.
        "401":
          description: An unauthenticated request was received.
        "404":
          description: The resource was not found.
        "405":
          description: The request uses an unexpected HTTP method.
        "5XX":
          description: An unexpected error occurred on the server side.
      security:
      - OAuth2: []
  /v1/customers/{customer_id}/context:
    get:
      tags:
      - Manage Customers
      summary: Retrieve Customer Context
      description: "Retrieve the customer level customer context, i.e. a set of parameters\
        \ that defines their language, region and their customer type."
      operationId: v1_customer_context_get
      parameters:
      - name: customer_id
        in: path
        description: The resource identifier.
        required: true
        style: simple
        explode: false
        schema:
          type: string
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerContextResponse'
              example:
                operation_id: v1_customer_context_get
                data:
                  type: personal
                  region: GB
                  locale: en-GB
        "401":
          description: An unauthenticated request was received.
        "404":
          description: The resource was not found.
        "405":
          description: The request uses an unexpected HTTP method.
        "5XX":
          description: An unexpected error occurred on the server side.
      security:
      - OAuth2: []
    put:
      tags:
      - Manage Customers
      summary: Update Customer Context
      description: Set the customer level customer context.
      operationId: v1_customer_context_put
      parameters:
      - name: customer_id
        in: path
        description: The resource identifier.
        required: true
        style: simple
        explode: false
        schema:
          type: string
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateCustomerContextRequest'
            example:
              region: GB
              locale: en-GB
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpdateCustomerContextResponse'
              example:
                operation_id: v1_customer_context_put
                data:
                  region: GB
                  locale: en-GB
        "401":
          description: An unauthenticated request was received.
        "404":
          description: The resource was not found.
        "405":
          description: The request uses an unexpected HTTP method.
        "5XX":
          description: An unexpected error occurred on the server side.
      security:
      - OAuth2: []
  /v1/categories/double-cat:
    get:
      tags:
      - Enrichment Resources
      summary: Retrieve Categories
      description: |
        Retrieve a list of primary and secondary categories supported by Bud's current categorisation engine.
      operationId: categories_double_cat_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: format
        in: query
        description: |
          Determines if the response will be structured:
            - As a flat object where all categories and subcategories are listed separately under different fields. See the example response `Flat Response`.
            - As a map where all categories are listed as objects themselves with their respective subcategories listed in fields within the category objects. See the example response `Map Response`.
        required: false
        style: form
        explode: true
        schema:
          type: string
          default: flat
          enum:
          - map
          - flat
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoriesResponse'
              examples:
                Flat Response:
                  value:
                    operation_id: categories_double_cat_get
                    data:
                      categories:
                      - bills
                      - eating_out
                      - entertainment
                      - expenses
                      - finances
                      - general
                      - groceries
                      - personal_care
                      - services
                      - shopping
                      - transport
                      - travel
                      subcategories:
                      - accommodation
                      - activities
                      - bars_and_pubs
                      - beauty
                      - benefits
                      - boat
                      - books_and_reading
                      - bus
                      - business_expenses
                      - cafes_and_lunch
                      - car_payments
                      - car_sharing
                      - care_provision
                      - cash_withdrawals
                      - charity
                      - childcare
                      - children_and_babies
                      - cinema
                      - cleaning
                      - clothing
                      - convenience_stores
                      - credit_cards
                      - cycling
                      - department_stores
                      - education_and_school_fees
                      - electronics
                      - events
                      - fast_food
                      - flights
                      - furniture_and_appliances
                      - gambling_and_betting
                      - gaming
                      - gardening
                      - general_banking
                      - gym_and_fitness
                      - hardware_and_diy
                      - healthcare
                      - home_improvements
                      - income
                      - insurance
                      - interest_payments
                      - investments
                      - laundry
                      - loans
                      - mobile_phone
                      - mortgage_and_rent
                      - museums_and_art_galleries
                      - music
                      - online_shopping
                      - other_bills
                      - other_eating_out
                      - other_entertainment
                      - other_expenses
                      - other_finances
                      - other_general
                      - other_groceries
                      - other_personal_care
                      - other_services
                      - other_shopping
                      - other_transport
                      - other_travel
                      - package_holidays
                      - parking_and_tolls
                      - pensions
                      - petrol
                      - pets
                      - pharmacies_and_health_products
                      - postage_and_shipping
                      - public_transport
                      - refunds
                      - repairs
                      - restaurants
                      - savings
                      - service_stations
                      - software_and_apps
                      - speciality_food_and_drink_shops
                      - sports
                      - subscriptions
                      - supermarkets
                      - takeaway
                      - taxes
                      - taxi
                      - train
                      - transfers_in
                      - transfers_out
                      - travel_purchases
                      - tv_broadband_and_phone
                      - utilities
                      - vehicle
                      - vehicle_hire
                Map Response:
                  value:
                    operation_id: categories_double_cat_get
                    data:
                    - name: bills
                      subcategories:
                      - name: taxes
                      - name: mortgage_and_rent
                      - name: utilities
                      - name: other_bills
                    - name: eating_out
                      subcategories:
                      - name: bars_and_pubs
                      - name: restaurants
                      - name: other_eating_out
                    - name: entertainment
                      subcategories:
                      - name: books_and_reading
                      - name: events
                      - name: gambling_and_betting
                      - name: subscriptions
                      - name: cinema
                      - name: other_entertainment
                    - name: expenses
                      subcategories:
                      - name: business_expenses
                      - name: other_expenses
                    - name: finances
                      subcategories:
                      - name: income
                      - name: savings
                      - name: loans
                      - name: other_finances
                    - name: general
                      subcategories:
                      - name: other_general
                    - name: groceries
                      subcategories:
                      - name: supermarkets
                      - name: convenience_stores
                    - name: personal_care
                      subcategories:
                      - name: healthcare
                      - name: beauty
                      - name: gym_and_fitness
                      - name: pharmacies_and_health_products
                      - name: other_personal_care
                    - name: services
                      subcategories:
                      - name: other_services
                    - name: shopping
                      subcategories:
                      - name: department_stores
                      - name: other_shopping
                    - name: transport
                      subcategories:
                      - name: public_transport
                      - name: petrol
                      - name: parking_and_tolls
                      - name: service_stations
                      - name: taxi
                      - name: vehicle
                      - name: vehicle_hire
                      - name: other_transport
                    - name: travel
                      subcategories:
                      - name: travel_purchases
                      - name: flights
                      - name: other_travel
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: categories_double_cat_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  client_id: This value should not be blank
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/categories/totals:
    get:
      tags:
      - Enrichment Totals
      summary: Retrieve Category Totals
      description: |
        Provides a customer’s total income and expenditure for each primary and secondary category, over a given time period.

        The header parameters X-From and X-To allow you to filter the result to a specified datetime range.
      operationId: v1_categories_totals_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: "Date (YYYY-MM-DD) from which the transactions should be returned\
          \ from, this works in pair with the 'X-To' parameter"
        required: false
        schema:
          type: string
        example: 2022-02-28
      - name: X-To
        in: header
        description: "Date (YYYY-MM-DD) from which the transactions should be returned\
          \ to, this works in pair with the 'X-From' parameter"
        required: false
        schema:
          type: string
        example: 2022-03-30
      responses:
        "200":
          description: The operation was successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoriesTotalResponse'
              example:
                operation_id: v1_categories_totals_get
                data:
                  categories:
                  - category:
                      id: shopping
                      label: Shopping
                    credit_amount:
                    - value: "15.90"
                      currency: GBP
                    debit_amount:
                    - value: "397.80"
                      currency: GBP
                  sub_categories:
                  - category:
                      id: gaming
                      label: Gaming
                    credit_amount:
                    - value: "9.99"
                      currency: GBP
                    debit_amount:
                    - value: "0.00"
                      currency: GBP
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_categories_totals_get
                code_id: failed_validation
                message: Failed validation.
                errors:
                  client_id: This value should not be blank
        "401":
          description: An unauthenticated request was received
        "405":
          description: The request uses an unexpected HTTP method
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/merchants/totals:
    get:
      tags:
      - Enrichment Totals
      summary: Retrieve Merchant Totals V1
      description: |
        Provides a customer’s total income and expenditure for each merchant.
      operationId: merchants_totals_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: Transaction from date
        schema:
          type: string
        example: 2022-01-29
      - name: X-To
        in: header
        description: Transaction to date
        schema:
          type: string
        example: 2022-03-29
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MerchantTotalsResponse'
              example:
                operation_id: merchants_totals_get
                data:
                  total_outgoing:
                    amount: "5838.11"
                    currency: GBP
                  total_incoming:
                    amount: "15001.00"
                    currency: GBP
                  unknown_spend:
                    amount: "5782.48"
                    currency: GBP
                    transactions: 11
                  merchant_spend:
                    argos:
                      amount: "10.45"
                      currency: GBP
                      transactions: 1
                    tesco:
                      amount: "10.45"
                      currency: GBP
                      transactions: 1
                    uber:
                      amount: "34.73"
                      currency: GBP
                      transactions: 2
                metadata:
                  from: 2018-01-01
                  to: 2018-01-17
                  transaction_count: 3
        "204":
          description: No transactions found
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: merchants_totals_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  client_id: This value should not be blank
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      deprecated: true
      security:
      - OAuth2: []
  /v2/merchants/totals:
    get:
      tags:
      - Enrichment Totals
      summary: Retrieve Merchant Totals V2
      description: |
        Provides a customer’s total debit and credit amounts for each merchant.
      operationId: v2_merchants_totals_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: Transaction from date
        schema:
          type: string
        example: 2022-01-29
      - name: X-To
        in: header
        description: Transaction to date
        schema:
          type: string
        example: 2022-03-29
      - name: X-Include-Categories
        in: header
        description: Comma-separated list of transaction categories to include in
          the total
        schema:
          type: string
        example: "shopping,entertainment"
      - name: X-Exclude-Categories
        in: header
        description: Comma-separated list of transaction categories to exclude from
          the total
        schema:
          type: string
        example: "bills,finances"
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MerchantTotalsResponseV2'
              example:
                operation_id: v2_merchants_totals_get
                data:
                - merchant:
                    id: tesco
                    logo: https://thisisbud.com/merchants/tesco.png
                    name: Tesco
                  total_debit:
                    value: "130.23"
                    currency: GBP
                  total_credit:
                    value: "12.21"
                    currency: GBP
                  transaction_count: 8
                - merchant:
                    id: waitrose
                    logo: https://thisisbud.com/merchants/waitrose.png
                    name: Waitrose
                  total_debit:
                    value: "240.23"
                    currency: GBP
                  total_credit:
                    value: "6.56"
                    currency: GBP
                  transaction_count: 10
                metadata:
                  from: 2018-01-01
                  to: 2018-01-17
                  results: 2
        "204":
          description: No transactions found
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v2_merchants_totals_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  client_id: This value should not be blank
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/benefits/totals:
    get:
      tags:
      - Enrichment Totals
      summary: Retrieve Benefits Totals
      description: |
        Provides a customers' total income under each detected benefit type
      operationId: v1_benefits_totals_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: Transaction from date
        schema:
          type: string
        example: 2022-01-29
      - name: X-To
        in: header
        description: Transaction to date
        schema:
          type: string
        example: 2022-03-29
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BenefitsTotalsResponseV1'
              example:
                operation_id: v1_benefits_totals_get
                data:
                - benefit:
                    type: disability_living_allowance
                    display_name: Disability Living Allowance
                  total_credit:
                    value: "333.28"
                    currency: GBP
                metadata:
                  from: 2022-03-19
                  to: 2022-04-19
                  results: 1
        "204":
          description: No transactions found
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: merchants_totals_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  client_id: This value should not be blank
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /financial/v2/accounts:
    get:
      tags:
      - Retrieve Financial Data
      summary: Retrieve Accounts V2
      description: |
        Retrieves a list of a customer's connected accounts. The result can be filtered using the parameters outlined below.
      operationId: financial_v2_accounts
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: currency
        in: query
        description: Use this parameter to filter the results returned on the `currency`
          associated with each result. Multiple values are accepted. If this parameter
          is not provided then results of any `currency` will be returned.
        schema:
          type: string
        example: GBP
      - name: provider
        in: query
        description: Use this parameter to filter the results returned on the `provider`
          associated with each result. Multiple values are accepted. If this parameter
          is not provided then results of any `provider` will be returned."
        schema:
          type: string
        example: BankOfBud
      - name: account_type
        in: query
        description: |
          Use this parameter to filter the results returned on the `account_type` associated with each result. Multiple values are accepted. If this parameter is not provided then results of any `account_type` will be returned.

          Currently supported values include (but are not necessarily limited to):
            - `charge_card`
            - `credit_card`
            - `current_account`
            - `e_money`
            - `loan`
            - `mortgage`
            - `pre_paid_card`
            - `savings`
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: current_account
      - name: usage_type
        in: query
        description: |
          Use this parameter to filter the results returned on the `usage_type` associated with each result. Multiple values are accepted. If this parameter is not provided then results of any `usage_type` will be returned.

          Currently supported values include (but are not necessarily limited to):
            - `personal`
            - `business`
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: personal
      - name: holder_relationship_type
        in: query
        description: |
          Use this parameter to filter the results returned on the `holder_relationship_type` associated with each result. Multiple values are accepted. If this parameter is not provided then results of any `holder_relationship_type` will be returned.

          Currently supported values include (but are not necessarily limited to):
            - `sole`
            - `joint`
            - `delegate`
            - `unknown`
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: joint
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListAccountsV2Response'
              examples:
                Account Without Parties Data:
                  value:
                    operation_id: financial_v2_accounts
                    data:
                    - account_id: ee7a2d6a-2baa-461a-aca2-844e88a3f3e7
                      currency: GBP
                      holder:
                        name: David Smith
                        relationship: unknown
                      account_name: My Current Account
                      account_type: current_account
                      usage_type: personal
                      provider: BankOfBud
                      identifiers:
                        uk_sort_code: "126432"
                        uk_account_number: "31510604"
                      balances:
                      - date: 2023-01-12T00:00:00Z
                        amount:
                          value: "3552.61"
                          currency: GBP
                        type: interim_booked
                        credit_debit_indicator: credit
                      - date: 2023-01-12T00:00:00Z
                        amount:
                          value: "3552.61"
                          currency: GBP
                        type: expected
                        credit_debit_indicator: credit
                      credit_lines:
                      - date: 2023-01-12T00:00:00Z
                        type: credit
                        amount:
                          value: "1000.00"
                          currency: GBP
                    metadata:
                      parameters:
                        currencies:
                        - GBP
                      result_count: 1
                Account With Parties Data:
                  value:
                    operation_id: financial_v2_accounts
                    data:
                    - account_id: 928fed73-2eb9-4910-8a26-22b6c76fb9fa
                      currency: GBP
                      holders:
                      - name: David Smith
                        relationship: joint
                      - name: Jane Smith
                        relationship: joint
                      account_name: Household Account
                      account_type: current_account
                      usage_type: personal
                      provider: BankOfBud
                      identifiers:
                        uk_sort_code: "124332"
                        uk_account_number: "12642318"
                      balances:
                      - date: 2023-01-12T00:00:00Z
                        amount:
                          value: "3552.61"
                          currency: GBP
                        type: interim_booked
                        credit_debit_indicator: credit
                      - date: 2023-01-12T00:00:00Z
                        amount:
                          value: "3552.61"
                          currency: GBP
                        type: expected
                        credit_debit_indicator: credit
                      credit_lines:
                      - date: 2023-01-12T00:00:00Z
                        type: credit
                        amount:
                          value: "1000.00"
                          currency: GBP
                    metadata:
                      parameters: null
                      result_count: 1
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              examples:
                CustomerID Not Sent:
                  value:
                    operation_id: financial_v2_accounts
                    code_id: failed_validation
                    message: Invalid request payload.
                    errors:
                      error:
                        X-Customer-Id: not present
                CustomerID and CustomerSecret Not Sent:
                  value:
                    operation_id: financial_v2_accounts
                    code_id: failed_validation
                    message: Invalid request payload.
                    errors:
                      error:
                        X-Customer-Id: not present
                        X-Customer-Secret: not present
        "500":
          description: Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
              example:
                operation_id: unknown
                code_id: unknown
                message: "An error occurred while processing your request. Get in\
                  \ touch with us and provide us your request id: 7ef63242-ba6d-4661-8014-f9eaa9cb2ad8"
      security:
      - OAuth2: []
  /financial/v2/accounts/{account_id}:
    get:
      tags:
      - Retrieve Financial Data
      summary: Retrieve Account By ID V2
      description: |
        Retrieves a customer's connected account by its ID.
      operationId: financial_v2_accounts_account_id
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: account_id
        in: path
        description: The account ID to retrieve data for.
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RetrieveAccountByIDV2Response'
              examples:
                Single Holder Personal Account:
                  value:
                    operation_id: financial_v2_accounts_account_id
                    data:
                      account_id: ee7a2d6a-2baa-461a-aca2-844e88a3f3e7
                      currency: GBP
                      holder:
                        name: David Smith
                        relationship: unknown
                      account_name: My Current Account
                      account_type: current_account
                      provider: BankOfBud
                      identifiers:
                        uk_sort_code: "126432"
                        uk_account_number: "31510604"
                      balance:
                        date: 2023-01-12T00:00:00Z
                        booked:
                          amount:
                            value: "3552.61"
                            currency: GBP
                          credit_debit_indicator: debit
                        credit_limit:
                          value: "1000.00"
                          currency: GBP
                    metadata: null
                Multiple Holder Joint Account:
                  value:
                    operation_id: financial_v2_accounts_account_id
                    data:
                      account_id: 928fed73-2eb9-4910-8a26-22b6c76fb9fa
                      currency: GBP
                      holders:
                      - name: David Smith
                        relationship: joint
                      - name: Jane Smith
                        relationship: joint
                      account_name: Household Account
                      account_type: current_account
                      provider: BankOfBud
                      identifiers:
                        uk_sort_code: "124332"
                        uk_account_number: "12642318"
                      balances:
                      - date: 2023-01-12T00:00:00Z
                        amount:
                          value: "3552.61"
                          currency: GBP
                        type: interim_booked
                        credit_debit_indicator: credit
                      - date: 2023-01-12T00:00:00Z
                        amount:
                          value: "3552.61"
                          currency: GBP
                        type: expected
                        credit_debit_indicator: credit
                      credit_lines:
                      - date: 2023-01-12T00:00:00Z
                        type: credit
                        amount:
                          value: "1000.00"
                          currency: GBP
                    metadata: null
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              examples:
                CustomerID Not Sent:
                  value:
                    operation_id: financial_v2_accounts_account_id
                    code_id: failed_validation
                    message: Invalid request payload.
                    errors:
                      error:
                        X-Customer-Id: not present
                CustomerID and CustomerSecret Not Sent:
                  value:
                    operation_id: financial_v2_accounts_account_id
                    code_id: failed_validation
                    message: Invalid request payload.
                    errors:
                      error:
                        X-Customer-Id: not present
                        X-Customer-Secret: not present
        "500":
          description: Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
              example:
                operation_id: unknown
                code_id: unknown
                message: "An error occurred while processing your request. Get in\
                  \ touch with us and provide us your request id: 7ef63242-ba6d-4661-8014-f9eaa9cb2ad8"
      security:
      - OAuth2: []
  /financial/v2/balances:
    get:
      tags:
      - Retrieve Financial Data
      summary: Retrieve Balances Over Time
      description: |
        List the balances of each bank account for a customer accross all ingestion sources. Ordered by balance date.

        It calculates the balance for each date, by iterating from the date the account was last refreshed to the `to` and `from` dates provided. It then checks all the transactions within this range, calculating the balance at the end of each day.

        This endpoint limits the date from which it gets balances from either by the oldest `transaction_window` on the account if they are present, or by the oldest transaction within the requested date range available.

        For users ingesting data via the `Ingest Accounts` endpoint, you can increase the range and accuracy of the data supplied from this service by including the transaction_window field upon acccount ingestion.
      operationId: financial_v2_balances_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: from
        in: query
        description: |
          The date from when results are to be retrieved in the format [RFC 3339](https://www.rfc-editor.org/rfc/rfc3339).

          Examples:
            - `2023-01-17T17:29:51Z`
            - `2023-01-17T17:29:51-08:00`
        schema:
          type: string
        example: 2019-02-29T12:23:00Z
      - name: to
        in: query
        description: |
          The date up to when results are to be retrieved in the format [RFC 3339](https://www.rfc-editor.org/rfc/rfc3339).

          Examples:
            - `2023-03-17T17:29:51Z`
            - `2023-03-17T17:29:51-08:00`
        schema:
          type: string
        example: 2019-02-29T12:23:00Z
      - name: granularity
        in: query
        description: |
          Specifies in what interval the balance over time should be retrieved.

          Currently supported values include (but are not necessarily limited to):
            - `daily`
            - `weekly`
            - `biweekly`
            - `monthly`
            - `quarterly`
            - `six_monthly`
            - `annually`
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: daily
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetBalancesResponse'
              example:
                operation_id: financial_v2_balances_get
                data:
                - account_id: 5b271e24-9ea5-4d7e-b5da-64f01d32db22
                  balances:
                  - date: 2022-11-15T23:59:59Z
                    booked:
                      amount:
                        value: "900.00"
                        currency: GBP
                      type: interim_booked
                      credit_debit_indicator: credit
                    pending:
                      amount:
                        value: "850.00"
                        currency: GBP
                      type: expected
                      credit_debit_indicator: credit
                  - date: 2022-11-14T23:59:59Z
                    booked:
                      amount:
                        value: "950.00"
                        currency: GBP
                      type: interim_booked
                      credit_debit_indicator: credit
                    pending:
                      amount:
                        value: "900.00"
                        currency: GBP
                      type: expected
                      credit_debit_indicator: credit
                - account_id: b6e9ea3c-71f9-4572-983a-3e5e85470dad
                  balances:
                  - date: 2022-11-15T23:59:59Z
                    booked:
                      amount:
                        value: "500"
                        currency: JPY
                      type: interim_booked
                      credit_debit_indicator: credit
                metadata:
                  accounts:
                    "5b271e24-9ea5-4d7e-b5da-64f01d32db22":
                      balance_count: 2
                      from: 2022-11-14T23:59:59Z
                      to: 2022-11-15T23:59:59Z
                    b6e9ea3c-71f9-4572-983a-3e5e85470dad:
                      balance_count: 1
                      from: 2022-11-15T23:59:59Z
                      to: 2022-11-15T23:59:59Z
                  parameters:
                    from: 2020-12-22T00:00:00Z
                    to: 2022-11-15T00:00:00Z
                    granularity: daily
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
        "500":
          description: Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
              example:
                operation_id: financial_v2_balances_get
                code_id: internal_error
                message: Internal server error has occurred.
                errors:
                  error: failed to format amount
      security:
      - OAuth2: []
  /financial/v2/accounts/{account_id}/balances:
    get:
      tags:
      - Retrieve Financial Data
      summary: Retrieve Balances Over Time By Account
      description: |
        List the balances of a specific bank account for a customer accross all ingestion sources. Ordered by balance date.

        It calculates the balance for each date, by iterating from the date the account was last refreshed to the `to` and `from` dates provided. It then checks all the transactions within this range, calculating the balance at the end of each day.

        This endpoint limits the date from which it gets balances from either by the oldest `transaction_window` on the account if they are present, or by the oldest transaction within the requested date range available.

        For users ingesting data via the `Ingest Accounts` endpoint, you can increase the range and accuracy of the data supplied from this service by including the transaction_window field upon acccount ingestion.
      operationId: financial_v2_accounts_balances_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: from
        in: query
        description: |
          The date from when results are to be retrieved in the format [RFC 3339](https://www.rfc-editor.org/rfc/rfc3339).

          Examples:
            - `2023-01-17T17:29:51Z`
            - `2023-01-17T17:29:51-08:00`
        schema:
          type: string
        example: 2019-02-29T12:23:00Z
      - name: to
        in: query
        description: |
          The date up to when results are to be retrieved in the format [RFC 3339](https://www.rfc-editor.org/rfc/rfc3339).

          Examples:
            - `2023-03-17T17:29:51Z`
            - `2023-03-17T17:29:51-08:00`
        schema:
          type: string
        example: 2019-02-29T12:23:00Z
      - name: account_id
        in: path
        description: The account ID to retrieve data for.
        required: true
        schema:
          type: string
      - name: granularity
        in: query
        description: Specifies in what interval the balance over time should be retrieved.
        required: false
        style: form
        explode: true
        schema:
          type: string
          enum:
          - daily
          - weekly
          - biweekly
          - monthly
          - quarterly
          - six_monthly
          - annually
        example: daily
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetBalancesForAccountIDResponse'
              example:
                operation_id: financial_v2_accounts_balances_get
                data:
                - date: 2022-11-15T23:59:59Z
                  booked:
                    amount:
                      value: "900.00"
                      currency: GBP
                    type: interim_booked
                    credit_debit_indicator: credit
                  pending:
                    amount:
                      value: "850.00"
                      currency: GBP
                    type: expected
                    credit_debit_indicator: credit
                - date: 2022-11-14T23:59:59Z
                  booked:
                    amount:
                      value: "950.00"
                      currency: GBP
                    type: interim_booked
                    credit_debit_indicator: credit
                  pending:
                    amount:
                      value: "900.00"
                      currency: GBP
                    type: expected
                    credit_debit_indicator: credit
                metadata:
                  account:
                    balance_count: 2
                    from: 2022-11-14T23:59:59Z
                    to: 2022-11-15T23:59:59Z
                  parameters:
                    from: 2020-12-22T00:00:00Z
                    to: 2022-11-15T00:00:00Z
                    granularity: daily
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: financial_v2_accounts_balances_get
                code_id: failed_validation
                message: Invalid request payload.
                errors:
                  CustomerID: not present
                  CustomerSecret: not present
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestNotFoundResponse'
              example:
                operation_id: financial_v2_accounts_balances_get
                code_id: account_not_found
                message: The specified account could not be found. Please check the
                  account identifier is correct. The account might be closed or suspended.
        "500":
          description: Server Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
              example:
                operation_id: financial_v2_accounts_balances_get
                code_id: internal_error
                message: Internal server error has occurred.
                errors:
                  error: failed to format amount
  /financial/v2/transactions:
    get:
      tags:
      - Retrieve Financial Data
      summary: Retrieve Transactions V2
      description: |
        List the transactions for a customer across all ingestion sources. Ordered by `date_time` and then `transaction_id` descending.
      operationId: v2_transactions_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: date_from
        in: query
        description: UTC Date (YYYY-MM-DD) from which the transactions should be returned
          from.
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: 2022-02-28
      - name: date_to
        in: query
        description: UTC Date (YYYY-MM-DD) from which the transactions should be returned
          to.
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: 2022-05-28
      - name: page_size
        in: query
        description: "Maximum number of results to be returned. Defaults to 100, maximum\
          \ is 200"
        required: false
        style: form
        explode: true
        schema:
          type: integer
        example: 100
      - name: page_token
        in: query
        description: The token required to fetch a specific page of results. Provided
          by the `next_page_token` field in the previous request.
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: eyJvZmZzZXQiOjEwMH0
      - name: account_id
        in: query
        description: Identifier of the accounts from which transactions should be
          returned.
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: an_account_id
      - name: merchant
        in: query
        description: Human readable identifier of the merchants for which associated
          transactions should be returned.
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: a_merchant_slug
      - name: category_l1
        in: query
        description: Identifier of the Category Level 1 for which associated transactions
          should be returned.
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: bills
      - name: category_l2
        in: query
        description: Identifier of the Category Level 2 for which associated transactions
          should be returned.
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: tv_and_broadband
      - name: include_tags
        in: query
        description: Tags for which associated transactions should be returned.
        required: false
        style: form
        explode: true
        schema:
          type: array
          items:
            type: string
        example: regular-transaction
      - name: exclude_tags
        in: query
        description: Tags for which associated transactions should not be returned.
        required: false
        style: form
        explode: true
        schema:
          type: array
          items:
            type: string
        example: benefit
      - name: credit_debit_indicator
        in: query
        description: Credit debit indicator for which associated transactions should
          be returned.
        required: false
        style: form
        explode: true
        schema:
          type: string
          enum:
          - credit
          - debit
        example: credit
      responses:
        "200":
          description: The request was successfully processed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListTransactionsResponse'
              examples:
                Multiple Transactions:
                  value:
                    operation_id: v2_transactions_get
                    data:
                    - transaction_id: a_transaction_id
                      account_id: an_account_id
                      provider: a_bank_account_provider
                      description: paypal* specialty coffee
                      credit_debit_indicator: debit
                      status: booked
                      amount:
                        value: "10.99"
                        currency: GBP
                      date_time: 2022-05-28T10:00:00Z
                      enrichments:
                        categories:
                          l1:
                            slug: eating_out
                            confidence: "0.99"
                          l2:
                            slug: cafes_and_eating_out
                            confidence: "0.98"
                        merchant:
                          id: 01cc2d49-6144-46f1-9414-67c99b139a95
                          slug: specialty_coffee
                          display_name: Specialty Coffee Supplier Ltd.
                          logo: http://url/specialty_coffee_supplier_logo.jpeg
                        processor:
                          id: 18f63293-0217-4520-bbf0-071dca7a9d04
                          slug: paypal
                          display_name: PayPal
                          logo: http://url/paypal_logo.jpeg
                        regularity:
                          frequency: monthly
                          predicted_date_times:
                          - 2022-06-28T15:00:00Z
                          - 2022-07-28T15:00:00Z
                          - 2022-08-28T15:00:00Z
                          group_label: a_group_id
                        transaction_types:
                        - card
                        - debit
                        names:
                        - jane doe
                      tags:
                      - regular-transaction
                    - transaction_id: another_transaction_id
                      account_id: another_account_id
                      provider: another_bank_account_provider
                      description: Tesco 2956 London GBR
                      credit_debit_indicator: debit
                      status: booked
                      amount:
                        value: "50.23"
                        currency: GBP
                      date_time: 2022-05-26T10:00:00Z
                      enrichments:
                        categories:
                          l1:
                            slug: eating_out
                            confidence: "0.99"
                          l2:
                            slug: cafes_and_eating_out
                            confidence: "0.98"
                        merchant:
                          id: 0980cf54-6052-4527-84ff-e6f9b169884f
                          slug: tesco_stores
                          display_name: Tesco
                          logo: http://url/tesco_stores_logo.jpeg
                        location:
                          address:
                            address_lines:
                            - 224-226 Portobello Rd
                            - London
                            country: GBR
                        transaction_types:
                        - card
                        - debit
                    metadata:
                      results: 2
                      next_page_token: eyJvZmZzZXQiOjEwMH0
                Single Transaction Without Enrichments:
                  value:
                    operation_id: v2_transactions_get
                    data:
                    - transaction_id: a_transaction_id
                      account_id: an_account_id
                      provider: a_bank_account_provider
                      description: a_transaction_description
                      credit_debit_indicator: credit
                      status: pending
                      amount:
                        value: "10.99"
                        currency: GBP
                      date_time: 2022-01-02T15:00:00Z
                    metadata:
                      results: 1
                      next_page_token: eyJvZmZzZXQiOjEwMH0
                No Transactions:
                  value:
                    operation_id: v2_transactions_get
                    data: []
                    metadata:
                      results: 0
        "401":
          description: An unauthenticated request was received.
        "405":
          description: The request uses an unexpected HTTP method.
        "5XX":
          description: An unexpected error occurred on the server side.
      security:
      - OAuth2: []
  /v1/open-banking/accounts:
    get:
      tags:
      - Retrieve Financial Data
      summary: Retrieve Accounts
      description: "List a customer’s current, credit card and savings accounts held\
        \ on the Bud platform along with each account’s balance. \n\nAn X-Account-Id\
        \ header parameter can be used in order to get the details for a specific\
        \ account.\n"
      operationId: accounts_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-Account-Id
        in: header
        description: The identifier of the Open Banking Account to retrieve
        required: false
        schema:
          type: string
      responses:
        "200":
          description: The request was successfully processed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OBListAccountsResponse'
              examples:
                All accounts:
                  value:
                    operation_id: accounts_get
                    data:
                    - account_id: 3fa85f64-5717-4562-b3fc-2c963f66afa6
                      currency: GBP
                      account_type: Personal
                      account_sub_type: Savings
                      nickname: Holiday Funds
                      details:
                      - scheme_name: UK.OBIE.SortCodeAccountNumber
                        identification: "80200110203345"
                        name: Mr Kevin
                        secondary_identification: "00021"
                      provider: HSBC
                      balances:
                      - account_id: aa86f72c-476a-3355-b54c-614a815fae40
                        amount:
                          amount: "357.90"
                          currency: GBP
                        credit_debit_indicator: Credit
                        credit_line:
                        - included: true
                          amount:
                            amount: "272.90"
                            currency: GBP
                          type: Temporary
                        date_time: 2019-02-27T06:11:57+0000
                        type: InterimBooked
                      parties:
                      - full_name: Jane Doe
                        type: sole
                    - account_id: 423fdf64-5317-4562-b3fc-268abd8e9ff9
                      currency: GBP
                      account_type: Personal
                      account_sub_type: CurrentAccount
                      nickname: Current Account
                      details:
                      - scheme_name: UK.OBIE.SortCodeAccountNumber
                        identification: "80200110203346"
                        name: Mr Kevin
                        secondary_identification: "00022"
                      provider: Lloyds
                      balances:
                      - account_id: aa86f72c-476a-3355-b54c-614a815fae40
                        amount:
                          amount: "357.90"
                          currency: GBP
                        credit_debit_indicator: Credit
                        credit_line:
                        - included: true
                          amount:
                            amount: "272.90"
                            currency: GBP
                          type: Temporary
                        date_time: 2019-02-27T06:11:57+0000
                        type: InterimBooked
                      parties:
                      - full_name: Jane Doe
                        type: joint
                    metadata:
                      results: 2
                Specific Account:
                  value:
                    operation_id: accounts_get
                    data:
                      account_id: 3fa85f64-5717-4562-b3fc-2c963f66afa6
                      currency: GBP
                      account_type: Personal
                      account_sub_type: SavingsAccount
                      nickname: Holiday Funds
                      details:
                      - scheme_name: UK.OBIE.SortCodeAccountNumber
                        identification: "80200110203345"
                        name: Mr Kevin
                        secondary_identification: "00021"
                      provider: Lloyds
                      balances:
                      - account_id: aa86f72c-476a-3355-b54c-614a815fae40
                        amount:
                          amount: "357.90"
                          currency: GBP
                        credit_debit_indicator: Credit
                        credit_line:
                        - included: true
                          amount:
                            amount: "272.90"
                            currency: GBP
                          type: Temporary
                        date_time: 2019-02-27T06:11:57+0000
                        type: InterimBooked
                      parties:
                      - full_name: Mr Kevin
                        type: sole
                    metadata:
                      results: 1
        "401":
          description: An unauthenticated request was received.
        "405":
          description: The request uses an unexpected HTTP method.
        "5XX":
          description: An unexpected error occurred on the server side.
      deprecated: true
      security:
      - OAuth2: []
  /v1/open-banking/transactions:
    get:
      tags:
      - Retrieve Financial Data
      summary: Retrieve Transactions
      description: |
        List the transactions for each of the customer’s accounts held on the Bud platform.

        By default this endpoint will return the last 3 months of transactions unless a valid `from` and `to` range is given (*where `from` is older than `to`).

        **Please note: support will cease for this endpoint on the 1st of August 2023 - please complete your migration to the Retrieve Transactions V2 endpoint by that point in time. For further details, contact your Bud account manager or email `help@thisisbud.com`.**
      operationId: transactions_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: "Date (YYYY-MM-DD) from which the transactions should be returned\
          \ from, this works in pair with the 'X-To' parameter"
        required: false
        schema:
          type: string
        example: 2022-02-28
      - name: X-To
        in: header
        description: "Date (YYYY-MM-DD) from which the transactions should be returned\
          \ to, this works in pair with the 'X-From' parameter"
        required: false
        schema:
          type: string
        example: 2022-03-30
      - name: X-Account-Id
        in: header
        description: The identifier of the Open Banking Account to retrieve
        required: false
        schema:
          type: string
      responses:
        "200":
          description: The request was successfully processed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OBListTransactionsResponse'
              examples:
                All Account Transactions:
                  value:
                    operation_id: transactions_get
                    data:
                    - id: 980ef9ba0211a05ee3ca92ed2c38b77ec8a49d5cb5c7d72e3dcdb9981000000-1
                      provider: Lloyds
                      raw_transaction:
                        account_id: "100000"
                        transaction_id: "100001"
                        transaction_reference: Ref 100001
                        amount:
                          amount: "10.00"
                          currency: GBP
                        credit_debit_indicator: Credit
                        status: Booked
                        booking_date_time: 2019-05-07T00:00:00+0000
                        value_date_time: 2019-06-15T00:00:00+0000
                        address_line: London
                        transaction_information: 6278 16Mar19 CD HONEST BURGERS LONDON
                          GB
                        bank_transaction_code:
                          code: ReceivedCreditTransfer
                          sub_code: DomesticCreditTransfer
                        proprietary_bank_transaction_code:
                          code: Transfer
                          issuer: AlphaBank
                        balance:
                          amount:
                            amount: "230.00"
                            currency: GBP
                          credit_debit_indicator: Credit
                          type: InterimBooked
                        merchant_details:
                          merchant_name: Eddie Ching
                          merchant_category_code: MNC1
                        statement_reference:
                        - REF1
                        currency_exchange:
                          contract_identification: GBP to AUD
                          exchange_rate: "1.83"
                          instructed_amount:
                            amount: "10.00"
                            currency: GBP
                          quotation_date: 2019-04-11T00:00:00+0000
                          source_currency: GBP
                          target_currency: AUD
                          unit_currency: GBP
                        creditor_agent:
                          scheme_name: BICFI
                          identification: AlphaBank
                          name: AlphaBank business account
                          postal_address:
                            address_type: Business
                            building_number: "1"
                            country: United Kingdom
                            country_subdivision: England
                            department: admin
                            postcode: EC1V 9NR
                            street_name: street name
                            sub_department: reception
                            town_name: london
                            address_line:
                            - line 1
                            - line 2
                            - line 3
                        creditor_account:
                          scheme_name: IBAN
                          identification: Bobs Bills
                          name: Account1
                          secondary_identification: SecId
                        debtor_agent:
                          scheme_name: IBAN
                          identification: Bobs Bills
                          name: Bobs bank account
                          postal_address:
                            address_type: Business
                            building_number: "1"
                            country: United Kingdom
                            country_subdivision: England
                            department: admin
                            postcode: EC1V 9NR
                            street_name: street name
                            sub_department: reception
                            town_name: london
                            address_line:
                            - line 1
                            - line 2
                            - line 3
                        debtor_account:
                          scheme_name: BICFI
                          identification: AlphaBank
                          name: BB1
                          secondary_identification: 4435534GG
                        card_instrument:
                          card_scheme_name: AmericanExpress
                          card_authorisation_type: Contactless
                          cardholder_name: Mr Bob Smith
                          identification: PAYMENT xxxxx
                        charge_amount:
                          amount: "10.00"
                          currency: GBP
                        supplementary_data:
                          unknown_elements: true
                      enrichment:
                        categoriser:
                          categories:
                          - category_name: groceries
                            confidence: "0.88"
                          subcategories:
                          - subcategory_name: super_markets_and_grocery_stores
                            confidence: "0.93"
                        merchant:
                          id: honest_burgers
                          merchant_name: Honest Burgers
                          merchant_logo: https://assets.example.com/image.jpg
                          merchant_confidence: "1"
                        regular_payments:
                          label: "-1"
                          score: "0"
                          period: unknown
                        carbon_tracker:
                          co2_amount_kg: 7.02
                    - id: 980ef9ba0211a05ee3ca92ed2c38b77ec8a49d5cb5c7d72e3dcdb9981a025e74-1
                      provider: Lloyds
                      raw_transaction:
                        account_id: "200000"
                        transaction_id: "200001"
                        transaction_reference: Ref 200001
                        amount:
                          amount: "20.00"
                          currency: GBP
                        credit_debit_indicator: Credit
                        status: Booked
                        booking_date_time: 2019-04-12T00:00:00+0000
                        value_date_time: 2019-04-15T00:00:00+0000
                        address_line: Liverpool
                        transaction_information: 111 CLOSE GATE LANE
                        bank_transaction_code:
                          code: ReceivedCreditTransfer
                          sub_code: DomesticCreditTransfer
                        proprietary_bank_transaction_code:
                          code: Transfer
                          issuer: BlinkBank
                        balance:
                          amount:
                            amount: "230.20"
                            currency: GBP
                          credit_debit_indicator: Credit
                          type: InterimBooked
                        merchant_details:
                          merchant_name: Rick Rock
                          merchant_category_code: RR1
                        statement_reference:
                        - REF1
                        - REF2
                        currency_exchange:
                          contract_identification: GBP to AUD
                          exchange_rate: "1.83"
                          instructed_amount:
                            amount: "11.00"
                            currency: GBP
                          quotation_date: 2019-05-04T00:00:00+0000
                          source_currency: GBP
                          target_currency: AUD
                          unit_currency: GBP
                        creditor_agent:
                          scheme_name: BICFI
                          identification: BlinkBank
                          name: BlinkBank
                          postal_address:
                            address_type: Business
                            building_number: "1"
                            country: United Kingdom
                            country_subdivision: England
                            department: admin
                            postcode: EC1V 9NR
                            street_name: street name
                            sub_department: reception
                            town_name: london
                            address_line:
                            - line 1
                            - line 2
                            - line 3
                        creditor_account:
                          scheme_name: IBAN
                          identification: Roman Erik
                          name: Account1
                          secondary_identification: null
                        debtor_agent:
                          scheme_name: IBAN
                          identification: Roman Erik
                          name: Roman Erik
                          postal_address:
                            address_type: Business
                            building_number: "1"
                            country: United Kingdom
                            country_subdivision: England
                            department: admin
                            postcode: EC1V 9NR
                            street_name: street name
                            sub_department: reception
                            town_name: london
                            address_line:
                            - line 1
                            - line 2
                            - line 3
                        debtor_account:
                          scheme_name: BICFI
                          identification: BlinkBank
                          name: BB1
                          secondary_identification: null
                        card_instrument:
                          card_scheme_name: Visa
                          card_authorisation_type: Contactless
                          cardholder_name: Elly Bon
                          identification: ABC123
                        charge_amount:
                          amount: "2.00"
                          currency: GBP
                        supplementary_data:
                          unknown_elements: true
                      enrichment:
                        categoriser:
                          categories:
                          - category_name: groceries
                            confidence: "0.88"
                          subcategories:
                          - subcategory_name: super_markets_and_grocery_stores
                            confidence: "0.93"
                        merchant:
                          id: rick_rock
                          merchant_name: Rick Rock
                          merchant_logo: https://assets.example.com/image.jpg
                          merchant_confidence: "1"
                        regular_payments:
                          label: "-1"
                          score: "0"
                          period: unknown
                        carbon_tracker:
                          co2_amount_kg: 1.26
                    metadata:
                      from: 2019-03-27
                      to: 2019-03-29
                      results: 2
                Specific Account Transactions:
                  value:
                    operation_id: transactions_get
                    data:
                    - id: 980ef9ba0211a05ee3ca92ed2c38b77ec8a49d5cb5c7d72e3dcdb9981000000
                      provider: Lloyds
                      raw_transaction:
                        account_id: "100000"
                        transaction_id: "100001"
                        transaction_reference: Ref 100001
                        amount:
                          amount: "10.00"
                          currency: GBP
                        credit_debit_indicator: Credit
                        status: Booked
                        booking_date_time: 2019-05-07T00:00:00+0000
                        value_date_time: 2019-06-15T00:00:00+0000
                        address_line: London
                        transaction_information: 6278 16Mar19 CD HONEST BURGERS LONDON
                          GB
                        bank_transaction_code:
                          code: ReceivedCreditTransfer
                          sub_code: DomesticCreditTransfer
                        proprietary_bank_transaction_code:
                          code: Transfer
                          issuer: AlphaBank
                        balance:
                          amount:
                            amount: "230.00"
                            currency: GBP
                          credit_debit_indicator: Credit
                          type: InterimBooked
                        merchant_details:
                          merchant_name: Eddie Ching
                          merchant_category_code: MNC1
                        statement_reference:
                        - REF1
                        currency_exchange:
                          contract_identification: GBP to AUD
                          exchange_rate: "1.83"
                          instructed_amount:
                            amount: "10.00"
                            currency: GBP
                          quotation_date: 2019-04-11T00:00:00+0000
                          source_currency: GBP
                          target_currency: AUD
                          unit_currency: GBP
                        creditor_agent:
                          scheme_name: BICFI
                          identification: AlphaBank
                          name: AlphaBank business account
                          postal_address:
                            address_type: Business
                            building_number: "1"
                            country: United Kingdom
                            country_subdivision: England
                            department: admin
                            postcode: EC1V 9NR
                            street_name: street name
                            sub_department: reception
                            town_name: london
                            address_line:
                            - line 1
                            - line 2
                            - line 3
                        creditor_account:
                          scheme_name: IBAN
                          identification: Bobs Bills
                          name: Account1
                          secondary_identification: SecId
                        debtor_agent:
                          scheme_name: IBAN
                          identification: Bobs Bills
                          name: Bobs bank account
                          postal_address:
                            address_type: Business
                            building_number: "1"
                            country: United Kingdom
                            country_subdivision: England
                            department: admin
                            postcode: EC1V 9NR
                            street_name: street name
                            sub_department: reception
                            town_name: london
                            address_line:
                            - line 1
                            - line 2
                            - line 3
                        debtor_account:
                          scheme_name: BICFI
                          identification: AlphaBank
                          name: BB1
                          secondary_identification: 4435534GG
                        card_instrument:
                          card_scheme_name: AmericanExpress
                          card_authorisation_type: Contactless
                          cardholder_name: Mr Bob Smith
                          identification: PAYMENT xxxxx
                        charge_amount:
                          amount: "10.00"
                          currency: GBP
                        supplementary_data:
                          unknown_elements: true
                      enrichment:
                        categoriser:
                          categories:
                          - category_name: groceries
                            confidence: "0.88"
                          subcategories:
                          - subcategory_name: super_markets_and_grocery_stores
                            confidence: "0.93"
                        merchant:
                          id: honest_burgers
                          merchant_name: Honest Burgers
                          merchant_logo: https://assets.example.com/image.jpg
                          merchant_confidence: "1"
                        regular_payments:
                          label: de153aaed3b7427as8o9uoljk23098jlksdosd27de5e8df68224d33d3b74272-1
                          score: "0.9656"
                          period: monthly
                        carbon_tracker:
                          co2_amount_kg: 7.02
                    - id: 980ef9ba0211a05ee3ca92ed2c38b77ec8a49d5cb5c7d72e3dcdb9981a025e74
                      provider: Lloyds
                      raw_transaction:
                        account_id: "100000"
                        transaction_id: "200001"
                        transaction_reference: Ref 200001
                        amount:
                          amount: "20.00"
                          currency: GBP
                        credit_debit_indicator: Credit
                        status: Booked
                        booking_date_time: 2019-04-13T00:00:00+0000
                        value_date_time: 2019-04-16T00:00:00+0000
                        address_line: Liverpool
                        transaction_information: 111 CLOSE GATE LANE
                        bank_transaction_code:
                          code: ReceivedCreditTransfer
                          sub_code: DomesticCreditTransfer
                        proprietary_bank_transaction_code:
                          code: Transfer
                          issuer: BlinkBank
                        balance:
                          amount:
                            amount: "230.20"
                            currency: GBP
                          credit_debit_indicator: Credit
                          type: InterimBooked
                        merchant_details:
                          merchant_name: Rick Rock
                          merchant_category_code: RR1
                        statement_reference:
                        - REF1
                        - REF2
                        currency_exchange:
                          contract_identification: GBP to AUD
                          exchange_rate: "1.83"
                          instructed_amount:
                            amount: "11.00"
                            currency: GBP
                          quotation_date: 2019-05-04T00:00:00+0000
                          source_currency: GBP
                          target_currency: AUD
                          unit_currency: GBP
                        creditor_agent:
                          scheme_name: BICFI
                          identification: BlinkBank
                          name: BlinkBank
                          postal_address:
                            address_type: Business
                            building_number: "1"
                            country: United Kingdom
                            country_subdivision: England
                            department: admin
                            postcode: EC1V 9NR
                            street_name: street name
                            sub_department: reception
                            town_name: london
                            address_line:
                            - line 1
                            - line 2
                            - line 3
                        creditor_account:
                          scheme_name: IBAN
                          identification: Roman Erik
                          name: Account1
                          secondary_identification: null
                        debtor_agent:
                          scheme_name: IBAN
                          identification: Roman Erik
                          name: Roman Erik
                          postal_address:
                            address_type: Business
                            building_number: "1"
                            country: United Kingdom
                            country_subdivision: England
                            department: admin
                            postcode: EC1V 9NR
                            street_name: street name
                            sub_department: reception
                            town_name: london
                            address_line:
                            - line 1
                            - line 2
                            - line 3
                        debtor_account:
                          scheme_name: BICFI
                          identification: BlinkBank
                          name: BB1
                          secondary_identification: null
                        card_instrument:
                          card_scheme_name: Visa
                          card_authorisation_type: Contactless
                          cardholder_name: Elly Bon
                          identification: ABC123
                        charge_amount:
                          amount: "2.00"
                          currency: GBP
                        supplementary_data:
                          unknown_elements: true
                      enrichment:
                        categoriser:
                          categories:
                          - category_name: groceries
                            confidence: "0.88"
                          subcategories:
                          - subcategory_name: super_markets_and_grocery_stores
                            confidence: "0.93"
                        merchant:
                          id: rick_rock
                          merchant_name: Rick Rock
                          merchant_logo: https://assets.example.com/image.jpg
                          merchant_confidence: "1"
                        regular_payments:
                          label: sdf09823lkjewf9jlk31908sadsaoiusd3ggs3g2gk7099dkh0123-2
                          score: "0.4987"
                          period: quarterly
                        carbon_tracker:
                          co2_amount_kg: 1.26
                    metadata:
                      from: 2019-03-27
                      to: 2019-03-29
                      results: 2
        "401":
          description: An unauthenticated request was received.
        "405":
          description: The request uses an unexpected HTTP method.
        "5XX":
          description: An unexpected error occurred on the server side.
      deprecated: true
      security:
      - OAuth2: []
  /v1/provider/{provider}:
    delete:
      tags:
      - Manage Financial Data
      summary: Remove Provider Data
      description: |
        Delete all data (transactions, enrichments, accounts) related to the specified provider.
      operationId: v1_provider_delete
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: provider
        in: path
        description: Name of the provider (banking institution)
        required: true
        schema:
          type: string
      responses:
        "204":
          description: The request was successfully processed.
        "400":
          description: Bad request.
        "401":
          description: An unauthenticated request was received.
        "405":
          description: The request uses an unexpected HTTP method.
        "5XX":
          description: An unexpected error occurred on the server side.
      security:
      - OAuth2: []
  /v1/recategorise/customer-corrections/double-cat:
    post:
      tags:
      - Manage Financial Data
      summary: Correct Transaction Categories V1
      description: |
        Allow a customer to change a transaction’s category and/or subcategory.

        Tag all similar transactions (those that currently exist and those that happen in the future) with the new category and/or subcategory value for a given customer.

        Similar transactions are determined based on transactions with similar descriptions & amounts.
      operationId: recategorise_customer_double_cat_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RecategoriseCustomerRequestDoublecat'
            example:
            - account_id: 5f44d9d6-8de0-4bc7-8db2-c26aea40ed62
              transaction_id: 7affc586-5600-4434-ac5f-1a845260d7d9
              category_name: eating_out
              subcategory_name: other_eating_out
        required: true
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RecategoriseCustomerResponseDoublecat'
              example:
                operation_id: recategorise_customer_double_cat_post
                data:
                - account_id: 5f44d9d6-8de0-4bc7-8db2-c26aea40ed62
                  transaction_id: 7affc586-5600-4434-ac5f-1a845260d7d9
                  category_name: eating_out
                  subcategory_name: other_eating_out
                metadata:
                  results: 1
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: recategorise_customer_double_cat_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  category_name: This value should not be blank
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /corrections/v2/categories:
    post:
      tags:
      - Manage Financial Data
      summary: Correct Transaction Categories V2
      description: |
        Allow a customer to change a transaction’s (and similar transactions') category and/or subcategory.

        If `include_similar` is set to `true`, then all previous and future transactions (i.e. those that are yet to happen yet) that are similar in nature to the specified transaction id will be corrected with the provided category and/or subcategory.

        Similar transactions are determined based on transactions with similar descriptions & amounts.
      operationId: corrections_v2_categories_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CustomerCategoryCorrectionRequest'
            example:
            - transaction_id: 7affc586-5600-4434-ac5f-1a845260d7d9
              category_l1: food_and_drink
              category_l2: coffee
              include_similar: false
        required: true
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CustomerCategoryCorrectionResponse'
              example:
                operation_id: corrections_v2_categories_post
                data:
                - transaction_id: 7affc586-5600-4434-ac5f-1a845260d7d9
                  category_l1: food_and_drink
                  category_l2: coffee
                  include_similar: false
                metadata:
                  results: 1
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: corrections_v2_categories_post
                code_id: validation_error
                message: Bad request payload
                errors:
                  X-Client-ID: This value should not be blank
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/transactions/attributes/client-labels:
    post:
      tags:
      - Manage Financial Data
      summary: Create Transaction Rule(s)
      description: "Submit rules for adding custom attributes to transactions based\
        \ on properties of the transaction. Rules can be a combination of an exact\
        \ match on the amount, cdi, currency and description."
      operationId: v1_transactions_attributes_client_labels_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TransactionAttributesClientLabelsRequest'
            example:
            - match_attributes:
              - type: exact
                name: amount
                value: "1800.00"
              - type: exact
                name: cdi
                value: Credit
              set_attribute:
                values:
                - freelance income
                - pocket money
        required: true
      responses:
        "200":
          description: The operation was successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransactionAttributesClientLabelsResponse'
              example:
                operation_id: v1_transactions_attributes_client_labels_post
                data:
                  rules_created: 2
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_transactions_attributes_client_labels_post
                code_id: Bad Request
                message: Required field in payload not set
                errors:
                  match_attributes[0].type: this field is required
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "413":
          description: More than 1000 corrections were requested
        "422":
          description: "Transaction(s) not found, corrections could not be processed"
        "5XX":
          description: An unexpected error occurred on the server side
      deprecated: true
      security:
      - OAuth2: []
  /v1/regular-transactions:
    get:
      tags:
      - Regular Insights
      summary: Retrieve Regular Transactions
      description: |
        Provides a list of customer transactions that occur regularly. Currently the following periods are supported:
        - `daily`
        - `weekly`
        - `biweekly`
        - `monthly`
        - `quarterly`
        - `unknown`
      operationId: regular_transactions_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegularTransactionsResponse'
              example:
                operation_id: regular_transactions_get
                data:
                - label: 7fa6c13ac15468dd61cc7680f005b1dcdd9504d7-0
                  period: monthly
                  score: "0.9892"
                  transactions:
                  - provider: Barclays
                    account_id: 688cb2e1-fca9-4d77-bbd3-604abb3c9d46
                    transaction_id: 3c6f2abd-87ff-4b57-b7c7-c500926571e7
                    transaction_description: Bank credit paypal
                    date: 2019-07-04T00:00:00+0000
                    amount:
                      amount: "49.99"
                      currency: GBP
                    credit_debit_indicator: Debit
                    merchant:
                      id: paypal
                      name: PayPal
                      logo: https://assets.thisisbud.com/bud-datasci-images/merchant_logos/a3af57fc-ec8a-4258-a8da-8d34f11640f6/v1/paypal.jpeg
                  - provider: Barclays
                    account_id: 688cb2e1-fca9-4d77-bbd3-604abb3c9d46
                    transaction_id: d06bef46-7500-4d34-a419-bb2c5e4ee9fa
                    transaction_description: Bank credit paypal
                    date: 2019-08-04T00:00:00+0000
                    amount:
                      amount: "52.3"
                      currency: GBP
                    credit_debit_indicator: Debit
                    merchant:
                      id: paypal
                      name: PayPal
                      logo: https://assets.thisisbud.com/bud-datasci-images/merchant_logos/a3af57fc-ec8a-4258-a8da-8d34f11640f6/v1/paypal.jpeg
                - label: 8a29913437a6d2e72a9576a15593f43d92cfc2eb-0
                  period: monthly
                  score: "0.9892"
                  transactions:
                  - provider: Lloyds
                    account_id: 688cb2e1-fca9-4d77-bbd3-604abb3c9d46
                    transaction_id: c5a50ce9-5523-47b4-8c08-3cd8e30e34a6
                    transaction_description: Foxtons - Rent
                    date: 2019-06-02T00:00:00+0000
                    amount:
                      amount: "1325"
                      currency: GBP
                    credit_debit_indicator: Debit
                    merchant:
                      id: foxtonslimited
                      name: FOXTONS LIMITED
                      logo: https://assets.thisisbud.com/bud-datasci-images/merchant_logo_placeholder.png
                  - provider: Lloyds
                    account_id: 688cb2e1-fca9-4d77-bbd3-604abb3c9d46
                    transaction_id: 70778a02-ea30-4465-b651-65189fd3c51d
                    transaction_description: Foxtons - Rent
                    date: 2019-07-02T00:00:00+0000
                    amount:
                      amount: "1325"
                      currency: GBP
                    credit_debit_indicator: Debit
                    merchant:
                      id: foxtonslimited
                      name: FOXTONS LIMITED
                      logo: https://assets.thisisbud.com/bud-datasci-images/merchant_logo_placeholder.png
        "204":
          description: No transactions found
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: regular_transactions_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  client_id: This value should not be blank
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/future-transactions:
    get:
      tags:
      - Regular Insights
      summary: Retrieve Forecasted Transactions V1
      description: |
        Provides a list of transactions predicted to occur in the next three months. Currently the following periods are supported:
        - `daily`
        - `weekly`
        - `biweekly`
        - `monthly`
        - `quarterly`
        - `unknown`
      operationId: future_transactions_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FutureTransactionsResponse'
              example:
                operation_id: future_transactions_get
                data:
                - transaction_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  account_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  transaction_description: Bud
                  provider: Lloyds
                  date: 2019-07-01T01:00:00+0100
                  amount:
                    amount: "1234.56"
                    currency: GBP
                  credit_debit_indicator: Credit
                  label: 8a29913437a6d2e72a9576a15593f43d92cfc2eb-0
                  period: monthly
                  score: "0.9892"
                  future_dates:
                  - 2019-08-01T01:00:00+0100
                  - 2019-09-01T01:00:00+0100
                  - 2019-10-01T01:00:00+0100
        "204":
          description: No transactions found
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: future_transactions_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  client_id: This value should not be blank
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v2/future-transactions:
    get:
      tags:
      - Regular Insights
      summary: Retrieve Forecasted Transactions V2
      description: |
        Provides a list of transactions predicted to occur in the next specified number of months. Currently the following periods are supported:
        - `daily`
        - `weekly`
        - `biweekly`
        - `monthly`
        - `quarterly`
        - `six_monthly`
        - `annually`
        - `unknown`
      operationId: v2_future_transactions_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: months
        in: query
        description: "To specify how many months we return the prediction for, the\
          \ default is 3 months."
        required: false
        schema:
          type: integer
          default: 3
        example: 6
      - name: "change_percentage[subcategory]"
        in: query
        description: "To set a percentage value used in the calculation of the forecasted\
          \ amount for the future transactions categorised with specific transaction\
          \ subcategory; for example `change_percentage[loans]=2.0`. This can be a\
          \ positive or negative float number. To apply the same percentage to all\
          \ transactions use the `subcategory=all`."
        required: false
        schema:
          type: string
          default: "change_percentage[all]=0.0"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FutureTransactionV2Response'
              example:
                operation_id: v2_future_transactions_get
                data:
                - transaction_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  account_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  transaction_description: Bud
                  label: 8a29913437a6d2e72a9576a15593f43d92cfc2eb-0
                  period: monthly
                  date_time: 2019-07-01T01:00:00Z
                  amount:
                    value: "100.00"
                    currency: GBP
                  credit_debit_indicator: credit
                  confidence: "0.9892"
                  future_transactions:
                  - date: 2022-08-01
                    amount:
                      value: "102.00"
                      currency: GBP
                  - date: 2022-09-01
                    amount:
                      value: "104.04"
                      currency: GBP
                  - date: 2022-10-01
                    amount:
                      value: "106.12"
                      currency: GBP
                  - date: 2022-11-01
                    amount:
                      value: "108.24"
                      currency: GBP
                metadata:
                  results: 1
                  months: 4
                  change_percentages:
                  - l2: bills
                    value: 2.0
        "204":
          description: No transactions
        "400":
          description: Bad request
        "401":
          description: Unauthorized request
  /v1/salary:
    get:
      tags:
      - Income Insights
      summary: Retrieve Salary Information
      description: |
        Provides a list of transactions most likely to be a customer’s salary.
      operationId: salary_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SalaryResponse'
              example:
                operation_id: salary_get
                data:
                - transaction_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  account_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  transaction_description: Bud
                  provider: Lloyds
                  date: 2019-07-01T01:00:00+0100
                  amount:
                    amount: "1234.56"
                    currency: GBP
                  credit_debit_indicator: Credit
                  confidence: "0.9998"
                  period: monthly
                metadata:
                  results: 1
        "400":
          description: The request contains an invalid payload
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: salary_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  client_id: This value should not be blank
        "401":
          description: Unauthorised request
        "404":
          description: No transactions found
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/income:
    get:
      tags:
      - Income Insights
      summary: Retrieve Income Transactions V1
      description: |
        Provides a list of a customer's income based transactions found within their connected accounts, and predicts whether each income transaction is related to a customer's `salary_or_wages`. Any income which is not salary or wages is given the type `other_income`, which can include other income sources such as investments or pension income.

        **Notes:**
        - Transactions are filtered to return the latest income transaction per transaction reference. For instance, if the customer has 4 salary transactions all with the same reference of `Monthly Salary`, only the latest will be returned.
      operationId: v1_income_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: Transaction from date
        schema:
          type: string
        example: 2022-01-29
      - name: X-To
        in: header
        description: Transaction to date
        schema:
          type: string
        example: 2022-03-29
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IncomeResponseV1'
              example:
                operation_id: v1_income_get
                data:
                - account_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  transaction_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  description: Bud
                  date: 2021-01-11T01:00:00+0100
                  amount:
                    amount: "1234.56"
                    currency: GBP
                  credit_debit_indicator: Credit
                  enrichment:
                    categoriser:
                      categories:
                      - category_name: finances
                        confidence: "0.8057"
                        label: Finances
                      subcategories:
                      - subcategory_name: transfers_in
                        confidence: "0.7811"
                        label: Transfers In
                      l3:
                      - name: salary
                        confidence: "0.6805"
                        label: Salary
                    merchant:
                      id: bud
                      merchant_name: Bud
                      merchant_logo: https://thisisbud.com/merchants/bud.png
                      merchant_confidence: "0.9501"
                    income:
                      label: salary_or_wages
                      confidence: "0.9408"
                metadata:
                  from: 2020-01-01
                  to: 2022-01-01
                  results: 1
        "204":
          description: No transactions
        "400":
          description: Bad request
        "401":
          description: Unauthorised request
        "404":
          description: No transactions found
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v2/income:
    get:
      tags:
      - Income Insights
      summary: Retrieve Income Transactions V2
      description: |
        Provides a list of a customer's income based transactions found within their connected accounts, and predicts whether each income transaction is related to a customer's `salary_or_wages`. Any income which is not salary or wages is given the type `other_incoming`, which can include other income sources such as investments or pension income.

        **Notes:**
        - Transactions with multiple currencies are supported, but the statistics are currently only calculated for one currency. The endpoint takes the currency of the first transaction and ignores non-matching currencies in its calculations.
        - In contrast to the V1 endpoint, Income Finder V2 no longer filters income transactions to only return the latest per reference.
      operationId: v2_income_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: Transaction from date
        schema:
          type: string
        example: 2022-01-29
      - name: X-To
        in: header
        description: Transaction to date
        schema:
          type: string
        example: 2022-03-29
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IncomeResponseV2'
              example:
                operation_id: v2_income_get
                data:
                  transactions:
                  - transaction_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                    account_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                    transaction_description: PayPal* Bud
                    provider: Barclays
                    date: 2021-01-11T01:00:00+0100
                    amount:
                      value: "1234.56"
                      currency: GBP
                    credit_debit_indicator: Credit
                    enrichment:
                      categories:
                        l1:
                        - name: finances
                          confidence: "0.8057"
                          label: Finances
                        l2:
                        - name: transfers_in
                          confidence: "0.7811"
                          label: Transfers In
                        l3:
                        - name: salary
                          confidence: "0.6805"
                          label: Salary
                      merchant:
                        id: bud
                        name: Bud
                        logo: https://thisisbud.com/merchants/bud.png
                        confidence: "0.9501"
                      processor:
                        id: paypal
                        name: PayPal
                        logo: https://thisisbud.com/processors/paypal.png
                        confidence: "0.9702"
                      income:
                        type: salary_or_wages
                        confidence: "0.9408"
                  statistics:
                    average:
                      monthly:
                        income:
                          value: "1234.56"
                          currency: GBP
                        regular_income:
                          value: "1234.56"
                          currency: GBP
                metadata:
                  from: 2021-01-01
                  to: 2021-01-31
                  results: 1
        "204":
          description: No transactions
        "400":
          description: Bad request
        "401":
          description: Unauthorised request
        "404":
          description: No transactions found
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/benefits:
    get:
      tags:
      - Income Insights
      summary: Retrieve Benefits Transactions
      description: |
        Provides a list of a customer's benefits based transactions found within their connected accounts.
      operationId: v1_benefits_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: Transaction from date
        schema:
          type: string
        example: 2022-01-29
      - name: X-To
        in: header
        description: Transaction to date
        schema:
          type: string
        example: 2022-03-29
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BenefitsResponseV1'
              example:
                operation_id: v1_benefits_get
                data:
                - transaction_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  account_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  transaction_description: NATWEST DWP DLA GBR
                  provider: Natwest
                  date: 2022-03-21T01:00:00+0100
                  amount:
                    amount: "333.28"
                    currency: GBP
                  credit_debit_indicator: Credit
                  benefit:
                    type: disability_living_allowance
                    display_name: Disability Living Allowance
                metadata:
                  from: 2022-03-19
                  to: 2022-04-19
                  results: 1
        "204":
          description: No transactions
        "400":
          description: Bad request
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/loans:
    get:
      tags:
      - Expenditure Insights
      summary: Retrieve Loan Transactions
      description: |
        Provides a list of a customers' outgoing loan transactions found within their connected accounts.

        **Notes:**
        - Transactions with multiple currencies are supported, but the statistics are currently only calculated for one currency. The endpoint takes the currency of the first transaction and ignores non-matching currencies in its calculations.
      operationId: v1_loans_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: Transaction from date
        schema:
          type: string
        example: 2022-01-29
      - name: X-To
        in: header
        description: Transaction to date
        schema:
          type: string
        example: 2022-03-29
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoansResponseV1'
              example:
                operation_id: v1_loans_get
                data:
                  transactions:
                  - transaction_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                    account_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                    transaction_description: Bud Loan Repayment
                    provider: Natwest
                    date: 2022-03-21T01:00:00+0100
                    amount:
                      value: "133.28"
                      currency: GBP
                    credit_debit_indicator: Debit
                    merchant:
                      id: bud
                      name: Bud
                      logo: https://thisisbud.com/merchants/bud.png
                      confidence: "0.875"
                  statistics:
                    total_debit:
                      value: "133.28"
                      currency: GBP
                metadata:
                  results: 1
                  from: 2022-03-19
                  to: 2022-04-19
        "204":
          description: No transactions
        "400":
          description: Bad request
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/debt-collection:
    get:
      tags:
      - Expenditure Insights
      summary: Retrieve Debt Collection Transactions
      description: |
        Provides a list of a customers' outgoing debt collection transactions found within their connected accounts.

        **Notes:**
        - Transactions with multiple currencies are supported, but the statistics are currently only calculated for one currency. The endpoint takes the currency of the first transaction and ignores non-matching currencies in its calculations.
      operationId: v1_debt_collection_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: Transaction from date
        schema:
          type: string
        example: 2022-01-29
      - name: X-To
        in: header
        description: Transaction to date
        schema:
          type: string
        example: 2022-03-29
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DebtCollectionResponseV1'
              example:
                operation_id: v1_debt_collection_get
                data:
                  transactions:
                  - transaction_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                    account_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                    transaction_description: Bud Debt Collection Payment
                    provider: Barclays
                    date: 2021-04-11T01:00:00+0100
                    amount:
                      value: "100.00"
                      currency: GBP
                    credit_debit_indicator: Debit
                    merchant:
                      id: debtcollector
                      name: Debt Collector
                      logo: https://thisisbud.com/merchants/debtcollector.png
                      confidence: "0.12345"
                  statistics:
                    total_debit:
                      value: "100.00"
                      currency: GBP
                    income_relations:
                      expense_to_income_ratio: "0.100"
                      total_income:
                        value: "1000.00"
                        currency: GBP
                metadata:
                  results: 1
                  from: 2022-03-19
                  to: 2022-04-19
        "204":
          description: No transactions
        "400":
          description: Bad request
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/products:
    get:
      tags:
      - Expenditure Insights
      summary: Retrieve Financial Products
      description: |
        The Financial Product Finder creates a summary of a customer's financial products using their transaction history. Currently, it can detect:

        - Loans
        - Buy Now, Pay Later (BNPL)
        - Mortgages
        - Insurance products
        - Credit Cards
        - Private Pensions
        - Savings & Investments

        **Notes:**
        - The Financial Product Finder currently only finds products from `debit` transactions.
      operationId: v1_products_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: Transaction from date
        schema:
          type: string
        example: 2022-01-29
      - name: X-To
        in: header
        description: Transaction to date
        schema:
          type: string
        example: 2022-03-29
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetProductsResponseV1'
              example:
                operation_id: v1_products_get
                data:
                - transaction_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  account_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  transaction_description: Nationwide Mortgage Payment
                  provider: Barclays
                  date: 2021-04-11T01:00:00+0100
                  amount:
                    value: "1000.00"
                    currency: GBP
                  credit_debit_indicator: Debit
                  merchant:
                    id: nationwidebuildingsociety
                    logo: https://assets.thisisbud.com/bud-datasci-images/merchant_logos/e121c7aa-a254-41bb-ad3e-33b988f791be/v1/nationwidebuildingsociety.jpeg
                    name: Nationwide Building Society
                    confidence: "0.823456"
                  product:
                    type:
                    - mortgage
                    period: monthly
                metadata:
                  results: 1
                  from: 2022-09-03T11:28:22.00Z
                  to: 2023-03-03T11:28:22.00Z
        "204":
          description: No transactions found
        "400":
          description: The request contains an invalid payload
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
  /insights/v2/products:
    get:
      tags:
      - Expenditure Insights
      summary: Retrieve Financial Products V2
      description: "Financial Products returns the finance oriented products and services\
        \ that a customer uses. \nThis endpoint generates data using a customer's\
        \ transaction history.\n\nFinancial Products detects the following types of\
        \ products and services: \n- Loans\n- Buy Now, Pay Later (BNPL)\n- Mortgages\n\
        - Insurance products\n- Store Cards\n- Credit Cards\n- Private Pensions\n\
        - Savings and Investments\n\n> 🚧 Limitations\n> \n> Financial Products are\
        \ only identified from debit transactions.\n"
      operationId: insights_v2_products
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: from
        in: query
        description: "Filter from this date (format: `YYYY-MM-DD`)."
        schema:
          type: string
        example: 2019-02-29
      - name: to
        in: query
        description: "Filter to this date (format: `YYYY-MM-DD`)."
        schema:
          type: string
        example: 2019-02-29
      responses:
        "200":
          description: OK - everything worked as expected
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetProductsResponseV2'
              example:
                operation_id: insights_v2_products
                data:
                - type:
                  - credit_card
                  merchant:
                    id: nationwidebuildingsociety
                    logo: https://assets.thisisbud.com/bud-datasci-images/merchant_logos/e121c7aa-a254-41bb-ad3e-33b988f791be/v1/nationwidebuildingsociety.jpeg
                    name: Nationwide Building Society
                  amount:
                    value: 0.03
                    currency: GBP
                  period: unknown
                - type:
                  - insurance
                  merchant:
                    id: aviva
                    logo: https://assets.thisisbud.com/bud-datasci-images/merchant_logos/c50be401-7891-44c5-9fed-535080e77c57/v1/aviva.jpeg
                    name: Aviva
                  amount:
                    value: 59.99
                    currency: GBP
                  period: monthly
                metadata:
                  from: 2022-09-03T11:28:22.00Z
                  to: 2023-03-03T11:28:22.00Z
                  results: 2
        "400":
          description: Bad Request - the request was unacceptable
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: insights_v2_products
                code_id: failed_validation
                message: Invalid request payload.
                errors:
                - "invalid 'from' date: '7th March 2023'"
        "401":
          description: Unauthorised Request - the request was not authenticated or
            authorised
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: unknown
                code_id: unknown
                message: Unauthorised request
        "500":
          description: Server Error - an unexpected error occurred on the server side
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerErrorResponse'
              example:
                operation_id: unknown
                code_id: unknown
                message: "An error occurred while processing your request. Get in\
                  \ touch with us and provide us your request id: 7ef63242-ba6d-4661-8014-f9eaa9cb2ad8"
  /v1/subscriptions:
    get:
      tags:
      - Expenditure Insights
      summary: Retrieve Subscriptions
      description: This endpoint is used to retrieve information about a user's subscriptions
      operationId: v1_subscriptions_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: Transaction from date
        schema:
          type: string
        example: 2022-01-29
      - name: X-To
        in: header
        description: Transaction to date
        schema:
          type: string
        example: 2022-03-29
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetSubscriptionsResponseV1'
              example:
                operation_id: v1_subscriptions_get
                data:
                - subscription_type: tv_and_film
                  period: monthly
                  categories:
                    l1: bills
                    l2: tv_broadband_and_phone
                  merchant:
                    id: netflix
                    name: Netflix
                    logo: https://assets.thisisbud.com/netflix_logo_placeholder.jpeg
                  transactions:
                  - transaction_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                    account_id: an_account_id
                    transaction_description: Netflix
                    provider: Barclays
                    date: 2022-03-21T01:00:00+0100
                    amount:
                      value: "9.99"
                      currency: GBP
                    credit_debit_indicator: Debit
                  - transaction_id: hdcc55c6-f347-4abc-8c66-61ff290d8bd4
                    account_id: an_account_id
                    transaction_description: Netflix
                    provider: Barclays
                    date: 2022-04-21T01:00:00+0100
                    amount:
                      value: "9.99"
                      currency: GBP
                    credit_debit_indicator: Debit
                - subscription_type: unknown
                  period: unknown
                  categories:
                    l1: general
                    l2: other_general
                  transactions:
                  - transaction_id: idcc55c6-f347-4abc-8c66-61ff290d8bd4
                    account_id: an_account_id
                    transaction_description: A Random Subscription Payment
                    provider: Barclays
                    date: 2022-05-11T01:00:00+0100
                    amount:
                      value: "59.99"
                      currency: GBP
                    credit_debit_indicator: Debit
                metadata:
                  results: 2
                  from: 2022-03-19
                  to: 2022-05-19
        "204":
          description: No subscriptions found
        "400":
          description: The request contains an invalid payload
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
  /v1/energy-switching/energy-payments:
    post:
      tags:
      - Expenditure Insights
      summary: Initiate Energy Payments Discovery
      description: Start the process of detecting a customer's energy payments from
        their aggregated transactional history.
      operationId: energy_switching_energy_payments_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      responses:
        "201":
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnergyPaymentSearch'
              example:
                operation_id: energy_switching_energy_payments_post
                data:
                  task_id: f85318cf-7cf3-4529-b9ff-0a87bd75fab1
        "400":
          description: Bad request
        "401":
          description: Unauthorised request
        "5XX":
          description: An unexpected error occurred on the server side
      deprecated: true
      security:
      - OAuth2: []
  /v1/energy-switching/energy-payments/{task_id}:
    get:
      tags:
      - Expenditure Insights
      summary: Retrieve Energy Payments
      operationId: energy_switching_energy_payments_get
      parameters:
      - name: task_id
        in: path
        description: Bud Task identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      responses:
        "200":
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnergyPaymentSearchResponse'
              examples:
                Payments detected:
                  value:
                    operation_id: energy_switching_energy_payments_get
                    data:
                    - transaction_id: cb28d018-147f-4ae9-a613-449d9fcf282b
                      supplier:
                        id: british-gas
                        name: British Gas
                        logo: https://assets.thisisbud.com/british-gas.jpg
                      payment_type: 1
                      amount:
                        amount: 1250.25
                        currency: GBP
                      provider: Barclays
                    - transaction_id: 34cb968d-88f4-4b3b-a861-fcd97bc12680
                      supplier:
                        id: scottish-power
                        name: Scottish Power
                        logo: https://assets.thisisbud.com/scottish-power.jpg
                      payment_type: 1
                      amount:
                        amount: 750.75
                        currency: GBP
                      provider: Monzo
                    metadata:
                      status: complete
                No energy payments detected:
                  value:
                    operation_id: energy_switching_energy_payments_get
                    data: []
                    metadata:
                      status: failed
                      reason: No energy transactions detected
        "400":
          description: Bad request
        "401":
          description: Unauthorised request
        "5XX":
          description: An unexpected error occurred on the server side
      deprecated: true
      security:
      - OAuth2: []
  /v1/affordability/spending-groups:
    post:
      tags:
      - Assess Affordability
      summary: Create Spending Groups
      description: |
        Provide a list of groups and categories to be returned as a breakdown of spending, along with all sources of income. If no groups are specified by the client, the Bud default standard of the most commonly used categories and groups will be returned. The header parameters X-From-Month and X-To-Month allow you to filter the result to a specified range of months.
      operationId: v1_affordability_spending_groups_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: "Date (`YYYY-MM-DD`) from which the transactions should be returned\
          \ from, this works in pair with the `X-To` parameter. This X-From format\
          \ of (YYYY-MM-DD) will still be backwards compatiable for 3 months see the\
          \ release notes for more details."
        required: false
        schema:
          type: string
        example: 2022-02-28
      - name: X-To
        in: header
        description: "Date (`YYYY-MM-DD`) from which the transactions should be returned\
          \ to, this works in pair with the `X-From` parameter. This X-To format of\
          \ (YYYY-MM-DD) will still be backwards compatiable for 3 months see the\
          \ release notes for more details."
        required: false
        schema:
          type: string
        example: 2022-03-30
      - name: X-From-Month
        in: header
        description: "Month (`YYYY-MM`) from which the transactions should be returned\
          \ from, this works in pair with the `X-To` parameter. This X-From-Month\
          \ format of (YYYY-MM) will become the default format in 3 months see the\
          \ release notes for more details."
        required: false
        schema:
          type: string
        example: 2019-02
      - name: X-To-Month
        in: header
        description: "Month (`YYYY-MM`) from which the transactions should be returned\
          \ to, this works in pair with the `X-From` parameter. This X-To-Month format\
          \ of (YYYY-MM) will become the default format in 3 months see the release\
          \ notes for more details."
        required: false
        schema:
          type: string
        example: 2019-03
      - name: X-Currency
        in: header
        description: ISO code for the currency of the transactions that will be aggregated
          over.
        required: false
        schema:
          type: string
          default: GBP
        example: GBP
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AffordabilitySpendRequestSchema'
            example:
            - name: total_income
              transaction_categories:
              - employment_income
              - benefits
              - other_income
            - name: essential_spending
              transaction_categories:
              - mortgage_repayment
              - utilities_water
              - utilities_energy
              - public_transport
        required: true
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AffordabilitySpendingGroupsResponse'
              example:
                operation_id: v1_affordability_spending_groups_post
                data:
                  totals:
                    total_income:
                      total:
                        incoming:
                          value: "7500.00"
                          currency: GBP
                        outgoing:
                          value: "0.00"
                          currency: GBP
                      average:
                        incoming:
                          value: "2500.00"
                          currency: GBP
                        outgoing:
                          value: "0.00"
                          currency: GBP
                      minimum:
                        incoming:
                          value: "2500.00"
                          currency: GBP
                        outgoing:
                          value: "0.00"
                          currency: GBP
                      maximum:
                        incoming:
                          value: "2500.00"
                          currency: GBP
                        outgoing:
                          value: "0.00"
                          currency: GBP
                      transaction_count: 3
                      income_percentage: "100.00"
                    essential_spending:
                      total:
                        incoming:
                          value: "0.00"
                          currency: GBP
                        outgoing:
                          value: "3394.74"
                          currency: GBP
                      average:
                        incoming:
                          value: "0.00"
                          currency: GBP
                        outgoing:
                          value: "1131.58"
                          currency: GBP
                      minimum:
                        incoming:
                          value: "0.00"
                          currency: GBP
                        outgoing:
                          value: "1131.58"
                          currency: GBP
                      maximum:
                        incoming:
                          value: "0.00"
                          currency: GBP
                        outgoing:
                          value: "1131.58"
                          currency: GBP
                      transaction_count: 9
                      income_percentage: "45.26"
                  categories:
                    total_income:
                      employment_income:
                        total:
                          incoming:
                            value: "7500.00"
                            currency: GBP
                          outgoing:
                            value: "0.00"
                            currency: GBP
                        average:
                          incoming:
                            value: "2500.00"
                            currency: GBP
                          outgoing:
                            value: "0.00"
                            currency: GBP
                        minimum:
                          incoming:
                            value: "2500.00"
                            currency: GBP
                          outgoing:
                            value: "0.00"
                            currency: GBP
                        maximum:
                          incoming:
                            value: "2500.00"
                            currency: GBP
                          outgoing:
                            value: "0.00"
                            currency: GBP
                        transaction_count: 3
                        income_percentage: "100.00"
                      benefits:
                        total:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "0.00"
                            currency: GBP
                        average:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "0.00"
                            currency: GBP
                        minimum:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "0.00"
                            currency: GBP
                        maximum:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "0.00"
                            currency: GBP
                        transaction_count: 0
                        income_percentage: "0.00"
                      other_income:
                        total:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "0.00"
                            currency: GBP
                        average:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "0.00"
                            currency: GBP
                        minimum:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "0.00"
                            currency: GBP
                        maximum:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "0.00"
                            currency: GBP
                        transaction_count: 0
                        income_percentage: "0.00"
                    essential_spending:
                      mortgage_repayment:
                        total:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "3000.00"
                            currency: GBP
                        average:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "1000.00"
                            currency: GBP
                        minimum:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "1000.00"
                            currency: GBP
                        maximum:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "1000.00"
                            currency: GBP
                        transaction_count: 3
                        income_percentage: "40.00"
                      utilities_water:
                        total:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "103.74"
                            currency: GBP
                        average:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "34.58"
                            currency: GBP
                        minimum:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "34.58"
                            currency: GBP
                        maximum:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "34.58"
                            currency: GBP
                        transaction_count: 3
                        income_percentage: "1.38"
                      utilities_energy:
                        total:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "291.00"
                            currency: GBP
                        average:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "97.00"
                            currency: GBP
                        minimum:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "97.00"
                            currency: GBP
                        maximum:
                          incoming:
                            value: "0.00"
                            currency: GBP
                          outgoing:
                            value: "97.00"
                            currency: GBP
                        transaction_count: 3
                        income_percentage: "3.88"
                metadata:
                  schema:
                  - name: total_income
                    transaction_categories:
                    - employment_income
                    - benefits
                    - other_income
                  - name: essential_spending
                    transaction_categories:
                    - mortgage_repayment
                    - utilities_water
                    - utilities_energy
                    - public_transport
                  from: 2020-01-01
                  to: 2020-03-31
        "400":
          description: The request contains an invalid payload
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/affordability/report:
    get:
      tags:
      - Retrieve Affordability Report
      summary: Retrieve Affordability Report
      description: Get an overview of a customer's financial status.
      operationId: v1_affordability_report
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: month_from
        in: query
        description: "Month (`YYYY-MM`) from which the transactions should be returned\
          \ from, this works in pair with the `month_to` parameter."
        required: false
        schema:
          type: string
        example: 2019-02
      - name: month_to
        in: query
        description: "Month (`YYYY-MM`) from which the transactions should be returned\
          \ to, this works in pair with the `month_from` parameter."
        required: false
        schema:
          type: string
        example: 2019-03
      - name: currency
        in: query
        required: false
        style: form
        explode: true
        schema:
          type: string
          description: Currency code for relevant transactions (default `GBP`).
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AffordabilityReportResponse'
              example:
                operation_id: v1_affordability_report
                data:
                  months_assessed:
                    start: 2022-01
                    end: 2022-03
                  accounts:
                    connected: 3
                    holder_names:
                    - John Doe
                    missing_data:
                      income: false
                      expenditure: false
                  assessment:
                    income:
                      net_disposable:
                        predicted_monthly:
                          value: "1500.00"
                          currency: GBP
                        _links:
                          transactions: /v1/affordability/transactions?criteria=net_disposable_income
                      net_discretionary:
                        predicted_monthly:
                          value: "70.00"
                          currency: GBP
                        _links:
                          income_transactions: /v1/affordability/transactions?criteria=net_disposable_income
                          expenditure_transactions: /v1/affordability/transactions?criteria=essential_expenditure
                    expenditure:
                      fixed:
                        predicted_monthly:
                          value: "1000.00"
                          currency: GBP
                        _links:
                          transactions: /v1/affordability/transactions?criteria=fixed_expenditure
                      flexible:
                        predicted_monthly_range:
                          low:
                            value: "10.00"
                            currency: GBP
                          high:
                            value: "100.00"
                            currency: GBP
                          average:
                            value: "56.00"
                            currency: GBP
                        _links:
                          transactions: /v1/affordability/transactions?criteria=flexible_expenditure
                      essential:
                        predicted_monthly:
                          value: "500.00"
                          currency: GBP
                        _links:
                          transactions: /v1/affordability/transactions?criteria=essential_expenditure
                      non_essential:
                        predicted_monthly:
                          value: "80.00"
                          currency: GBP
                        _links:
                          transactions: /v1/affordability/transactions?criteria=non_essential_expenditure
        "400":
          description: The request contains an invalid payload
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/affordability/transactions:
    get:
      tags:
      - Retrieve Affordability Report
      summary: Retrieve Affordability Transactions
      description: View the transactions that were used to calculate a customer's
        Retrieve Affordability Report.
      operationId: v1_affordability_transactions
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: date_from
        in: query
        schema:
          $ref: '#/schemas/DateTimeISO8601'
      - name: date_to
        in: query
        schema:
          $ref: '#/schemas/DateTimeISO8601'
      - name: criteria
        in: query
        schema:
          type: array
          items:
            $ref: '#/components/schemas/AffordabilityCriteria'
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SpendingGroupsTransactionsResponse'
              example:
                operation_id: v1_affordability_transactions_get
                data:
                - transaction_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  account_id: fdcc55c6-f347-4abc-8c66-61ff290d8bd4
                  description: Bud
                  date: 2012-05-30
                  indicator: Credit
                  amount:
                    amount: "1500.00"
                    currency: GBP
                  categories:
                    l1: finances
                    l2: income
                  criteria_satisfied:
                  - net_disposable_income
        "400":
          description: The request contains an invalid payload
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/kyc/check/company:
    post:
      tags:
      - Perform KYC Check
      summary: Initiate Company Check
      description: Initiate a task to perform a check against a company.
      operationId: v1_kyc_check_company_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CheckCompanyRequest'
            example:
              company:
                description: Bud Financial Limited
                name: Bud financial
                phone:
                  number: "4407492429214"
                  type: mobile
                registered:
                  country: GB
                  county: Greater London
                  line_five: null
                  line_four: null
                  line_six: null
                  line_three: Ground floor
                  name_number: 25B
                  postcode: E29DG
                  state: United Kingdom
                  street: Vyner Street
                  town: London
                registration_number: "09651629"
                tax_number: "9651629"
                trading:
                  country: GB
                  county: Greater London
                  line_five: null
                  line_four: null
                  line_six: null
                  line_three: Ground floor
                  name_number: 25B
                  postcode: E29DG
                  state: United Kingdom
                  street: Vyner Street
                  town: London
                type: Ltd
                vat_number: GB243609761
                website: thisisbud.com
              contacts:
              - bank_account:
                  account_number: "31926819"
                  sort_code: "123456"
                current_address:
                  country: GB
                  county: Greater London
                  line_five: null
                  line_four: null
                  line_six: null
                  line_three: Ground floor
                  name_number: 25B
                  postcode: E29DG
                  state: United Kingdom
                  street: Vyner Street
                  town: London
                date_of_birth: 1984-12-26
                email_address:
                - test@thisisbud.com
                first_name: John
                gender: male
                identification_details:
                - issuing_country: GB
                  number: P4312345
                  type: passport
                last_name: Doh
                middle_name: Paul
                phone:
                - number: "07939225566"
                  type: mobile
                previous_address:
                - country: GB
                  county: Greater London
                  line_five: null
                  line_four: null
                  line_six: null
                  line_three: Ground floor
                  name_number: 25B
                  postcode: E29DG
                  state: United Kingdom
                  street: Vyner Street
                  town: London
                title: mr
              custom_data:
              - key: my-user-id
                value: "123"
              header:
                profile_uuid: cee4baf2-09a7-4185-bce1-d35236d93e0b
                transaction_reference: cos-1
        required: true
      responses:
        "201":
          description: The company check has been initiated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CheckResponseCheckId'
              example:
                operation_id: v1_kyc_check_company_post
                data:
                  check_uuid: 264e05261ac411d66fd597763baf63142e2894810495788bc5dedcb5fbabcdef
        "400":
          description: The request contains an invalid payload.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadKycRequestResponse'
              example:
                operation_id: v1_kyc_check_company_post
                error:
                  timestamp: 2021-01-08T12:19:33.331
                  status: 400
                  error: Bad Request
                  path: /v3/check/company
                  errorDetail:
                  - field: company
                    message: must not be null
        "405":
          description: The request uses an unexpected HTTP method.
        "5XX":
          description: An unexpected error occurred on the server side.
      security:
      - OAuth2: []
  /v1/kyc/check/person:
    post:
      tags:
      - Perform KYC Check
      summary: Initiate Person Check
      description: Initiate a task to perform a check against a person.
      operationId: v1_kyc_check_person_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CheckPersonRequest'
            example:
              person:
                bank_account:
                  account_number: "31926819"
                  sort_code: "123456"
                current_address:
                  country: GB
                  county: Greater London
                  line_five: null
                  line_four: null
                  line_six: null
                  line_three: Ground floor
                  name_number: 25B
                  postcode: E29DG
                  state: United Kingdom
                  street: Vyner Street
                  town: London
                date_of_birth: 1984-12-26
                email_address:
                - test@thisisbud.com
                first_name: John
                gender: male
                identification_details:
                - issuing_country: GB
                  number: P4312345
                  type: passport
                last_name: Doh
                middle_name: Paul
                phone:
                - number: "07939225566"
                  type: mobile
                previous_address:
                - country: GB
                  county: Greater London
                  line_five: null
                  line_four: null
                  line_six: null
                  line_three: Ground floor
                  name_number: 25B
                  postcode: E29DG
                  state: United Kingdom
                  street: Vyner Street
                  town: London
                title: mr
              custom_data:
              - key: my-user-id
                value: "123"
              header:
                profile_uuid: cee4baf2-09a7-4185-bce1-d35236d93e0b
                transaction_reference: ppl-38
        required: true
      responses:
        "201":
          description: The person check has been initiated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CheckResponseCheckId'
              example:
                operation_id: v1_kyc_check_person_post
                data:
                  check_uuid: 264e05261ac411d66fd597763baf63142e2894810495788bc5dedcb5fbabcdef
        "400":
          description: The request contains an invalid payload.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadKycRequestResponse'
              example:
                operation_id: v1_kyc_check_person_post
                error:
                  timestamp: 2021-01-08T12:19:33.331
                  status: 400
                  error: Bad Request
                  path: /v3/check/person
                  errorDetail:
                  - field: person
                    message: must not be null
        "405":
          description: The request uses an unexpected HTTP method.
        "5XX":
          description: An unexpected error occurred on the server side.
      security:
      - OAuth2: []
  /v1/kyc/check/{check_uuid}:
    get:
      tags:
      - Perform KYC Check
      summary: Retrieve KYC Check
      description: Return a summary for a check.
      operationId: v1_kyc_check_status_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: check_uuid
        in: path
        description: checkUuid
        required: true
        style: simple
        explode: false
        schema:
          type: string
      responses:
        "200":
          description: The company check has been initiated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CheckStatusResponse'
              examples:
                Green:
                  value:
                    operation_id: v1_kyc_check_status_get
                    data:
                      alerts:
                      - category: company
                        crid: "1069"
                        message: Company postcode does not match registered company
                          postcode
                        score: 50
                        type: alert
                      category: company
                      center_location: string
                      client_name: ""
                      company_name: Bud
                      date: 2021-01-14 14:17:35
                      document_count: 0
                      org_uid: 3737f60f-d009-4dcc-bee2-d35236d93e0b
                      profile:
                        name: Bud 2+2
                        uuid: cee4baf2-09a7-4185-bce1-d35236d93e0b
                      rag: green
                      score: 50
                      status: live
                      suspicious: false
                      transaction_reference: cos-1
                      user: budwebservicetest
                      uuid: 31d952f1871666fc0597fb4901378ecb7fb6f413c8ff0df0f0b2a90b9c24fa8d
                Amber:
                  value:
                    operation_id: v1_kyc_check_status_get
                    data:
                      alerts:
                      - category: company
                        crid: "1069"
                        message: Company not found on Companies Register for selected
                          country
                        score: 100
                        type: alert
                      - type: alert
                        crid: "1599"
                        message: Company Status is Administration
                        score: 100
                      category: company
                      center_location: string
                      client_name: ""
                      company_name: Bud
                      date: 2021-01-14 14:17:35
                      document_count: 0
                      org_uid: 3737f60f-d009-4dcc-bee2-d35236d93e0b
                      profile:
                        name: Bud 2+2
                        uuid: cee4baf2-09a7-4185-bce1-d35236d93e0b
                      rag: amber
                      score: 100
                      status: live
                      suspicious: false
                      transaction_reference: cos-3
                      user: budwebservicetest
                      uuid: 31d952f1871666fc0597fb4901378ecb7fb6f413c8ff0df0f0b2a90b9c24fa8d
                Red:
                  value:
                    operation_id: v1_kyc_check_status_get
                    data:
                      alerts:
                      - type: alert
                        crid: "1599"
                        message: Company Status is Administration
                        score: 100
                      category: company
                      center_location: string
                      client_name: ""
                      company_name: Bud
                      date: 2021-01-14 14:17:35
                      document_count: 0
                      org_uid: 3737f60f-d009-4dcc-bee2-d35236d93e0b
                      profile:
                        name: Bud 2+2
                        uuid: cee4baf2-09a7-4185-bce1-d35236d93e0b
                      rag: red
                      score: 100
                      status: live
                      suspicious: false
                      transaction_reference: cos-3
                      user: budwebservicetest
                      uuid: 31d952f1871666fc0597fb4901378ecb7fb6f413c8ff0df0f0b2a90b9c24fa8d
                Error:
                  value:
                    operation_id: v1_kyc_check_status_get
                    data:
                      uuid: 1621fbc8e76aae853606545dc6a05fbd578d9d50760445a12a9a5a57f376038d
                      error_messages:
                      - Wrong Credentials. ProfileId and OrganisationId do not match.
        "404":
          description: The resource was not found.
        "405":
          description: The request uses an unexpected HTTP method.
        "5XX":
          description: An unexpected error occurred on the server side.
      security:
      - OAuth2: []
  /v1/payments/providers:
    get:
      tags:
      - Initiate Payment - Bud license
      - Initiate Payment - Client license
      summary: Retrieve Providers
      description: This endpoint is used list the payment service providers (PSPs)
        supported via Bud's Payment APIs.
      operationId: v1_payments_providers_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: country
        in: query
        description: Country filter as a comma separated list of country codes following
          the ISO 3166 alpha-3 code format.
        schema:
          type: string
        example: "GBR,DEU"
      - name: product
        in: query
        description: Product filter as a comma separated list of bud supported products
        schema:
          $ref: '#/schemas/PaymentServices'
      - name: type
        in: query
        description: "A comma separated list of Bud support provider types to be shown.\
          \ If no filter is applied, all the providers are returned."
        required: false
        schema:
          type: string
          enum:
          - sandbox
          - business
          - retail
      responses:
        "200":
          description: Successful request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentProvidersResponse'
              example:
                operation_id: v1_payments_providers_get
                data:
                - provider: barclays
                  display_name: Barclays
                  icon: https://www.thisisbud.com/provider/resource/#1
                  services:
                  - domestic-single-payment
                  - domestic-standing-order
                  - domestic-scheduled-payment
                  maintenance_status: active
                  maintenance_window:
                    start: 2019-08-07T11:48:00+0000
                    end: 2019-08-07T11:00:00+0000
                  country_code: GBR
                  implementation_type: OpenbankingUK
                  supported_currencies:
                  - GBP
                  required_actions:
                  - confirm_single_payment
                  - confirm_standing_order
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/payments/single/bud-pay-url:
    post:
      tags:
      - Initiate Payment - Bud license
      summary: Retrieve Bud Pay URL - Single Payment
      description: "Retrieve a Bud Pay URL to initiate a single payment. Please note\
        \ that this endpoint should be used if you are using Bud as a Third Party\
        \ Provider (TPP), i.e. you are not yourself regulated as an Payment Initiation\
        \ Service Provider (PISP)"
      operationId: v1_payments_single_bud_pay_url_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentsSingleBudPayURLRequest'
            examples:
              Bud Pay URL UK:
                value:
                  redirect_url: https://client-redirect-url/example
                  provider: natwest
                  provider_types:
                  - retail
                  payment_details:
                    reference: PAYMENT REFERENCE
                    recipient:
                      type: SortCodeAccountNumber
                      name: MR TEST RECIPIENT
                      account_number: "01234501234567"
                    sender:
                      user_id: client-defined-user-id
                      name: Mr TEST SENDER
                    amount:
                      value: "2.50"
                      currency: GBP
              Bud Pay URL Europe:
                value:
                  redirect_url: https://client-redirect-url/foo
                  provider: commerzbank
                  payment_details:
                    reference: REFERENCE FOR PAYMENT
                    recipient:
                      type: IBAN
                      name: MR TEST RECIPIENT
                      account_number: DE40100100103307118603
                    sender:
                      user_id: client-defined-user-id
                      name: Mr TEST SENDER
                      type: IBAN
                      account_number: DE50100100103307118608
                    amount:
                      value: "2.50"
                      currency: EUR
        required: true
      responses:
        "200":
          description: Successful request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BudPayResponse'
              example:
                operation_id: v1_payments_single_bud_pay_url_post
                data:
                  bud_pay_url: https://www.thisisbud.com/v1/payment/bud-pay
                  payment_id: 56caec01-85cc-4fc6-8080-cc0f7ed03a7e
        "400":
          description: The request contains an invalid payload and/or header
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_single_bud_pay_url_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  redirect_url: This value should not be blank
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      callbacks:
        payment-event:
          '{$request.body#/endpoint}':
            description: |
              This callback is sent to your configured Payment Status Updates webhook URL once a payment task has been successfully completed.
            post:
              summary: Payment Update Notification Callback
              parameters:
              - name: X-Signature
                in: header
                description: The signed request body JWT
                required: true
                schema:
                  type: string
              - name: X-Signing-ID
                in: header
                description: The public key ID which should be used to verify the
                  X-Signature header. Bud's list of public keys can be found at https://assets.thisisbud.com/bud-callback.jwks
                required: true
                schema:
                  type: string
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/PaymentStatusUpdatedNotificationBody'
                    example:
                      data:
                        payment_id: c8c934f0-366c-4656-a686-ada2aacd0d9f
                        service: domestic-single-payment
                        user_id: client-defined-user-id
                        event: payment.success
              responses:
                "200":
                  description: Your server returns this code if it accepts the callback
                "300":
                  description: "The notification will not be retried, redirects will\
                    \ not be followed"
                "400":
                  description: The notification will not be retried
                "500":
                  description: |
                    The request will be retried shortly. If it fails multiple times, we will stop attempting to deliver the notification for this single event.
      security:
      - OAuth2: []
  /v1/payments/standing-order/bud-pay-url:
    post:
      tags:
      - Initiate Payment - Bud license
      summary: Retrieve Bud Pay URL - Standing Order
      description: "Retrieve a Bud Pay URL to initiate a Standing Order. Please note\
        \ that this endpoint should be used if you are using Bud as a Third Party\
        \ Provider (TPP), i.e. you are not yourself regulated as an Payment Initiation\
        \ Service Provider (PISP)"
      operationId: v1_payments_standing_order_bud_pay_url_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentsStandingOrderBudPayURLRequest'
            example:
              redirect_url: https://client-redirect-url/example
              provider_types:
              - retail
              provider: BankOfBudOBUK
              standing_order_details:
                reference: PAYMENT REFERENCE
                recipient:
                  type: SortCodeAccountNumber
                  name: MR TEST RECIPIENT
                  account_number: "01234501234567"
                sender:
                  user_id: client-defined-user-id
                  name: MR TEST SENDER
                recurring_amount:
                  value: "2.50"
                  currency: GBP
                first_payment_date: 2023-02-10
                last_payment_date: 2023-02-10
                frequency: monthly
        required: true
      responses:
        "200":
          description: Successful request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BudPayResponse'
              example:
                operation_id: v1_payments_standing_order_bud_pay_url_post
                data:
                  bud_pay_url: https://www.thisisbud.com/v1/payment/bud-pay
                  payment_id: 56caec01-85cc-4fc6-8080-cc0f7ed03a7e
        "400":
          description: The request contains an invalid payload and/or header
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_standing_order_bud_pay_url_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  redirect_url: This value should not be blank
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      callbacks:
        payment-event:
          '{$request.body#/endpoint}':
            description: |
              This callback is sent to your configured Payment Status Updates webhook URL once a payment task has been successfully completed.
            post:
              summary: Payment Update Notification Callback
              parameters:
              - name: X-Signature
                in: header
                description: The signed request body JWT
                required: true
                schema:
                  type: string
              - name: X-Signing-ID
                in: header
                description: The public key ID which should be used to verify the
                  X-Signature header. Bud's list of public keys can be found at https://assets.thisisbud.com/bud-callback.jwks
                required: true
                schema:
                  type: string
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/PaymentStatusUpdatedNotificationBody'
                    example:
                      data:
                        payment_id: c8c934f0-366c-4656-a686-ada2aacd0d9f
                        service: domestic-standing-order
                        user_id: client-defined-user-id
                        event: payment.success
              responses:
                "200":
                  description: Your server returns this code if it accepts the callback
                "300":
                  description: "The notification will not be retried, redirects will\
                    \ not be followed"
                "400":
                  description: The notification will not be retried
                "500":
                  description: |
                    The request will be retried shortly. If it fails multiple times, we will stop attempting to deliver the notification for this single event.
      security:
      - OAuth2: []
  /v1/payments/scheduled/bud-pay-url:
    post:
      tags:
      - Initiate Payment - Bud license
      summary: Retrieve Bud Pay URL - Scheduled Payment
      description: "Retrieve a Bud Pay URL to initiate a Scheduled Payment. Please\
        \ note that this endpoint should be used if you are using Bud as a Third Party\
        \ Provider (TPP), i.e. you are not yourself regulated as an Payment Initiation\
        \ Service Provider (PISP)"
      operationId: v1_payments_scheduled_bud_pay_url_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentsScheduledPaymentBudPayURLRequest'
            example:
              redirect_url: https://client-redirect-url/example
              provider: natwest
              provider_types:
              - retail
              scheduled_payment_details:
                reference: PAYMENT REFERENCE
                recipient:
                  type: SortCodeAccountNumber
                  name: MR TEST RECIPIENT
                  account_number: "01234501234567"
                sender:
                  user_id: client-defined-user-id
                  name: MR TEST SENDER
                amount:
                  value: "2.50"
                  currency: GBP
                requested_execution_date: 2023-01-20
        required: true
      responses:
        "200":
          description: Successful request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BudPayResponse'
              example:
                operation_id: v1_payments_scheduled_bud_pay_url_post
                data:
                  bud_pay_url: https://www.thisisbud.com/v1/payment/bud-pay
                  payment_id: 56caec01-85cc-4fc6-8080-cc0f7ed03a7e
        "400":
          description: The request contains an invalid payload and/or header
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_scheduled_bud_pay_url_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  redirect_url: This value should not be blank
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      callbacks:
        payment-event:
          '{$request.body#/endpoint}':
            description: |
              This callback is sent to your configured Payment Status Updates webhook URL once a payment task has been successfully completed.
            post:
              summary: Payment Update Notification Callback
              parameters:
              - name: X-Signature
                in: header
                description: The signed request body JWT
                required: true
                schema:
                  type: string
              - name: X-Signing-ID
                in: header
                description: The public key ID which should be used to verify the
                  X-Signature header. Bud's list of public keys can be found at https://assets.thisisbud.com/bud-callback.jwks
                required: true
                schema:
                  type: string
              requestBody:
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/PaymentStatusUpdatedNotificationBody'
                    example:
                      data:
                        payment_id: c8c934f0-366c-4656-a686-ada2aacd0d9f
                        service: domestic-scheduled-payment
                        user_id: client-defined-user-id
                        event: payment.success
              responses:
                "200":
                  description: Your server returns this code if it accepts the callback
                "300":
                  description: "The notification will not be retried, redirects will\
                    \ not be followed"
                "400":
                  description: The notification will not be retried
                "500":
                  description: |
                    The request will be retried shortly. If it fails multiple times, we will stop attempting to deliver the notification for this single event.
      security:
      - OAuth2: []
  /v1/payments/single:
    get:
      tags:
      - Manage Payments
      summary: Retrieve Single Payments
      description: Retrieve and view the status of multiple payments
      operationId: v1_payment_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Payment-Id
        in: header
        description: Payment ID filter
        required: false
        schema:
          type: string
        example: 84470aa9-71a2-4da2-8fa4-660adbf2c9b2
      - name: X-Page-Number
        in: header
        description: Page number filter
        required: false
        schema:
          type: string
        example: "1"
      - name: X-Sender-Providers
        in: header
        description: comma separated list of providers name filter
        required: false
        schema:
          type: string
        example: "Lloyds,Nationwide"
      - name: X-Status-Codes
        in: header
        description: comma separated list of status codes filter
        required: false
        schema:
          type: string
        example: "CREATED,SETTLED"
      - name: X-Date-From
        in: header
        description: Date from filter
        schema:
          type: string
        example: 2020-06-01T15:00:00Z
      - name: X-Date-To
        in: header
        description: Date to filter
        schema:
          type: string
        example: 2020-06-01T15:00:00Z
      - name: X-Amount-From
        in: header
        description: Amount from filter
        required: false
        schema:
          type: string
        example: "10.00"
      - name: X-Amount-To
        in: header
        description: Amount to filter
        required: false
        schema:
          type: string
        example: "10000.00"
      responses:
        "200":
          description: Successful request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListSinglePaymentResponse'
              examples:
                Payment Status List UK:
                  value:
                    operation_id: v1_payment_get
                    data:
                    - payment_id: 89f80199-1199-400e-9092-17208f6f39f5
                      organisation_id: 22f80199-1199-400e-9092-17208f6f39f0
                      client_id: 22f80199-1199-400e-9092-17208f6f39f0
                      method: FPS
                      reference: Rent
                      recipient:
                        type: SortCodeAccountNumber
                        name: MR TEST RECIPIENT
                        account_number: "01234501234567"
                      amount:
                        value: "10.00"
                        currency: GBP
                      sender:
                        user_id: client-defined-user-id
                        name: MR RANDOM SENDER
                        provider: Natwest
                      known_charges:
                        recipient_charge:
                          charge: "1.50"
                          currency: GBP
                          recipient_receives: "7.00"
                        sender_charge:
                          charge: "1.50"
                          currency: GBP
                          bank_sends: "10.00"
                          total_cost: "11.50"
                      state:
                        status_code: SETTLED
                        status_message: Payment Settlement Complete
                        history:
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: CREATED
                          message: Payment created
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: AWAITING_AUTH
                          message: Awaiting Authentication
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: AUTHENTICATED
                          message: Authenticated; Confirming Funds
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: FUNDS_CONFIRMED
                          message: Funds Confirmed; Awaiting Payment Initiation
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: INITIATING
                          message: Initiating Payment
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: ACCEPTED
                          message: Payment Order Accepted
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: SETTLED
                          message: Payment Settlement Complete
                      supplementary_status:
                        payment_order:
                          status: AcceptedSettlementInProgress
                          history:
                          - datetime: 2020-02-02T12:29:37.628944815Z
                            status: Pending
                          - datetime: 2020-02-02T12:29:38.628944815Z
                            status: AcceptedSettlementInProgress
                        consent:
                          status: Authorised
                          history:
                          - datetime: 2020-02-02T12:29:34.828944815Z
                            status: AwaitingAuthorisation
                          - datetime: 2020-02-02T12:29:35.028944815Z
                            status: Authorised
                        confirmation_of_funds:
                          status: Available
                          history:
                          - datetime: 2020-02-02T12:29:35.028944815Z
                            status: Available
                      required_action: null
                      errors:
                      - code: FAILED_FUNDS_CONFIRMATION
                        description: The call to the provider to confirm funds returned
                          an error
                      created_at: 2020-02-02T12:29:33.428944815Z
                    metadata:
                      total_results: 1000000
                      results: 10
                      page: 1
                      total_pages: 100000
                Payment Status List Europe:
                  value:
                    operation_id: v1_payment_get
                    data:
                    - payment_id: 89f80199-1199-400e-9092-17208f6f39f5
                      organisation_id: 22f80199-1199-400e-9092-17208f6f39f0
                      client_id: 22f80199-1199-400e-9092-17208f6f39f0
                      method: SEPA
                      reference: Rent
                      recipient:
                        type: IBAN
                        name: MR TEST RECIPIENT
                        account_number: DE40100100103307118605
                      amount:
                        value: "10.00"
                        currency: EUR
                      sender:
                        user_id: client-defined-user-id
                        type: IBAN
                        name: MR RANDOM SENDER
                        account_number: DE02100100109307118606
                        provider: commerzbank
                      known_charges:
                        recipient_charge:
                          charge: "1.50"
                          currency: EUR
                          recipient_receives: "7.00"
                        sender_charge:
                          charge: "1.50"
                          currency: EUR
                          bank_sends: "10.00"
                          total_cost: "11.50"
                      state:
                        status_code: SETTLED
                        status_message: Payment Settlement Complete
                        history:
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: CREATED
                          message: Payment created
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: AWAITING_AUTH
                          message: Awaiting Authentication
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: AUTHENTICATED
                          message: Authenticated; Confirming Funds
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: FUNDS_CONFIRMED
                          message: Funds Confirmed; Awaiting Payment Initiation
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: INITIATING
                          message: Initiating Payment
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: ACCEPTED
                          message: Payment Order Accepted
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: SETTLED
                          message: Payment Settlement Complete
                      supplementary_status:
                        payment_order:
                          status: AcceptedSettlementInProgress
                          history:
                          - datetime: 2020-02-02T12:29:37.628944815Z
                            status: Pending
                          - datetime: 2020-02-02T12:29:38.628944815Z
                            status: AcceptedSettlementInProgress
                        consent:
                          status: Authorised
                          history:
                          - datetime: 2020-02-02T12:29:34.828944815Z
                            status: AwaitingAuthorisation
                          - datetime: 2020-02-02T12:29:35.028944815Z
                            status: Authorised
                        confirmation_of_funds:
                          status: Available
                          history:
                          - datetime: 2020-02-02T12:29:35.028944815Z
                            status: Available
                      required_action: null
                      errors:
                      - code: FAILED_FUNDS_CONFIRMATION
                        description: The call to the provider to confirm funds returned
                          an error
                      created_at: 2020-02-02T12:29:33.428944815Z
                    metadata:
                      total_results: 1000000
                      results: 10
                      page: 1
                      total_pages: 100000
        "404":
          description: Resource not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_payment_id_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  payment_id: Value not found
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
    post:
      tags:
      - Initiate Payment - Client license
      summary: Create Single Payment
      description: "Create a unique single payment identifier and retrieve the authorisation\
        \ url for the specific payment provider. Please note that this endpoint can\
        \ only be used in the event that you are using Bud as a Technical Service\
        \ Provider (TSP), i.e. you must be regulated as an Payment Initiation Service\
        \ Provider (PISP)"
      operationId: v1_payments_single_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SinglePaymentRequest'
            examples:
              Create Payment UK:
                value:
                  redirect_url: https://your-app.com/connected?my-parameter=xyz
                  provider: lloyds
                  payment_details:
                    reference: PAYMENT REFERENCE
                    recipient:
                      type: SortCodeAccountNumber
                      name: MR TEST RECIPIENT
                      account_number: "01234501234567"
                    sender:
                      user_id: client-defined-user-id
                      name: MR TEST SENDER
                    amount:
                      value: "2.50"
                      currency: GBP
              Create Payment Europe:
                value:
                  redirect_url: https://your-app.com/connected?my-parameter=xyz
                  provider: commerzbank
                  payment_details:
                    reference: PAYMENT REFERENCE
                    recipient:
                      type: IBAN
                      name: MR TEST RECIPIENT
                      account_number: DE40100100103307118605
                    sender:
                      user_id: client-defined-user-id
                      type: IBAN
                      name: MR TEST SENDER
                      account_number: DE02100100109307118608
                    amount:
                      value: "2.50"
                      currency: EUR
        required: true
      responses:
        "200":
          description: Successful request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SinglePaymentResponse'
              example:
                operation_id: v1_payments_single_post
                data:
                  payment_id: 56caec01-85cc-4fc6-8080-cc0f7ed03a7e
                  authorisation_url: https://www.thisisbud.com/provider/specific/redirect/url
                  required_action: confirm_single_payment
        "400":
          description: The request contains an invalid payload and/or header
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_single_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  recipient.sort_code: "Sort code must match `^\\d{6}$`"
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/payments/authorisation-codes:
    post:
      tags:
      - Initiate Payment - Client license
      summary: Submit Authorisation Codes
      description: |
        When using Bud as a TSP (Technical Service Provider) and doing full app-to-app authorisation, the customer is returned from the provider directly back to your app. Your app will then need to send all the query and hash fragment parameters to Bud so that we can continue with the payment flow.

        Query and fragment parameters should be merged with query taking precedence. If you receive a request /path?a=1#a=2&b=3 then you should perform this request with {"a":"1","b":"3"}. Given the nature of the fragment queries most server side languages will not process these so javascript may be required to correctly gather both parameters.

        Regardless of what parameters are present, all of them should be sent to Bud so that we can choose to either continue the connection or to map and record the error.

        State, Code and error are the most common parameters you will see, but this object may contain any number of unspecified properties. Currently state is a common property among all authorisation flows and is the current task ID. The state property is not guaranteed for the future of this API contract and will not be treated as backwards incompatible if a new authentication flow does not use it.
      operationId: v1_payments_authorisation_codes_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthorisationCodesRequest'
            examples:
              Success:
                value:
                  state: e017bd1c-9b39-40cc-b9ec-e21fce26719e
                  code: 803A940E-2416-4A34-BF5F-4AC8C9977AC4
              Error:
                value:
                  state: e017bd1c-9b39-40cc-b9ec-e21fce26719e
                  error: access_denied
        required: true
      responses:
        "200":
          description: Successful request.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentsAuthorisationCodesResponse'
              example:
                operation_id: v1_payments_authorisation_codes_post
                data:
                  result: success
                  payment_id: 5edb14fe-ab4b-4357-ae15-98765c599fb5
                  payment_type: single
        "400":
          description: Request contained invalid/missing data
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentsErrorResponse'
              example:
                operation_id: v1_payments_authorisation_codes_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  payment: "unable to find payment for [Payment ID]"
        "500":
          description: An internal server error has occurred
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaymentsErrorResponse'
              example:
                operation_id: v1_payments_authorisation_codes_post
                code_id: internal_error
                message: Internal server error has occurred
                errors:
                  db: could not fetch payment resource
      security:
      - OAuth2: []
  /v1/payments/single/{payment_id}/confirm:
    post:
      tags:
      - Initiate Payment - Client license
      summary: Confirm Single Payment
      description: Confirm and execute payment order for a specific payment.
      operationId: v1_payments_single_confirm_post
      parameters:
      - name: payment_id
        in: path
        description: Bud Payment Identifier
        required: true
        schema:
          type: string
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      responses:
        "201":
          description: Payment order created successfully
          content:
            application/json:
              example:
                operation_id: v1_payments_single_confirm_post
        "400":
          description: "Not allowed to confirm payment. Either there is no consent,\
            \ not authorised or the payment order has already been created"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_single_confirm_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  payment: Payment initiation failed
        "401":
          description: Unauthorised request
        "404":
          description: Resource not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_single_confirm_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  payment_id: Value not found
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/payments/single/{payment_id}:
    get:
      tags:
      - Manage Payments
      summary: Retrieve Single Payment Status
      description: Retrieve and view the status of a payment
      operationId: v1_payments_single_payment_id_get
      parameters:
      - name: payment_id
        in: path
        description: Bud Payment Identifier
        required: true
        schema:
          type: string
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      responses:
        "200":
          description: Successful request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StatusSinglePaymentResponse'
              examples:
                Payment Status UK:
                  value:
                    operation_id: v1_payments_single_payment_id_get
                    data:
                      payment_id: 89f80199-1199-400e-9092-17208f6f39f5
                      organisation_id: 22f80199-1199-400e-9092-17208f6f39f0
                      client_id: 22f80199-1199-400e-9092-17208f6f39f0
                      method: FPS
                      reference: Rent
                      recipient:
                        type: SortCodeAccountNumber
                        name: MR TEST RECIPIENT
                        account_number: "01234501234567"
                      amount:
                        value: "10.00"
                        currency: GBP
                      sender:
                        user_id: client-defined-user-id
                        name: MR TEST SENDER
                        provider: Natwest
                      known_charges:
                        recipient_charge:
                          charge: "1.50"
                          currency: GBP
                          recipient_receives: "7.00"
                        sender_charge:
                          charge: "1.50"
                          currency: GBP
                          bank_sends: "10.00"
                          total_cost: "11.50"
                      state:
                        status_code: SETTLED
                        status_message: Payment Settlement Complete
                        history:
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: CREATED
                          message: Payment created
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: AWAITING_AUTH
                          message: Awaiting Authentication
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: AUTHENTICATED
                          message: Authenticated; Confirming Funds
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: FUNDS_CONFIRMED
                          message: Funds Confirmed; Awaiting Payment Initiation
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: INITIATING
                          message: Initiating Payment
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: ACCEPTED
                          message: Payment Order Accepted
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: SETTLED
                          message: Payment Settlement Complete
                      supplementary_status:
                        payment_order:
                          status: AcceptedSettlementInProgress
                          history:
                          - datetime: 2020-02-02T12:29:37.628944815Z
                            status: Pending
                          - datetime: 2020-02-02T12:29:38.628944815Z
                            status: AcceptedSettlementInProgress
                        consent:
                          status: Authorised
                          history:
                          - datetime: 2020-02-02T12:29:34.828944815Z
                            status: AwaitingAuthorisation
                          - datetime: 2020-02-02T12:29:35.028944815Z
                            status: Authorised
                        confirmation_of_funds:
                          status: Available
                          history:
                          - datetime: 2020-02-02T12:29:35.028944815Z
                            status: Available
                      required_action: null
                      errors:
                      - code: FAILED_FUNDS_CONFIRMATION
                        description: The call to the provider to confirm funds returned
                          an error
                      created_at: 2020-02-02T12:29:33.428944815Z
                    metadata: []
                Payment Status Europe:
                  value:
                    operation_id: v1_payments_single_payment_id_get
                    data:
                      payment_id: 89f80199-1199-400e-9092-17208f6f39f5
                      organisation_id: 22f80199-1199-400e-9092-17208f6f39f0
                      client_id: 22f80199-1199-400e-9092-17208f6f39f0
                      method: SEPA
                      reference: Rent
                      recipient:
                        type: IBAN
                        name: MR TEST RECIPIENT
                        account_number: DE40100100103307118609
                      amount:
                        value: "10.00"
                        currency: EUR
                      sender:
                        user_id: client-defined-user-id
                        type: IBAN
                        name: MR TEST SENDER
                        account_number: DE02100100109307118606
                        provider: commerzbank
                      known_charges:
                        recipient_charge:
                          charge: "1.50"
                          currency: EUR
                          recipient_receives: "7.00"
                        sender_charge:
                          charge: "1.50"
                          currency: EUR
                          bank_sends: "10.00"
                          total_cost: "11.50"
                      state:
                        status_code: SETTLED
                        status_message: Payment Settlement Complete
                        history:
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: CREATED
                          message: Payment created
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: AWAITING_AUTH
                          message: Awaiting Authentication
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: AUTHENTICATED
                          message: Authenticated; Confirming Funds
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: FUNDS_CONFIRMED
                          message: Funds Confirmed; Awaiting Payment Initiation
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: INITIATING
                          message: Initiating Payment
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: ACCEPTED
                          message: Payment Order Accepted
                        - datetime: 2020-02-02T12:29:33.428944815Z
                          code: SETTLED
                          message: Payment Settlement Complete
                      supplementary_status:
                        payment_order:
                          status: AcceptedSettlementInProgress
                          history:
                          - datetime: 2020-02-02T12:29:37.628944815Z
                            status: Pending
                          - datetime: 2020-02-02T12:29:38.628944815Z
                            status: AcceptedSettlementInProgress
                        consent:
                          status: Authorised
                          history:
                          - datetime: 2020-02-02T12:29:34.828944815Z
                            status: AwaitingAuthorisation
                          - datetime: 2020-02-02T12:29:35.028944815Z
                            status: Authorised
                        confirmation_of_funds:
                          status: Available
                          history:
                          - datetime: 2020-02-02T12:29:35.028944815Z
                            status: Available
                      required_action: null
                      errors:
                      - code: FAILED_FUNDS_CONFIRMATION
                        description: The call to the provider to confirm funds returned
                          an error
                      created_at: 2020-02-02T12:29:33.428944815Z
                    metadata: []
        "404":
          description: Resource not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_single_payment_id_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  payment_id: Value not found
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/payments/standing-order:
    get:
      tags:
      - Manage Payments
      summary: Retrieve Standing Orders
      description: Retrieve and view the status of multiple Standing Orders
      operationId: v1_payments_standing_order_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Payment-Id
        in: header
        description: Payment ID filter
        required: false
        schema:
          type: string
        example: 84470aa9-71a2-4da2-8fa4-660adbf2c9b2
      - name: X-Page-Number
        in: header
        description: Page number filter
        required: false
        schema:
          type: string
        example: "1"
      - name: X-Sender-Providers
        in: header
        description: comma separated list of providers name filter
        required: false
        schema:
          type: string
        example: "Lloyds,Nationwide"
      - name: X-Status-Codes
        in: header
        description: comma separated list of status codes filter
        required: false
        schema:
          type: string
        example: "CREATED,SETTLED"
      - name: X-Date-From
        in: header
        description: Date from filter
        schema:
          type: string
        example: 2020-06-01T15:00:00Z
      - name: X-Date-To
        in: header
        description: Date to filter
        schema:
          type: string
        example: 2020-06-01T15:00:00Z
      - name: X-Amount-From
        in: header
        description: Amount from filter
        required: false
        schema:
          type: string
        example: "10.00"
      - name: X-Amount-To
        in: header
        description: Amount to filter
        required: false
        schema:
          type: string
        example: "10000.00"
      responses:
        "200":
          description: Successful request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListStandingOrderResponse'
              example:
                operation_id: v1_payments_standing_order_get
                data:
                - payment_id: 89f80199-1199-400e-9092-17208f6f39f5
                  organisation_id: 22f80199-1199-400e-9092-17208f6f39f0
                  client_id: 22f80199-1199-400e-9092-17208f6f39f0
                  reference: Rent
                  recipient:
                    type: SortCodeAccountNumber
                    name: MR TEST RECIPIENT
                    account_number: "01234501234567"
                  recurring_amount:
                    value: "10.00"
                    currency: GBP
                  sender:
                    user_id: client-defined-user-id
                    name: MR RANDOM SENDER
                    provider: Natwest
                  known_charges:
                    recipient_charge:
                      charge: "1.50"
                      currency: GBP
                      recipient_receives: "7.00"
                    sender_charge:
                      charge: "1.50"
                      currency: GBP
                      bank_sends: "10.00"
                      total_cost: "11.50"
                  state:
                    status_code: COMPLETED
                    status_message: Standing Order Creation Completed
                    history:
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: CREATED
                      message: Standing Order Created
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: AWAITING_AUTH
                      message: Awaiting Customer Authentication
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: AUTH_COMPLETED
                      message: Authentication Completed
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: PENDING
                      message: Payment Order Pending
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: COMPLETED
                      message: Standing Order Creation Completed
                  errors:
                  - code: FAILED
                    description: The call to the provider to confirm funds returned
                      an error
                  created_at: 2020-02-02T12:29:33.428944815Z
                  first_payment_date: 2020-02-02T12:29:33.428944815Z
                  last_payment_date: 2021-02-02T12:29:33.428944815Z
                  frequency: monthly
                  required_action: null
                metadata:
                  total_results: 1000000
                  results: 10
                  page: 1
                  total_pages: 100000
        "400":
          description: Resource not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_standing_order_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  filter: X-Date-From is in the wrong format (expected 2006-01-02T15:04:05Z)
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
    post:
      tags:
      - Initiate Payment - Client license
      summary: Create Standing Order
      description: "Create a new Standing Order payment identifier and retrieve the\
        \ authorisation url for the specific payment provider. Please note that this\
        \ endpoint can only be used in the event that you are using Bud as a Technical\
        \ Service Provider (TSP), i.e. you must be regulated as an Payment Initiation\
        \ Service Provider (PISP)"
      operationId: v1_payments_standing_order_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateStandingOrderRequest'
            example:
              redirect_url: https://your-app.com/connected?my-parameter=xyz
              provider: lloyds
              standing_order_details:
                reference: PAYMENT REFERENCE
                recipient:
                  type: SortCodeAccountNumber
                  name: MR TEST RECIPIENT
                  account_number: "01234501234567"
                sender:
                  user_id: client-defined-user-id
                  name: MR TEST SENDER
                recurring_amount:
                  value: "2.50"
                  currency: GBP
                first_payment_date: 2020-02-02T12:29:33.428944815Z
                last_payment_date: 2021-02-02T12:29:33.428944815Z
                frequency: monthly
        required: true
      responses:
        "200":
          description: Successful request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateStandingOrderResponse'
              example:
                operation_id: v1_payments_standing_order_post
                data:
                  authorisation_url: https://www.thisisbud.com/provider/specific/redirect/url
                  payment_id: 56caec01-85cc-4fc6-8080-cc0f7ed03a7e
                  required_action: confirm_standing_order
        "400":
          description: The request contains an invalid payload and/or header
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_standing_order_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  recipient.sort_code: "Sort code must match `^\\d{6}$`"
                  standing_order_details.recipient.name: Name must not be empty
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/payments/standing-order/{payment_id}/confirm:
    post:
      tags:
      - Initiate Payment - Client license
      summary: Confirm Standing Order
      description: Confirm and execute a Standing Order for a specific payment id.
      operationId: v1_payments_standing_order_confirm_post
      parameters:
      - name: payment_id
        in: path
        description: Bud Payment Identifier
        required: true
        schema:
          type: string
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      responses:
        "201":
          description: Standing order created successfully
          content:
            application/json:
              example:
                operation_id: v1_payments_standing_order_confirm_post
        "400":
          description: "Not allowed to confirm payment. Either there is no consent,\
            \ not authorised or the payment order has already been created"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_standing_order_confirm_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  payment: Payment initiation failed
        "401":
          description: Unauthorised request
        "404":
          description: Resource not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_standing_order_confirm_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  payment_id: Value not found
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/payments/standing-order/{payment_id}:
    get:
      tags:
      - Manage Payments
      summary: Retrieve Standing Order Payment Status
      description: Retrieve and view the status of a specific Standing Order payment
      operationId: v1_payments_standing_order_payment_id_get
      parameters:
      - name: payment_id
        in: path
        description: Bud Payment Identifier
        required: true
        schema:
          type: string
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      responses:
        "200":
          description: Successful request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/StatusStandingOrderResponse'
              example:
                operation_id: v1_payments_standing_order_payment_id_get
                data:
                  payment_id: 89f80199-1199-400e-9092-17208f6f39f5
                  organisation_id: 22f80199-1199-400e-9092-17208f6f39f0
                  client_id: 22f80199-1199-400e-9092-17208f6f39f0
                  method: FPS
                  reference: Rent
                  recipient:
                    type: SortCodeAccountNumber
                    name: MR TEST RECIPIENT
                    account_number: "01234501234567"
                  recurring_amount:
                    value: "10.00"
                    currency: GBP
                  sender:
                    user_id: client-defined-user-id
                    name: MR TEST SENDER
                    provider: Natwest
                  known_charges:
                    recipient_charge:
                      charge: "1.50"
                      currency: GBP
                      recipient_receives: "7.00"
                    sender_charge:
                      charge: "1.50"
                      currency: GBP
                      bank_sends: "10.00"
                      total_cost: "11.50"
                  state:
                    status_code: COMPLETED
                    status_message: Standing Order Creation Completed
                    history:
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: CREATED
                      message: Standing Order Created
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: AWAITING_AUTH
                      message: Awaiting Customer Authentication
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: AUTH_COMPLETED
                      message: Authentication Completed
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: PENDING
                      message: Payment Order Pending
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: COMPLETED
                      message: Standing Order Creation Completed
                  errors:
                  - code: FAILED
                    description: The call to the provider to confirm funds returned
                      an error
                  created_at: 2020-02-02T12:29:33.428944815Z
                  first_payment_date: 2020-02-02T12:29:33.428944815Z
                  last_payment_date: 2021-02-02T12:29:33.428944815Z
                  frequency: monthly
                  required_action: null
                metadata: []
        "404":
          description: Resource not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_standing_order_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  payment_id: Value not found
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/payments/scheduled:
    get:
      tags:
      - Manage Payments
      summary: Retrieve Scheduled Payments
      description: Retrieve and view the status of multiple Scheduled Payments
      operationId: v1_payments_scheduled_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Payment-Id
        in: header
        description: Payment ID filter
        required: false
        schema:
          type: string
        example: 84470aa9-71a2-4da2-8fa4-660adbf2c9b2
      - name: X-Page-Number
        in: header
        description: Page number filter
        required: false
        schema:
          type: string
        example: "1"
      - name: X-Sender-Providers
        in: header
        description: comma separated list of providers name filter
        required: false
        schema:
          type: string
        example: "Lloyds,Nationwide"
      - name: X-Status-Codes
        in: header
        description: comma separated list of status codes filter
        required: false
        schema:
          type: string
        example: "CREATED,SETTLED"
      - name: X-Date-From
        in: header
        description: Date from filter
        schema:
          type: string
        example: 2020-06-01T15:00:00Z
      - name: X-Date-To
        in: header
        description: Date to filter
        schema:
          type: string
        example: 2020-06-01T15:00:00Z
      - name: X-Amount-From
        in: header
        description: Amount from filter
        required: false
        schema:
          type: string
        example: "10.00"
      - name: X-Amount-To
        in: header
        description: Amount to filter
        required: false
        schema:
          type: string
        example: "10000.00"
      responses:
        "200":
          description: Successful request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListScheduledPaymentResponse'
              example:
                operation_id: v1_payments_scheduled_get
                data:
                - payment_id: 89f80199-1199-400e-9092-17208f6f39f5
                  organisation_id: 22f80199-1199-400e-9092-17208f6f39f0
                  client_id: 22f80199-1199-400e-9092-17208f6f39f0
                  reference: Rent
                  recipient:
                    type: SortCodeAccountNumber
                    name: MR TEST RECIPIENT
                    account_number: "01234501234567"
                  amount:
                    value: "10.00"
                    currency: GBP
                  sender:
                    user_id: client-defined-user-id
                    name: MR RANDOM SENDER
                    provider: Natwest
                  known_charges:
                    recipient_charge:
                      charge: "1.50"
                      currency: GBP
                      recipient_receives: "7.00"
                    sender_charge:
                      charge: "1.50"
                      currency: GBP
                      bank_sends: "10.00"
                      total_cost: "11.50"
                  state:
                    status_code: COMPLETED
                    status_message: Scheduled Payment Creation Completed
                    history:
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: CREATED
                      message: Scheduled Payment Created
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: AWAITING_AUTH
                      message: Awaiting Customer Authentication
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: AUTH_COMPLETED
                      message: Authentication Completed
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: PENDING
                      message: Payment Order Pending
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: COMPLETED
                      message: Scheduled Payment Creation Completed
                  errors:
                  - code: FAILED
                    description: The call to the provider to confirm funds returned
                      an error
                  created_at: 2020-02-02T12:29:33.428944815Z
                  requested_execution_date: 2020-02-02T12:29:33.428944815Z
                metadata:
                  total_results: 1000000
                  results: 10
                  page: 1
                  total_pages: 100000
        "400":
          description: Resource not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_scheduled_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  filter: X-Date-From is in the wrong format (expected 2006-01-02T15:04:05Z)
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
    post:
      tags:
      - Initiate Payment - Client license
      summary: Create Scheduled Payment
      description: "Create a new scheduled payment identifier and retrieve the authorisation\
        \ url for the specific payment provider. Please note that this endpoint can\
        \ only be used in the event that you are using Bud as a Technical Service\
        \ Provider (TSP), i.e. you must be regulated as an Payment Initiation Service\
        \ Provider (PISP)"
      operationId: v1_payments_scheduled_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateScheduledPaymentRequest'
            example:
              redirect_url: https://your-app.com/connected?my-parameter=xyz
              provider: lloyds
              scheduled_payment_details:
                reference: PAYMENT REFERENCE
                recipient:
                  type: SortCodeAccountNumber
                  name: MR TEST RECIPIENT
                  account_number: "01234501234567"
                sender:
                  user_id: client-defined-user-id
                  name: MR TEST SENDER
                amount:
                  value: "2.50"
                  currency: GBP
                requested_execution_date: 2020-02-02T12:29:33.428944815Z
        required: true
      responses:
        "200":
          description: Successful request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateScheduledPaymentResponse'
              example:
                operation_id: v1_payments_scheduled_post
                data:
                  authorisation_url: https://www.thisisbud.com/provider/specific/redirect/url
                  payment_id: 56caec01-85cc-4fc6-8080-cc0f7ed03a7e
                  required_action: confirm_scheduled_payment
        "400":
          description: The request contains an invalid payload and/or header
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_scheduled_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  recipient.sort_code: "Sort code must match `^\\d{6}$`"
                  standing_order_details.recipient.name: Name must not be empty
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/payments/scheduled/{payment_id}/confirm:
    post:
      tags:
      - Initiate Payment - Client license
      summary: Confirm Scheduled Payment
      description: Confirm and execute a Scheduled Payment for a specific payment
        id.
      operationId: v1_payments_scheduled_payment_id_confirm_post
      parameters:
      - name: payment_id
        in: path
        description: Bud Payment Identifier
        required: true
        schema:
          type: string
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      responses:
        "201":
          description: Request to create scheduled payment succeeded
          content:
            application/json:
              example:
                operation_id: v1_payments_scheduled_payment_id_confirm_post
        "400":
          description: "Not allowed to confirm payment. Either there is no consent,\
            \ not authorised or the payment order has already been created"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_scheduled_payment_id_confirm_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  payment: Payment initiation failed
        "401":
          description: Unauthorised request
        "404":
          description: Resource not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_scheduled_payment_id_confirm_post
                code_id: failed_validation
                message: Failed validation
                errors:
                  payment_id: Value not found
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/payments/scheduled/{payment_id}:
    get:
      tags:
      - Manage Payments
      summary: Retrieve Scheduled Payment Status
      description: Retrieve and view the status of a specific Scheduled payment
      operationId: v1_payments_scheduled_payment_id_get
      parameters:
      - name: payment_id
        in: path
        description: Bud Payment Identifier
        required: true
        schema:
          type: string
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      responses:
        "200":
          description: Successful request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetScheduledPaymentResponse'
              example:
                operation_id: v1_payments_scheduled_payment_id_get
                data:
                  payment_id: 89f80199-1199-400e-9092-17208f6f39f5
                  organisation_id: 22f80199-1199-400e-9092-17208f6f39f0
                  client_id: 22f80199-1199-400e-9092-17208f6f39f0
                  method: FPS
                  reference: Rent
                  recipient:
                    type: SortCodeAccountNumber
                    name: MR TEST RECIPIENT
                    account_number: "01234501234567"
                  amount:
                    value: "10.00"
                    currency: GBP
                  sender:
                    user_id: client-defined-user-id
                    name: MR TEST SENDER
                    provider: Natwest
                  known_charges:
                    recipient_charge:
                      charge: "1.50"
                      currency: GBP
                      recipient_receives: "7.00"
                    sender_charge:
                      charge: "1.50"
                      currency: GBP
                      bank_sends: "10.00"
                      total_cost: "11.50"
                  state:
                    status_code: COMPLETED
                    status_message: Scheduled Payment Creation Completed
                    history:
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: CREATED
                      message: Scheduled Payment Created
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: AWAITING_AUTH
                      message: Awaiting Customer Authentication
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: AUTH_COMPLETED
                      message: Authentication Completed
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: PENDING
                      message: Payment Order Pending
                    - datetime: 2020-02-02T12:29:33.428944815Z
                      code: COMPLETED
                      message: Scheduled Payment Creation Completed
                  errors:
                  - code: FAILED
                    description: The call to the provider to confirm funds returned
                      an error
                  created_at: 2020-02-02T12:29:33.428944815Z
                  requested_execution_date: 2020-02-02T12:29:33.428944815Z
                  required_action: null
        "404":
          description: Resource not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequestResponse'
              example:
                operation_id: v1_payments_scheduled_payment_id_get
                code_id: failed_validation
                message: Failed validation
                errors:
                  payment_id: Value not found
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/signal/money-management:
    get:
      tags:
      - Everyday Money Management
      summary: Retrieve Money Management
      description: |
        Provides a list of potential scenarios where a customer might suffer some financial expense that cover the following:

        | Money Management                | Description                                                                            |
        |:--------------------------------|:---------------------------------------------------------------------------------------|
        | `overdraft`                     | Account is overdrawn (note that credit cards will not trigger this warning). |
        | `cannot_cover_bills`            | The total upcoming payments for exceeds the current balance. The time range used for analysing past payments is `(X-From, X-Today)` and the period used for predicting upcoming payments is `(X-Today, X-To)`. |
        | `late_income`                   | A regular incoming payment was expected to be received on the account and hasn't yet. |
        | `late_payment`                  | A regular outgoing payment was expected to come out of the account and hasn't yet.    |
        | `regular_payment_changed`       | The value of a regular payment has increased or decreased between the oldest and newest instance |
        | `suspected_duplicate_charge`    | A duplicate transaction is one of more transactions that are debit transactions, have a non-zero booking time, and have a non-zero amount. They must also have matching `account_id`, `transaction_reference`, `merchant_id` (if one exists), `amount`, `currency`, `date`, `booking_datetime` |
        | `regular_monthly_income_change` | The value of a regular income has increased or decreased based on the previous months income. As this is comparing income over whole months, only complete months are considered in the provided date range. For instance, if `X-From=2022-01-05` and `X-To=2022-04-05` then the range considered by this warning will be `(2022-01-01, 2022-03-31)`. In addition, the default treshold for a difference in amounts to trigger this warning is 10%. |
      operationId: v1_signal_money_management_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: "Date (YYYY-MM-DD) from which the transactions should be returned\
          \ from, this works in pair with the 'X-To' parameter"
        required: false
        schema:
          type: string
        example: 2022-02-28
      - name: X-To
        in: header
        description: "Date (YYYY-MM-DD) from which the transactions should be returned\
          \ to, this works in pair with the 'X-From' parameter"
        required: false
        schema:
          type: string
        example: 2022-03-30
      - name: X-Today
        in: header
        description: Date (YYYY-MM-DD) to treat as the current day. Use this with
          `X-From` and `X-To` to find historical warnings (e.g. warnings that you
          would have received last week)
        required: false
        schema:
          type: string
        example: 2019-03-30
      - name: X-Delta
        in: header
        description: "Number of days error to match regular payments when they could\
          \ be off by a few days from month to month. E.g. if your predicted rent\
          \ payment is on `25th` but you paid it on `23rd`, a delta of `2` would treat\
          \ your predicted transaction for `25th` as `Booked/Pending`."
        schema:
          minimum: 0
          type: number
          default: 3
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_200_1'
              examples:
                Overdraft:
                  value:
                    operation_id: v1_signal_money_management_get
                    data:
                    - type: overdraft
                      details:
                        account_id: b464ede0-c871-4ec2-84f0-1f6903bc736b
                        overdrawn_by:
                          value: "200.00"
                          currency: GBP
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Cannot Cover Bills:
                  value:
                    operation_id: v1_signal_money_management_get
                    data:
                    - type: cannot_cover_bills
                      details:
                        account_id: c9d6ab0b-93ba-450b-ac94-d9a72cbd668f
                        total_expected_payments:
                          value: "120.00"
                          currency: GBP
                        current_balance:
                          value: "100.00"
                          currency: GBP
                          credit_debit_indicator: Credit
                        transactions:
                        - account_id: c9d6ab0b-93ba-450b-ac94-d9a72cbd668f
                          description: EDF Energy Bill
                          provider: Barclays
                          date: 2020-02-15
                          label: 6ad51923-1532-43ba-9c70-35c37b8742f7
                          credit_debit_indicator: Debit
                          amount:
                            value: "120.00"
                            currency: GBP
                          merchant:
                            id: edf_energy
                            name: EDF Energy
                            logo: https://thisisbud.com/logos/edf_energy.png
                          category_l1: bills
                          category_l2: utilities
                          category_l3: utilities_energy
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Late Income:
                  value:
                    operation_id: v1_signal_money_management_get
                    data:
                    - type: late_income
                      details:
                        account_id: c9d6ab0b-93ba-450b-ac94-d9a72cbd668f
                        label: bf257b0c-0685-494e-96dd-663ee01c1b3d
                        description: BUD SALARY
                        expected_amount:
                          value: "1200.00"
                          currency: GBP
                        expected_date: 2020-02-01
                        days_late: 2
                        merchant:
                          id: bud
                          name: Bud Financial
                          logo: https://thisisbud.com/logos/bud.jpg
                        category_l1: income
                        category_l2: salary
                        category_l3: salary
                    - type: late_income
                      details:
                        account_id: 242b67fd-5085-4b0b-8916-505db5f60125
                        label: 2d00efc8-c324-49a7-8c34-794a45b6ce79
                        description: BANK REWARD SCHEME
                        expected_amount:
                          value: "5.00"
                          currency: GBP
                        expected_date: 2020-02-02
                        days_late: 1
                        merchant: null
                        category_l1: income
                        category_l2: other_income
                        category_l3: other_income
                    metadata:
                      results: 2
                      from: 2020-01-15
                      to: 2020-02-15
                      today: 2020-02-03
                Late Payment:
                  value:
                    operation_id: v1_signal_money_management_get
                    data:
                    - type: late_payment
                      details:
                        account_id: c9d6ab0b-93ba-450b-ac94-d9a72cbd668f
                        label: 50fc920a-1175-4dae-82b1-d82a600007ce
                        description: GYM MEMBERSHIP
                        expected_amount:
                          value: "80.00"
                          currency: GBP
                        expected_date: 2020-02-01
                        days_late: 3
                        merchant:
                          id: some_gym
                          name: Some Gym
                          logo: https://thisisbud.com/logos/some_gym.jpg
                        category_l1: personal_care
                        category_l2: gym_and_fitness
                        category_l3: gym_membership
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-28
                      today: 2020-02-04
                Regular Payment Changed:
                  value:
                    operation_id: v1_signal_money_management_get
                    data:
                    - type: regular_payment_changed
                      details:
                        account_id: c9d6ab0b-93ba-450b-ac94-d9a72cbd668f
                        provider: Barclays
                        regular_payment_label: 6a6cd719f59534f9bb352e21ee541f8a85d3a93d-0
                        description: Energy Bill
                        change: increase
                        delta:
                          value: "100.00"
                          currency: GBP
                        transactions:
                        - account_id: c9d6ab0b-93ba-450b-ac94-d9a72cbd668f
                          transaction_id: 78c2e7d5ec7b00e07d8cdcd0037694733988850add8c65fa92f7134bf3143642-1
                          description: Energy Bill
                          date: 2020-06-01
                          label: 6ad51923-1532-43ba-9c70-35c37b8742f7
                          credit_debit_indicator: Debit
                          amount:
                            value: "500.00"
                            currency: GBP
                          merchant:
                            id: british_gas
                            name: British Gas
                            logo: https://thisisbud.com/logos/british_gas.png
                          l1_category_name: bills
                          l2_category_name: utilities
                          l3_category_name: utilities_energy
                        - account_id: c9d6ab0b-93ba-450b-ac94-d9a72cbd668f
                          transaction_id: 1245359584085527da09acf52846e33e5b14034c4dd3458da17539e1ff710e59-1
                          description: Energy Bill
                          date: 2020-05-01
                          label: 9b52cd71-673b-4672-888c-360411a2bc19
                          credit_debit_indicator: Debit
                          amount:
                            value: "400.00"
                            currency: GBP
                          merchant:
                            id: british_gas
                            name: British Gas
                            logo: https://thisisbud.com/logos/british_gas.png
                          l1_category_name: bills
                          l2_category_name: utilities
                          l3_category_name: utilities_energy
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Suspected Duplicate Charge:
                  value:
                    operation_id: v1_signal_money_management_get
                    data:
                    - type: suspected_duplicate_charge
                      details:
                      - account_id: c9d6ab0b-93ba-450b-ac94-d9a72cbd668f
                        transaction_id: 78c2e7d5ec7b00e07d8cdcd0037694733988850add8c65fa92f7134bf3143642-1
                        description: Energy Bill
                        date: 2020-06-01
                        label: 6ad51923-1532-43ba-9c70-35c37b8742f7
                        credit_debit_indicator: Debit
                        amount:
                          value: "500.00"
                          currency: GBP
                        merchant:
                          id: british_gas
                          name: British Gas
                          logo: https://thisisbud.com/logos/british_gas.png
                        l1_category_name: bills
                        l2_category_name: utilities
                        l3_category_name: utilities_energy
                      - account_id: c9d6ab0b-93ba-450b-ac94-d9a72cbd668f
                        transaction_id: 78c2e7d5ec7b00e07d8cdcd0037694733988850add8c65fa92f7134bf3143642-1
                        description: Energy Bill
                        date: 2020-06-01
                        label: 6ad51923-1532-43ba-9c70-35c37b8742f7
                        credit_debit_indicator: Debit
                        amount:
                          value: "500.00"
                          currency: GBP
                        merchant:
                          id: british_gas
                          name: British Gas
                          logo: https://thisisbud.com/logos/british_gas.png
                        l1_category_name: bills
                        l2_category_name: utilities
                        l3_category_name: utilities_energy
                    metadata:
                      results: 2
                      from: 2020-02-01
                      to: 2020-02-28
                      today: 2020-02-04
                Regular Monthly Income Changed:
                  value:
                    operation_id: v1_signal_money_management_get
                    data:
                    - type: regular_monthly_income_change
                      details:
                        month: 2020-02
                        previous_month_income:
                          value: "1500.00"
                          currency: GBP
                        current_month_income:
                          value: "1000.00"
                          currency: GBP
                        proportion_change: "0.67"
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-28
                      today: 2020-02-04
        "400":
          description: Bad Request that fails validations on headers & payload
        "401":
          description: Unauthorized (BearerToken in 'Authorization' header fails the
            authentication)
        "403":
          description: Forbidden
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/signal/customer-characteristics:
    get:
      tags:
      - Customer Characteristics
      summary: Retrieve Customer Characteristics
      description: "Provides a list of potential scenarios where a customer might\
        \ suffer some financial expense that cover the following:\n\n| Customer Characteristics\
        \             | Description |\n|:---------------------|:---------------------------------------------------------------------------------------|\n\
        | `parent`             | User has childcare transactions |\n| `student_loan`\
        \       | User is paying off a student loan |\n| `pensioner`          | User\
        \ receives pension income |                                              \
        \   \n| `saver`              | User receives savings income and / or deposits\
        \ money into a savings / investment account |\n| `insurer`            | User\
        \ has one or more insurance policies |\n| `overdraft_user`     | User was\
        \ in their overdraft at midnight on any day during a set period|\n| `cash_user`\
        \          | User has made cash deposits and / or cash withdrawals |\n| `subscriber`\
        \         | User has one or more subscriptions|         \n"
      operationId: v1_signal_customer_characteristics_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: "Date (YYYY-MM-DD) from which the transactions should be returned\
          \ from, this works in pair with the 'X-To' parameter"
        required: false
        schema:
          type: string
        example: 2022-02-28
      - name: X-To
        in: header
        description: "Date (YYYY-MM-DD) from which the transactions should be returned\
          \ to, this works in pair with the 'X-From' parameter"
        required: false
        schema:
          type: string
        example: 2022-03-30
      - name: X-Today
        in: header
        description: Date (YYYY-MM-DD) to treat as the current day. Use this with
          `X-From` and `X-To` to find historical warnings (e.g. warnings that you
          would have received last week)
        required: false
        schema:
          type: string
        example: 2019-03-30
      - name: X-Delta
        in: header
        description: "Number of days error to match regular payments when they could\
          \ be off by a few days from month to month. E.g. if your predicted rent\
          \ payment is on `25th` but you paid it on `23rd`, a delta of `2` would treat\
          \ your predicted transaction for `25th` as `Booked/Pending`."
        schema:
          minimum: 0
          type: number
          default: 3
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_200_2'
              examples:
                Parent:
                  value:
                    operation_id: v1_signal_customer_characteristics_get
                    data:
                    - type: parent
                      details:
                        outgoing_categories:
                          childcare_and_nursery:
                            spending:
                              value: "500.00"
                              currency: GBP
                            spending_ratio: "0.20"
                            merchant:
                            - Mothercare
                            total_transactions: "1"
                        income:
                          value: "2500.00"
                          currency: GBP
                        expenditure:
                          value: "1000.00"
                          currency: GBP
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Student Loan:
                  value:
                    operation_id: v1_signal_customer_characteristics_get
                    data:
                    - type: student_loan
                      details:
                        outgoing_categories:
                          student_loan_repayment:
                            spending:
                              value: "500.00"
                              currency: GBP
                            spending_ratio: "0.20"
                            merchant: null
                            total_transactions: "1"
                        income:
                          value: "2500.00"
                          currency: GBP
                        expenditure:
                          value: "1000.00"
                          currency: GBP
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Pensioner:
                  value:
                    operation_id: v1_signal_customer_characteristics_get
                    data:
                    - type: pensioner
                      details:
                        incoming_categories:
                          pension_income:
                            spending:
                              value: "500.00"
                              currency: GBP
                            spending_ratio: "0.20"
                            merchant:
                            - Aviva
                            total_transactions: "1"
                        income:
                          value: "2500.00"
                          currency: GBP
                        expenditure:
                          value: "1000.00"
                          currency: GBP
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Saver:
                  value:
                    operation_id: v1_signal_customer_characteristics_get
                    data:
                    - type: saver
                      details:
                        outgoing_categories:
                          savings:
                            spending:
                              value: "500.00"
                              currency: GBP
                            spending_ratio: "0.20"
                            merchant: null
                            total_transactions: "1"
                        income:
                          value: "2500.00"
                          currency: GBP
                        expenditure:
                          value: "1000.00"
                          currency: GBP
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Insurer:
                  value:
                    operation_id: v1_signal_customer_characteristics_get
                    data:
                    - type: insurer
                      details:
                        outgoing_categories:
                          vehicle_insurance:
                            spending:
                              value: "500.00"
                              currency: GBP
                            spending_ratio: "0.20"
                            merchant:
                            - Axa Insurance
                            total_transactions: "1"
                        income:
                          value: "2500.00"
                          currency: GBP
                        expenditure:
                          value: "1000.00"
                          currency: GBP
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Overdraft:
                  value:
                    operation_id: v1_signal_customer_characteristics_get
                    data:
                    - type: overdraft
                      details:
                        account_id: 3a8454c8-e1de-4f21-98f9-571393f1c823
                        days_in_overdraft: "30"
                        ratio_days_in_overdraft: "1.00"
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Cash User:
                  value:
                    operation_id: v1_signal_customer_characteristics_get
                    data:
                    - type: cash_user
                      details:
                        outgoing_categories:
                          cash_withdrawals:
                            spending:
                              value: "500.00"
                              currency: GBP
                            spending_ratio: "0.20"
                            merchant: null
                            total_transactions: "1"
                        income:
                          value: "2500.00"
                          currency: GBP
                        expenditure:
                          value: "1000.00"
                          currency: GBP
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Subscriber:
                  value:
                    operation_id: v1_signal_customer_characteristics_get
                    data:
                    - type: subscriber
                      details:
                        outgoing_categories:
                          gym_membership:
                            spending:
                              value: "500.00"
                              currency: GBP
                            spending_ratio: "0.20"
                            merchant:
                            - Pure Gym
                            total_transactions: "1"
                        income:
                          value: "2500.00"
                          currency: GBP
                        expenditure:
                          value: "1000.00"
                          currency: GBP
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
        "400":
          description: Bad Request that fails validations on headers & payload
        "401":
          description: Unauthorized (BearerToken in 'Authorization' header fails the
            authentication)
        "403":
          description: Forbidden
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/signal/financial-insights:
    get:
      tags:
      - Income and Expenditure Insight
      summary: Retrieve Financial Insights
      description: "Provides a list of potential scenarios where a customer might\
        \ suffer some financial expense that cover the following:\n\n | Financial\
        \ Insights   | Description                                               \
        \                             |\n |:---------------------|:---------------------------------------------------------------------------------------|\n\
        \ | `gambling_income`             | Income indentified through gambling transactions\
        \ |\n | `pension_income`              | Income indentified through company\
        \ pension(s) |\n | `gambling_threshold`          | Overall spending on gambling\
        \ exceeds the threshold (default to 20%) of all income over that same time\
        \ period |                                                               \
        \  \n | `new_insurance_expense`       | Any new insurance related expense\
        \ identified |\n | `subscription_expense`        | Any new subscription related\
        \ expense identified  |      \n"
      operationId: v1_signal_financial_insights_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: "Date (YYYY-MM-DD) from which the transactions should be returned\
          \ from, this works in pair with the 'X-To' parameter"
        required: false
        schema:
          type: string
        example: 2022-02-28
      - name: X-To
        in: header
        description: "Date (YYYY-MM-DD) from which the transactions should be returned\
          \ to, this works in pair with the 'X-From' parameter"
        required: false
        schema:
          type: string
        example: 2022-03-30
      - name: X-Today
        in: header
        description: Date (YYYY-MM-DD) to treat as the current day. Use this with
          `X-From` and `X-To` to find historical warnings (e.g. warnings that you
          would have received last week)
        required: false
        schema:
          type: string
        example: 2019-03-30
      - name: X-Delta
        in: header
        description: "Number of days error to match regular payments when they could\
          \ be off by a few days from month to month. E.g. if your predicted rent\
          \ payment is on `25th` but you paid it on `23rd`, a delta of `2` would treat\
          \ your predicted transaction for `25th` as `Booked/Pending`."
        schema:
          minimum: 0
          type: number
          default: 3
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_200_3'
              examples:
                Gambling Income:
                  value:
                    operation_id: v1_signal_financial_insights_get
                    data:
                    - type: gambling_income
                      details:
                        total:
                        - value: "140.12"
                          currency: GBP
                        merchant_ids:
                        - bet365
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Pension Income:
                  value:
                    operation_id: v1_signal_financial_insights_get
                    data:
                    - type: pension_income
                      details:
                        total:
                        - value: "140.12"
                          currency: GBP
                        merchant_ids:
                        - aviva
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Gambling Threshold:
                  value:
                    operation_id: v1_signal_financial_insights_get
                    data:
                    - type: gambling_threshold
                      details:
                        income:
                          value: "1000.00"
                          currency: GBP
                        expenditure:
                          value: "500.00"
                          currency: GBP
                        threshold: "0.20"
                        ratio_to_income: "0.20"
                        transactions:
                        - transaction_id: 0bbf2ed39865278609b6c07d35bc0b3cb8fd7253cf10578f57c75457104e8823
                          account_id: 525d0eb5-909c-4a9c-a191-2e9ad7fd40f8
                          description: Casino
                          booking_datetime: 2020-02-01
                          credit_debit_indicator: Debit
                          amount:
                            value: "500.00"
                            currency: GBP
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Insurance Expense:
                  value:
                    operation_id: v1_signal_financial_insights_get
                    data:
                    - type: insurance_expense
                      details:
                        total:
                        - value: "140.12"
                          currency: GBP
                        merchant_ids:
                        - directline
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
                Subscription Expense:
                  value:
                    operation_id: v1_signal_financial_insights_get
                    data:
                    - type: subscription_expense
                      details:
                        transaction_id: 4145908d1d5c7104353c6835de38057065af341d8e4a2f41a06893b76f22f935-1
                        account_id: 525d0eb5-909c-4a9c-a191-2e9ad7fd40f8
                        merchant: Netflix
                        l3_category_name: tv_and_film_streaming_services
                        amount:
                          value: "11.99"
                          currency: GBP
                    metadata:
                      results: 1
                      from: 2020-02-01
                      to: 2020-02-31
                      today: 2020-02-04
        "400":
          description: Bad Request that fails validations on headers & payload
        "401":
          description: Unauthorized (BearerToken in 'Authorization' header fails the
            authentication)
        "403":
          description: Forbidden
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/signal/trends:
    get:
      tags:
      - Income and Expenditure Insight
      summary: Retrieve Trends
      description: |
        Provides the key trends associated with a customer’s transactional data broken down by month

        **Please note: this endpoint is now deprecated, please migrate to using the GET /v1/categories/totals endpoint.**
      operationId: v1_signal_trends_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: "Month (`YYYY-MM`) from which the transactions should be returned\
          \ from, this works in pair with the `X-To` parameter."
        required: false
        schema:
          type: string
        example: 2019-02
      - name: X-To
        in: header
        description: "Month (`YYYY-MM`) from which the transactions should be returned\
          \ to, this works in pair with the `X-From` parameter."
        required: false
        schema:
          type: string
        example: 2019-03
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_200_4'
        "400":
          description: Bad Request that fails validations on headers & payload
        "401":
          description: Unauthorized (BearerToken in 'Authorization' header fails the
            authentication)
        "403":
          description: Forbidden
        "5XX":
          description: An unexpected error occurred on the server side
      deprecated: true
      security:
      - OAuth2: []
  /v1/signal/forecast:
    get:
      tags:
      - Income and Expenditure Insight
      summary: Retrieve Financial Forecast
      description: |
        Provides a list of the regular and predicted transactions over a given period, noting whether they are booked, pending or predicted.

        **Please note: this endpoint is now deprecated, please migrate to using the GET /v2/future-transactions endpoint.**
      operationId: v1_signal_forecast_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: X-From
        in: header
        description: "Date (YYYY-MM-DD) from which the transactions should be returned\
          \ from, this works in pair with the 'X-To' parameter"
        required: false
        schema:
          type: string
        example: 2022-02-28
      - name: X-To
        in: header
        description: "Date (YYYY-MM-DD) from which the transactions should be returned\
          \ to, this works in pair with the 'X-From' parameter"
        required: false
        schema:
          type: string
        example: 2022-03-30
      - name: X-Delta
        in: header
        description: "Number of days error to match regular payments when they could\
          \ be off by a few days from month to month. E.g. if your predicted rent\
          \ payment is on `25th` but you paid it on `23rd`, a delta of `2` would treat\
          \ your predicted transaction for `25th` as `Booked/Pending`."
        schema:
          minimum: 0
          type: number
          default: 3
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_200_5'
        "400":
          description: The request contains an invalid payload
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      deprecated: true
      security:
      - OAuth2: []
  /v1/signal/custom/components:
    get:
      tags:
      - Custom Signals
      summary: Retrieve Components
      description: List the matching components which can be used to define custom
        insights.
      operationId: v1_signal_custom_components_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      responses:
        "200":
          description: The request was successfully processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_200_6'
        "400":
          description: The request contains an invalid payload
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/signal/custom/insights:
    post:
      tags:
      - Custom Signals
      summary: Create Custom Insight
      description: Create new custom insights using one or more components.
      operationId: v1_signal_custom_create_post
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateInsightRequest'
            example:
              name: Life Insurance
              description: Customer is paying more than bank X's average life insurance
                cost
              components:
              - name: expenditure_l3s
                parameters:
                  amount: 15
                  l3-categories:
                  - life_insurance
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_200_7'
        "400":
          description: The request contains an invalid payload
        "401":
          description: Unauthorised request
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/signal/custom/{insight_id}/schema:
    get:
      tags:
      - Custom Signals
      summary: Retrieve Custom Insight
      description: Retrieve a previously created custom insight.
      operationId: v1_signal_custom_schema_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: insight_id
        in: path
        description: Insight identifier
        required: true
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_200_8'
        "400":
          description: The request contains an invalid payload
        "401":
          description: Unauthorised request
        "404":
          description: This insight doesn't exist or doesn't belong to this client
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /v1/signal/custom/{insight_id}:
    get:
      tags:
      - Custom Signals
      summary: Compare Custom Insight
      description: "Compare a customer with an previously created custom insight,\
        \ testing whether they match against it."
      operationId: v1_signal_custom_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: insight_id
        in: path
        description: Insight identifier
        required: true
        schema:
          type: string
          format: uuid
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/inline_response_200_9'
        "400":
          description: The request contains an invalid payload
        "401":
          description: Unauthorised request
        "404":
          description: This insight doesn't exist or doesn't belong to this client
        "405":
          description: An unexpected HTTP method was used
        "5XX":
          description: An unexpected error occurred on the server side
      security:
      - OAuth2: []
  /actionable-insights/beta/balances:
    get:
      tags:
      - Retrieve Balance Insights (Beta)
      summary: Retrieve Balance Insights (Beta)
      description: "Retrieve actionable insights for a customer generated from their\
        \ balances. Currently in beta release and \nnot subject to breaking change\
        \ guarantees.\n\nThe balances actionable insights endpoint uses a customer's\
        \ connected accounts to detect if they have a low \naccount balance, are close\
        \ to their credit limit or if they are in overdraft. Customisable parameters\
        \ support \nflexibility in setting thresholds for detection. \n\nThe data\
        \ returned from the endpoint can be used to trigger notifications to customers\
        \ using existing financial \nplatforms such as banking apps, online banking\
        \ services and personal financial management tools.\n\n> 📘 Do you have feedback?\n\
        > Beta endpoints rely on customer feedback to get better and more powerful\
        \ for everyone.\n> If you have any suggestions, feedback or questions, please\
        \ use the `Did this page help you?` buttons at the bottom of this page to\
        \ let us know.\n> Any feedback you can provide will allow us to further improve\
        \ prior to releasing this as a full production endpoint.\n"
      operationId: actionable_insights_v1_balances_get
      parameters:
      - name: X-Client-Id
        in: header
        description: The API Client Identifier (Service Application Identifier).
        required: true
        schema:
          type: string
      - name: X-Customer-Id
        in: header
        description: Bud Customer identifier
        required: true
        schema:
          type: string
          format: uuid
      - name: X-Customer-Secret
        in: header
        description: Bud Customer secret
        required: true
        schema:
          type: string
      - name: account_id
        in: query
        description: The ID of the account to filter actionable insights by.
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: an_account_id
      - name: low_balance_threshold
        in: query
        description: The balance at which a `low_balance` actionable insight will
          be generated. This must be a float greater than 0.
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: "50"
      - name: close_to_credit_limit_threshold_percentage
        in: query
        description: The proportion of a used credit limit at which a `close_to_credit_limit`
          actionable insight will be generated. This must be a float between 0 and
          1.
        required: false
        style: form
        explode: true
        schema:
          type: string
        example: "0.8"
      responses:
        "200":
          description: The request was successfully processed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetBalanceInsightsResponse'
              examples:
                Multiple Insights:
                  value:
                    operation_id: actionable_insights_v1_balances_get
                    data:
                      low_balance:
                      - account_id: ee0f46f7-3256-471a-b7c9-f4eb053c88ca
                        account_name: Current Account Joint - Nationwide - Jim & Judy
                        account_provider: Nationwide
                        account_type: current_account
                        account_credit_limit:
                          amount:
                            value: "250.00"
                            currency: GBP
                        balance:
                          amount:
                            value: "49.98"
                            currency: GBP
                          credit_debit_indicator: credit
                      close_to_credit_limit:
                      - account_id: d607d0da-fb58-497f-ac51-d70f309be304
                        account_name: Credit Card - Amex - Jim
                        account_provider: Amex
                        account_type: credit_card
                        account_credit_limit:
                          amount:
                            value: "5000.00"
                            currency: GBP
                        balance:
                          amount:
                            value: "4950.98"
                            currency: GBP
                          credit_debit_indicator: debit
                      in_overdraft:
                      - account_id: 1fa5f939-9183-4ea0-9fe9-471383dea4d5
                        account_name: Current Account - Natwest - Jim
                        account_provider: Natwest
                        account_type: current_account
                        account_credit_limit:
                          amount:
                            value: "200.00"
                            currency: GBP
                        balance:
                          amount:
                            value: "150.05"
                            currency: GBP
                          credit_debit_indicator: debit
                        date_entered: 2023-01-07
                No Insights:
                  value:
                    operation_id: actionable_insights_v1_balances_get
                    data:
                      low_balance: []
                      close_to_credit_limit: []
                      in_overdraft: []
        "401":
          description: An unauthenticated request was received.
        "405":
          description: The request uses an unexpected HTTP method.
        "5XX":
          description: An unexpected error occurred on the server side.
      security:
      - OAuth2: []
components:
  schemas:
    Transaction:
      title: Transaction
      required:
      - account_id
      - amount
      - credit_debit_indicator
      - date_time
      - description
      - status
      - transaction_id
      type: object
      properties:
        transaction_id:
          type: string
          description: Unique identifier for the transaction. May be mutable depending
            on original ingestion source.
        account_id:
          type: string
          description: Identifier for the account associated with the transaction.
        provider:
          type: string
          description: Name of the transaction source provider.
        description:
          type: string
          description: Description of the transaction. Similar to the transaction
            information in Open Banking.
        credit_debit_indicator:
          type: string
          description: Credit/Debit Indicator
          enum:
          - credit
          - debit
        status:
          type: string
          description: Status of the transaction. Defaults to booked.
          enum:
          - booked
          - pending
        amount:
          $ref: '#/components/schemas/BudAmount'
        date_time:
          type: string
          description: Date of the transaction compliant with RFC3339.
        enrichments:
          $ref: '#/components/schemas/Enrichments'
        tags:
          type: array
          description: |
            A list of potential tags associated with the transaction after contextual enrichment, which can be used for filtering.
            Region and client specific.

            | Value                   | Description                                               |
            |:------------------------|:----------------------------------------------------------|
            | `benefit`               | A government/non-profit benefit transaction               |
            | `debt-collection`       | A transaction associated with a known debt-collector      |
            | `income`                | A transaction associated with income                      |
            | `regular-transaction`   | A transaction predicted to occur with a regular frequency |
            | `salary`                | A transaction associated with a regular wage              |
            | `subscription`          | A transaction associated with a subscription service      |
          items:
            type: string
      description: A financial transaction
    Enrichments:
      title: Enrichments
      type: object
      properties:
        categories:
          $ref: '#/components/schemas/Categories'
        merchant:
          $ref: '#/components/schemas/Merchant'
        processor:
          $ref: '#/components/schemas/Processor'
        regularity:
          $ref: '#/components/schemas/Regularity'
        locations:
          $ref: '#/components/schemas/Location'
        transaction_types:
          type: array
          description: Transaction types associated with the transaction
          items:
            type: string
        names:
          type: array
          description: Names that were detected in the transaction description
          items:
            type: string
      description: Contextual enrichments associated with a Transaction
    Categories:
      title: Categories
      type: object
      properties:
        l1:
          $ref: '#/components/schemas/Category'
        l2:
          $ref: '#/components/schemas/Category'
      description: Categories enrichment associated with a Transaction
    Category:
      title: Category
      required:
      - confidence
      - slug
      type: object
      properties:
        slug:
          type: string
          description: Unique human readable identifier of the category. Not subject
            to version control.
        confidence:
          type: string
          description: "Degree of belief of correct assignment, expressed as a probability."
      description: Category associated with a Transaction
    Merchant:
      title: Merchant
      type: object
      properties:
        id:
          type: string
          description: "UUID corresponding to the merchant, if available. Subject\
            \ to version control."
        slug:
          type: string
          description: Unique human readable identifier of the merchant. Not subject
            to version control.
        display_name:
          type: string
          description: UI friendly display name for the merchant.
        logo:
          type: string
          description: "URL supplying merchant logo, if available."
      description: Merchant enrichment associated with a Transaction
    Processor:
      title: Processor
      type: object
      properties:
        id:
          type: string
          description: "UUID corresponding to the processor, if available. Subject\
            \ to version control."
        slug:
          type: string
          description: Unique human readable identifier of the merchant. Not subject
            to version control.
        display_name:
          type: string
          description: UI friendly display name for the processor.
        logo:
          type: string
          description: "URL supplying processor logo, if available."
      description: Processor enrichment associated with a Transaction
    Regularity:
      title: Regularity
      type: object
      properties:
        frequency:
          type: string
          description: Detected frequency of the Transaction.
          enum:
          - unknown
          - daily
          - weekly
          - biweekly
          - monthly
          - quarterly
          - six_monthly
          - annually
        predicted_date_times:
          type: array
          description: Expected date times for the Transaction to repeat.
          items:
            type: string
        group_label:
          type: string
          description: Unique label applied to multiple transactions in the same group.
      description: Regularity enrichment associated with a Transaction.
    Location:
      title: Location
      type: object
      properties:
        address:
          $ref: '#/components/schemas/Location_address'
      description: Location enrichment associated with a Transaction
    ListTransactionsResponse:
      title: Retrieve Transactions Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          type: string
          enum:
          - v2_transactions_get
        data:
          type: array
          items:
            $ref: '#/components/schemas/Transaction'
        metadata:
          $ref: '#/components/schemas/ListTransactionsResponse_metadata'
    LowBalanceInsight:
      title: Low Balance
      required:
      - account_id
      - account_type
      - balance
      properties:
        account_id:
          type: string
          description: The ID of the account the actionable insight applies to.
        account_name:
          type: string
          description: The name associated with the account the actionable insight
            applies to.
        account_provider:
          type: string
          description: The provider of the account the actionable insight applies
            to.
        account_type:
          $ref: '#/components/schemas/AccountType'
        account_credit_line:
          $ref: '#/components/schemas/CreditLimit'
        balance:
          $ref: '#/components/schemas/BalanceAmount'
      description: "An actionable insight that a customer's account has a low balance.\
        \ If the balance is less than 0, an  `in_overdraft` insight will be returned\
        \ instead."
    CloseToCreditLimitInsight:
      title: Close To Credit Limit
      required:
      - account_credit_limit
      - account_id
      - account_type
      - balance
      properties:
        account_id:
          type: string
          description: The ID of the account the actionable insight applies to.
        account_name:
          type: string
          description: The name associated with the account the actionable insight
            applies to.
        account_provider:
          type: string
          description: The provider of the account the actionable insight applies
            to.
        account_type:
          $ref: '#/components/schemas/AccountType'
        account_credit_limit:
          $ref: '#/components/schemas/CreditLimit'
        balance:
          $ref: '#/components/schemas/BalanceAmount'
      description: An actionable insight that a customer's borrowing is close to their
        account credit limit.
    InOverdraftInsight:
      title: In Overdraft
      required:
      - account_id
      - account_type
      - balance
      - date_entered
      properties:
        account_id:
          type: string
          description: The ID of the account the actionable insight applies to.
        account_name:
          type: string
          description: The name associated with the account the actionable insight
            applies to.
        account_provider:
          type: string
          description: The provider of the account the actionable insight applies
            to.
        account_type:
          $ref: '#/components/schemas/AccountType'
        account_credit_limit:
          $ref: '#/components/schemas/CreditLimit'
        balance:
          $ref: '#/components/schemas/BalanceAmount'
        date_entered:
          type: string
          description: The date the account entered overdraft.
          format: yyyy-mm-dd
      description: An actionable insight that a customer's account is now in overdraft.
    BalanceAmount:
      title: Balance amount
      required:
      - amount
      - credit_debit_indicator
      properties:
        amount:
          $ref: '#/components/schemas/BudAmount'
        credit_debit_indicator:
          type: string
          description: Indication as to whether the balance is in credit or debit.
          enum:
          - credit
          - debit
      description: A representation of both the amount and the credit/debit indicator.
    AccountType:
      title: Account Type Field
      type: string
      enum:
      - charge_card
      - credit_card
      - current_account
      - e_money
      - loan
      - mortgage
      - pre_paid_card
      - savings
    CreditLimit:
      title: Credit Limit
      type: object
      properties:
        amount:
          $ref: '#/components/schemas/BudAmount'
      description: The amount of credit available to the customer.
    BalanceInsights:
      title: Balance Insights
      type: object
      properties:
        low_balance:
          type: array
          items:
            $ref: '#/components/schemas/LowBalanceInsight'
        close_to_credit_limit:
          type: array
          items:
            $ref: '#/components/schemas/CloseToCreditLimitInsight'
        in_overdraft:
          type: array
          items:
            $ref: '#/components/schemas/InOverdraftInsight'
    GetBalanceInsightsResponse:
      title: Get Balance Insights Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          type: string
          enum:
          - actionable_insights_v1_balances_get
        data:
          $ref: '#/components/schemas/BalanceInsights'
    OperationId:
      title: Operation Id Field
      type: string
      description: A unique identifier/reference associated with a given endpoint/operation
    OBProvider:
      title: Open Banking Providers
      required:
      - display_name
      - icon
      - maintenance_status
      - maintenance_window
      - provider
      - regions
      type: object
      properties:
        provider:
          type: string
          description: The name of the available open banking provider used as an
            identifier throughout Bud's API services
        display_name:
          type: string
          description: The name of the available open banking provider used for display
            purposes
        maintenance_window:
          $ref: '#/components/schemas/MaintenanceWindowObject'
        maintenance_status:
          type: string
          description: The status of the maintenance window associated with the provider
          enum:
          - active
          - inactive
        icon:
          type: string
          description: A URL for the icon of the corresponding provider
        regions:
          type: array
          description: A list of the different regions (i.e. country codes in ISO
            3166 format) associated with the open banking provider
          items:
            type: string
    MaintenanceWindowObject:
      title: Maintenance Window Object
      type: object
      properties:
        start:
          type: string
          description: The start datetime (ISO8601) of the maintenance window
        end:
          type: string
          description: The end datetime (ISO8601) of the maintenance window
      description: Details on any scheduled maintenance windows
      nullable: true
    AuthGatewayURLRequest:
      title: Authorisation Gateway URL Request Payload
      required:
      - redirect_url
      type: object
      properties:
        redirect_url:
          maxLength: 2083
          type: string
          description: URL where the user will be redirected to once they have completed
            the TPP Connection flow. This can be a web based URL or a mobile application
            internal URL.
          nullable: false
        providers:
          type: array
          description: "Specify a list of one or more providers that will be displayed\
            \ to the customer during the connection flow. If only a single provider\
            \ is given, the customer will no longer be shown the select provider screen.\
            \ \n\nNote, that these must match the `provider_id` returned by the Retrieve\
            \ OB Providers endpoint.\n"
          nullable: true
          items:
            type: string
        provider_types:
          $ref: '#/components/schemas/ProviderTypes'
        connect_more_accounts_button:
          type: boolean
          description: "When enabled, the customer will see an additional button at\
            \ the end of the connection flow that allows them to start the connection\
            \ flow again in order to connect to a new provider."
          nullable: true
    ProviderTypes:
      title: Provider Types
      type: array
      description: "One or more provider types that can be used to filter the list\
        \ of providers that are shown to the customer during the connection flow.\
        \ If no filter is applied, all types of provider are returned. Note that on\
        \ Bud's sandbox environment, only sandbox providers will be returned."
      items:
        type: string
        enum:
        - business
        - retail
        - sandbox
    AuthGatewayURLResponse:
      title: Authorisation Gateweay URL Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/AuthGatewayURLResponse_data'
      description: Expected response structure.
    BadRequestResponse:
      title: Bad Request Response
      required:
      - code_id
      - errors
      - message
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        code_id:
          type: string
          description: A descriptive enough string that is linked to the reason for
            the error.
        message:
          type: string
        errors:
          $ref: '#/components/schemas/Error'
      description: Expected response structure
    Error:
      title: Error Object
      type: object
      description: Contains a field specific error message
    OBSyncWebhookBody:
      title: OB Synchronisation Webhook Payload
      required:
      - data
      type: object
      properties:
        operation_id:
          type: string
          description: Use data.task_type instead
          deprecated: true
          enum:
          - connect
          - refresh
        data:
          $ref: '#/components/schemas/OBSyncWebhookBody_data'
      description: |
        The payload sent to the client defined webhook (via the console) when an Open Banking Synchronisation (connect
        or refresh) task completes.
    TaskType:
      type: string
      description: The type of task that completed
      enum:
      - connect
      - refresh
      - revoke
      - consent-refresh
    AuthGatewayURLRequestv2:
      title: Authorisation Gateweay URL Request Payload
      required:
      - redirect_url
      type: object
      properties:
        redirect_url:
          maxLength: 2083
          type: string
          description: URL where the user will be redirected to once they have completed
            the TPP Connection flow. This can be a web based URL or a mobile application
            internal URL.
          nullable: false
        providers:
          type: array
          description: "Specify a list of one or more providers that will be displayed\
            \ to the customer during the connection flow. If only a single provider\
            \ is given, the customer will no longer be shown the select provider screen.\
            \ \n\nNote, that these must match the `provider_id` returned by the Retrieve\
            \ OB Providers endpoint.\n"
          nullable: true
          items:
            type: string
        provider_types:
          $ref: '#/components/schemas/ProviderTypes'
        connect_more_accounts_button:
          type: boolean
          description: "When enabled, the customer will see an additional button at\
            \ the end of the connection flow that allows them to start the connection\
            \ flow again in order to connect to a new provider."
          nullable: true
        accounts_summary:
          type: boolean
          description: "When enabled, the customer will be shown a summary screen\
            \ at the endpoint of the flow that lists the names and balances of all\
            \ of the accounts that the customer has active consents for (including\
            \ those connected in previous sessions)."
          nullable: true
        initial_screen:
          type: string
          description: "The first screen that the customer will be shown. When value\
            \ is 'accounts_summary' the customer will see a ist of the names and balances\
            \ of the accounts that the customer currently has active consents for.\
            \ When value is 'connect_accounts', the customer will see a list of providers\
            \ to connect their accounts with. By default this value is 'connect_accounts'."
          nullable: true
          enum:
          - accounts_summary
          - connect_accounts
        enable_account_data_management:
          type: boolean
          description: "When enabled, the customer can download their data in a JSON\
            \ file. The user can download their data by selecting the burger menu\
            \ in the right-hand corner, above their connected accounts. This will\
            \ open up a menu with the option to ‘Download Data’."
          nullable: true
        reconfirm_consent:
          type: boolean
          description: "When enabled, the customer will be taken through the reconfirmation\
            \ of consent journey. If the customer only has one consent they will skip\
            \ the consent selection screen. Once they select the option to renew their\
            \ consent, Bud will either extend the consent expiry date by 90 days from\
            \ today's date or (if required) send the customer to the provider to go\
            \ through Strong Customer Authentication (SCA) before updating the consent\
            \ expiry date."
          nullable: true
        reconfirm_consent_redirect:
          type: boolean
          description: "When enabled, once a customer has reconfirmed consent they\
            \ will be redirected back to the client redirect_url bypassing the account\
            \ summary screen. This should be used if you don’t want your customers\
            \ to see the Bud account summary screen."
          nullable: true
    OBWebhookBody:
      title: OB Webhook Payload
      required:
      - data
      type: object
      properties:
        data:
          $ref: '#/components/schemas/OBWebhookBody_data'
      description: |
        The payload sent to the client defined webhook (via the console) when an Open Banking (connect
        or refresh) task completes.
    ConnectResultCodes:
      type: string
      description: The result of the operation. Either success or various error codes.
      enum:
      - success
      - task_not_found
      - account_not_found
      - internal_error
      - internal_timeout
      - internal_transient_error
      - failed_validation
      - request_validation
      - auth_denied
      - auth_expired
      - connection_not_found
      - connection_expired
      - connection_revoked
      - connection_status
      - connection_permission
      - provider_not_found
      - provider_failure
      - provider_timeout
      - provider_maintenance
      - provider_request_limit
      - provider_endpoint_unimplemented
      - provider_endpoint_deprecated
      - provider_reauthenticate
      - failed_body_decode
    OpenBankingAuthoriseRequest:
      title: Provider
      required:
      - provider
      type: object
      properties:
        provider:
          type: string
          description: "The identifier of the ASPSP (bank) the Customer is requesting\
            \ the authorisation URL for. This should be a provider value returned\
            \ from a call to [Retrieve OB Providers](#tag/Create-OB-Connection-TSP/operation/open_banking_providers_get)"
        redirect_url:
          type: string
          description: This is the url that your Customer will be redirected to when
            using the Bud Connect product. If you wish to use your own license and
            callback infrastructure this parameter will have no effect and the provider_redirect_url
            parameter should be used instead.
        provider_redirect_url:
          type: string
          description: This is the url that your Customer will be redirected to once
            they have authorised with the relevant provider. This should only be used
            when using your own license and wish to use the Submit Authorisation Codes
            endpoint. If you wish to use Bud's call back then the redirect_url must
            be provided.
        consent_id:
          type: string
          description: (Optional) Uses the previous consent id of your customer to
            re-authenticate their consent.
      description: Expected request payload structure
    TaskCreatedResponseOB:
      title: Task Created Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/TaskCreatedView'
        metadata:
          $ref: '#/components/schemas/AsyncTaskMetadata'
      description: Expected response structure
    TaskCreatedView:
      title: Task Created View
      type: object
      properties:
        task_id:
          $ref: '#/components/schemas/TaskId'
        provider:
          type: string
          description: The provider (ASPSP) associated with this task
      description: Standard successful task created response.
    TaskId:
      title: Task Id
      type: string
      description: UUID used to identify an asynchronous task
    AsyncTaskMetadata:
      title: Created Task Metadata
      type: object
      properties:
        next_url:
          type: string
          description: The URL to call to obtain the results of the task
        next_url_delay:
          type: number
          description: The time in milliseconds that the client should wait before
            polling the relevant GET endpoint with the above task id
      description: Metadata associated with an asynchronous task
    TaskAuthoriseResponse:
      title: Open Banking Authorise Request Response
      required:
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/TaskAuthorise'
        metadata:
          $ref: '#/components/schemas/TaskManagerMetaData'
      description: Expected response structure
    TaskAuthorise:
      title: Open Banking Authorise Response
      required:
      - url
      type: object
      properties:
        provider:
          type: string
          description: Name of the provider (banking institution)
        result:
          type: string
          description: The final result of the job associated with the specified task
            id
          enum:
          - success
          - failed
        status:
          type: string
          description: The status of the job associated with the specified task id
          enum:
          - Completed
          - Pending
          - Failed
        task_id:
          $ref: '#/components/schemas/TaskId'
        url:
          type: string
          description: The authentication URL for a given bank
      description: Result of GET authorise taskId
    TaskManagerMetaData:
      title: Task Status Metadata
      required:
      - status
      type: object
      properties:
        status:
          type: string
          description: The status of the job associated with the specified task id
          enum:
          - Completed
          - Pending
          - Failed
      description: Standard metadata response from the OB task manager
    AuthorisationCodesRequest:
      title: Authorisation Codes Request Payload
      required:
      - state
      type: object
      properties:
        state:
          type: string
          description: The task ID
        code:
          type: string
          description: Code parameter returned in redirect parameters
      additionalProperties: true
    AuthorisationCodesResponse:
      title: Authorisation Codes Response Payload
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/AuthorisationCodesResponse_data'
    IngestResponseStatus:
      title: Ingest Response Status
      type: string
      description: Ingest response status.
      enum:
      - Completed
      - Pending
      - Failed
    OpenBankingConnectResponse:
      title: Open Banking Connect Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/GetOBConnectData'
        metadata:
          $ref: '#/components/schemas/OpenBankingConnectResponse_metadata'
      description: Expected response structure
    GetOBConnectData:
      title: Open Banking Synchronisation Status
      required:
      - provider
      - step
      - text
      type: object
      properties:
        provider:
          type: string
          description: The name of the provider the task is trying to connect to
        step:
          type: integer
          description: At what step or stage the connection process is at
          enum:
          - 1
          - 2
          - 3
          - 4
        text:
          type: string
          description: A description of what stage the connection process is at
          enum:
          - Fetching access token
          - Fetching accounts
          - Fetching balances and transactions
          - Completed
      description: Status of an Open Banking Aggregation connect or refresh task
    OpenBankingRefreshRequest:
      title: Open Banking Refresh Payload
      required:
      - provider
      type: object
      properties:
        provider:
          type: string
          description: The name of the provider the task is trying to connect to
        from:
          type: string
          description: The datetime (ISO 8601) that defines the time since when the
            Customer's data needs to be collected. Defaults to the datetime of the
            last pull of transactions less seven days to account for any potential
            changes to the most recent set of transactions
        to:
          type: string
          description: The datetime (ISO 8601) that defines the time up to which the
            Customer's data needs to be collected. Defaults to the current datetime
      description: Expected request payload structure
    OpenBankingRefreshResponse:
      title: Refresh Task Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/TaskView'
        metadata:
          $ref: '#/components/schemas/OpenBankingRefreshResponse_metadata'
      description: Expected response structure
    TaskView:
      title: Task View
      type: object
      properties:
        task_id:
          $ref: '#/components/schemas/TaskId'
        provider:
          type: string
          description: The provider (ASPSP) associated with this task
        result:
          $ref: '#/components/schemas/ConnectResultCodes'
        status:
          $ref: '#/components/schemas/TaskStatusCaps'
        reconnect_required:
          $ref: '#/components/schemas/ReconnectRequired'
        step:
          type: number
          description: The step that this task is currently where 4 = Completed.
          enum:
          - 1
          - 2
          - 3
          - 4
        text:
          type: string
          description: A description of the step this task is currently at. In order
            from step 1 to step 4.
          enum:
          - Fetching access token
          - Fetching accounts
          - Fetching balances and transactions
          - Completed
      description: A task view.
    TaskStatusCaps:
      title: The Task Status
      type: string
      description: The general status of a task
      enum:
      - Pending
      - Complete
      - Failed
    ReconnectRequired:
      type: boolean
      description: "Indicator as to whether the account needs to be connected again,\
        \ through SCA authentication."
    GetOBConsentsResponse:
      title: Available Open Banking Consents
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          description: List of available consents
          items:
            $ref: '#/components/schemas/GetOBConsentsResponseDataItem'
        metadata:
          $ref: '#/components/schemas/ResultsMetadata'
    GetOBConsentsResponseDataItem:
      title: Open Banking Consent
      required:
      - created_at
      - customer_id
      - expiration_date
      - id
      - last_consented_on
      - permissions
      - provider
      - raw_format
      - raw_version
      - transaction_from_date
      type: object
      properties:
        id:
          type: string
          description: Open Banking consent unique identifier
        customer_id:
          type: string
          description: "Bud customer unique identifier, owner of the consent"
        provider:
          type: string
          description: Open Banking provider who the consent refers to
        transaction_from_date:
          type: string
          description: Date and time from when the transactions can be retrieved.
            ISODateTime.
        expiration_date:
          type: string
          description: Date and time when the consent will expired. ISODateTime.
        created_at:
          type: string
          description: Date and time when the consent was created. ISODateTime.
        last_consented_on:
          type: string
          description: Date and time when the consent was last consented on. ISODateTime.
        status:
          type: string
          description: To describe the status of the consent. Note that the query
            parameter `status=all` must be provided to be shown consents that have
            a status of anything but `authorised`
          enum:
          - awaiting_authorisation
          - authorised
          - rejected
          - revoked
        permissions:
          type: array
          description: List of granted permissions
          items:
            type: string
            enum:
            - ReadAccounts
            - ReadBalances
            - ReadTransactions
        raw_version:
          type: string
          description: Version of the raw format of the consent
        raw_format:
          type: string
          description: The format of the consent returned in the raw attribute
          enum:
          - obie
          - amex
          - starling
        raw:
          type: object
          description: The raw consent as returned by the provider
          nullable: true
        account_ids:
          type: array
          description: A list of the different account identifiers that are associated
            with this particular consent object. Note that you will have to provide
            the customer secret in the request headers in order to retrieve this field
            against a consent object.
          items:
            type: string
        last_synced_at:
          type: string
          description: The date at which the last data refresh (sync) occured for
            this consent object
      description: Schema to define a given Open Banking consent
    ResultsMetadata:
      title: Results Metadata Object
      type: object
      properties:
        results:
          type: number
          description: The number of results returned
      description: Metadata associated with the response schema
    RevokeAccountAccessIntentRequest:
      title: Revoke Account Access Intent Payload
      required:
      - provider
      type: object
      properties:
        provider:
          type: string
          description: The name of the provider (ASPSP) the Customer is requesting
            to have their consent revoked for
    TaskCreatedResponse:
      title: Task Created Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/TaskCreatedView'
        metadata:
          type: object
      description: Expected response structure
    RevokeAccountAccessIntentTastStatusResponse:
      title: Revoke Account Access Intent Response
      required:
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: object
        metadata:
          $ref: '#/components/schemas/RevokeAccountAccessIntentTastStatusResponse_metadata'
      description: Expected response from a get status request for a revoke account
        access intent call
    ReconfirmConsentRequest:
      title: Reconfirm Consent Request
      required:
      - provider
      type: object
      properties:
        provider:
          type: string
          description: The name of the provider the task is trying to reconfirm consent
            for
      description: Expected request payload structure
    ReconfirmConsentResponse:
      title: Reconfirm Consent Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/ConsentReconfirmation'
      description: Expected response payload structure
    ConsentReconfirmation:
      title: Consent Reconfirmation Outcome
      required:
      - provider_id
      - reconnect_required
      type: object
      properties:
        provider_id:
          type: string
          description: The provider that the reconfirmation of consent was performed
            against
        reconnect_required:
          $ref: '#/components/schemas/ReconnectRequired'
      description: Result of performing a reconfirmation of consent task
    IngestAccountsRequest:
      title: Ingest Accounts Request
      type: array
      description: Ingest accounts expected request body.
      items:
        $ref: '#/components/schemas/IngestCustomerWithAccounts'
    IngestCustomerWithAccounts:
      title: Ingest Customer With Accounts
      required:
      - accounts
      - customer_id
      - customer_secret
      type: object
      properties:
        customer_id:
          type: string
          description: "Unique identifier for a Customer, as registered on Bud's platform."
          format: uuid
        customer_secret:
          type: string
          description: Customer secret.
        accounts:
          type: array
          description: List of accounts that belongs to the customer.
          items:
            $ref: '#/components/schemas/IngestCustomerAccount'
      description: A customer with a accounts data.
    IngestCustomerAccount:
      title: Ingest Customer Account
      required:
      - account_id
      - account_sub_type
      - account_type
      - balances
      - currency
      - details
      - provider
      type: object
      properties:
        provider:
          type: string
          description: The name of the provider.
        account_id:
          type: string
          description: The unique id associated with the account
        currency:
          type: string
          description: Main currency (in ISO4217 format) of the account
        account_type:
          type: string
          description: The type of the account
          enum:
          - Business
          - Personal
        account_sub_type:
          type: string
          description: The sub type of the account
          enum:
          - ChargeCard
          - CreditCard
          - CurrentAccount
          - EMoney
          - Loan
          - Mortgage
          - PrePaidCard
          - Savings
        details:
          type: array
          description: Provides the details to identify an account
          items:
            $ref: '#/components/schemas/IngestAccountDetails'
        balances:
          type: array
          description: The balances associated with the account
          items:
            $ref: '#/components/schemas/IngestAccountBalance'
      description: An account item.
    IngestAccountDetails:
      title: Ingest Account Details
      required:
      - identification
      - scheme_name
      - secondary_identification
      type: object
      properties:
        scheme_name:
          type: string
          description: Name of the scheme associated with the account
        identification:
          type: string
          description: A unique identifier for the account
        secondary_identification:
          type: string
          description: Any secondary identifier associated with the account
        name:
          type: string
          description: The name of the account holder
      description: Schema to define any further details about a given account
    IngestAccountBalance:
      title: Ingest Account Balance
      required:
      - amount
      - credit_debit_indicator
      - credit_line
      - date
      - type
      type: object
      properties:
        account_id:
          type: string
          description: The unique id associated with the account
        amount:
          $ref: '#/components/schemas/InpAmount'
        credit_debit_indicator:
          type: string
          description: To describe whether the account balance is in debit or credit
        credit_line:
          type: array
          items:
            $ref: '#/components/schemas/IngestCreditLine'
        date:
          type: string
          description: The date associated with the balance of the given account
          format: YYYY-MM-DD
        time:
          type: string
          description: The time associated with the balance of the given account
          format: hh:mm:ss
        type:
          type: string
          description: Describes the state of the balance
          enum:
          - ClosingAvailable
          - ClosingBooked
          - ClosingCleared
          - Expected
          - ForwardAvailable
          - Information
          - InterimAvailable
          - InterimBooked
          - InterimCleared
          - OpeningAvailable
          - OpeningBooked
          - OpeningCleared
          - PreviouslyClosedBooked
      description: Information surrounding a Customer's Account Balance
    InpAmount:
      title: Amount
      description: Amount structure
      allOf:
      - type: object
        properties:
          local_currency:
            allOf:
            - description: |
                The original three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html) the payment was transacted in.

                Example: `USD`
            - $ref: '#/components/schemas/BudCurrency'
          local_value:
            allOf:
            - description: "The original value of the payment in the local currency.\
                \ The value is formatted with the number of decimal places for the\
                \ respective currency. \n\nExample: `10.98`\n"
            - $ref: '#/components/schemas/BudMonetaryValue'
      - $ref: '#/components/schemas/BudAmount'
    IngestCreditLine:
      title: Ingest Credit Line
      type: object
      properties:
        included:
          type: boolean
          description: "Indicates whether or not the credit line is included in the\
            \ balance of the account, if not present, credit line is not included\
            \ in the balance amount of the account"
        amount:
          $ref: '#/components/schemas/InpAmount'
        type:
          type: string
          description: "Limit type, in a coded form"
          enum:
          - Available
          - Credit
          - Emergency
          - Pre-Agreed
          - Temporary
      description: A set of elements used to provide details on the credit line
    IngestTransactionsResponse:
      title: Ingest First Party Transaction Data Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/IngestTransactionsResponse_data'
        metadata:
          $ref: '#/components/schemas/AsyncTaskMetadata'
      description: Ingest transactions response body.
    IngestStatusResponse:
      title: Ingest Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/IngestResponseTask'
      description: Expected response structure.
    IngestResponseTask:
      title: Ingest Response Task
      required:
      - id
      - status
      - sub_tasks
      type: object
      properties:
        id:
          type: string
          description: Unique task identifier.
          format: uuid
        status:
          $ref: '#/components/schemas/IngestResponseStatus'
        sub_tasks:
          type: array
          items:
            $ref: '#/components/schemas/IngestResponseSubTask'
      description: Expected response structure.
    IngestResponseSubTask:
      title: Ingest Response Sub Task
      required:
      - customer_id
      - errors
      - id
      - status
      type: object
      properties:
        id:
          type: string
          description: Unique sub task identifier.
          format: uuid
        customer_id:
          type: string
          description: "Unique identifier for a Customer, as registered on Bud's platform."
          format: uuid
        status:
          $ref: '#/components/schemas/IngestResponseStatus'
        errors:
          type: object
          additionalProperties:
            type: string
            description: Details surrounding a relevant error message
          description: Any error messages describing why a sub task has failed.
          nullable: true
      description: Expected response for each sub task structure.
    IngestTransactionsRequest:
      title: Ingest Transactions Request
      type: array
      description: Ingest transaction expected request body.
      items:
        $ref: '#/components/schemas/CustomerWithTransactions'
    CustomerWithTransactions:
      title: Customer With Transactions
      required:
      - customer_id
      - customer_secret
      - transactions
      type: object
      properties:
        customer_id:
          type: string
          description: "Unique identifier for a Customer, as registered on Bud's platform."
          format: uuid
          example: c3339af9-2426-44d4-9c4d-ddb8fd281e23
        customer_secret:
          type: string
          description: Customer secret.
          example: 6075654df0e057e97535ab31b80561d7d9e8409606738c2633cdd6dab63e089a
        transactions:
          type: array
          description: List of transactions belonging to the customer.
          items:
            $ref: '#/components/schemas/CustomerTransactionV2'
      description: A customer with a list of transactions.
    CustomerTransactionV2:
      title: Customer Transaction
      required:
      - account_id
      - amount
      - counterparty
      - credit_debit_indicator
      - date
      - provider
      - status
      - transaction_description
      - transaction_id
      - transaction_type
      type: object
      properties:
        provider:
          type: string
          description: The name of the provider.
          example: Lloyds
        account_id:
          type: string
          description: Unique identifier for the Customer bank account.
          example: 44568cce263a
        transaction_id:
          type: string
          description: Unique identifier for the transaction.
          example: 8a5a3408bb9e
        transaction_type:
          type: string
          description: |
            enum | Description
            ---- | -----------
            DEB  | Debit Card / Credit Card
            CSQ  | Cash / Cheque(s)
            CHG  | Charge
            COR  | Correction
            CPT  | Cashpoint / ATM
            INT  | Interest
            OTH  | Other
            BAT  | Bank Transfer<br />e.g. FP/MP/IB/BACS/CHAPS/SWIFT
            DD   | Direct Debit
            SO   | Standing Order
          example: DEB
          enum:
          - DEB
          - CSQ
          - CHG
          - COR
          - CPT
          - INT
          - OTH
          - BAT
          - DD
          - SO
        date:
          type: string
          description: The date of the transaction. ISO 8601/RFC 3339 format `yyyy-mm-dd`.
          format: date
          example: 2020-01-31
        time:
          type: string
          description: The time of the transaction. ISO 8601/RFC 3339 format `hh:mm:ss`.
            Default `00:00:00`.
          example: 23:59:00
          default: 00:00:00
        transaction_description:
          type: string
          description: Further details of the transaction.
          example: "The RSPCA, Southwater"
        credit_debit_indicator:
          type: string
          description: Indication as to whether the transaction was a credit or debit.
          example: incoming_credit
          enum:
          - incoming_credit
          - outgoing_debit
        status:
          type: string
          description: The status of the transaction.
          example: pending
          enum:
          - pending
          - booked
        counterparty:
          $ref: '#/components/schemas/Counterparty'
        amount:
          $ref: '#/components/schemas/LegacyBudAmount'
        local_amount:
          allOf:
          - description: The original/local monetary amount
          - $ref: '#/components/schemas/LegacyBudAmount'
      description: A transaction item.
    Counterparty:
      title: Counterparty
      required:
      - address
      - identifier
      - name
      - schema
      type: object
      properties:
        name:
          type: string
          description: The name of the party.
          example: The RSPCA
        address:
          type: string
          description: The address of the party.
          example: "1824, Strand, London"
        schema:
          type: string
          description: The schema used by the party.
          example: SortCodeAccountNumber
          enum:
          - SortCodeAccountNumber
        identifier:
          type: string
          description: The identifier assigned by the party.
          example: "20200811151300"
      description: Describes the party the money was deposited to or taken from.
    IngestTransactionsV3Request:
      title: Ingest Transactions Request
      type: array
      description: Ingest transaction expected request body.
      items:
        $ref: '#/components/schemas/IngestTransactionsV3Request_inner'
    CustomerID:
      type: string
      description: "Unique identifier for a Customer, as registered on Bud's platform."
      format: uuid
      example: c3339af9-2426-44d4-9c4d-ddb8fd281e23
    CustomerSecret:
      type: string
      description: Customer secret.
      example: 6075654df0e057e97535ab31b80561d7d9e8409606738c2633cdd6dab63e089a
    CustomerTransactionV3:
      title: Customer Transaction V3
      description: A schema for Bud V3 transaction format
      allOf:
      - $ref: '#/components/schemas/LegacyBudAmount'
      - required:
        - account_id
        - date_time
        - description
        - transaction_id
        type: object
        properties:
          transaction_id:
            type: string
            description: "Unique, immutable transaction identifier"
            format: uuid
            example: 4cef424c-1d7f-4cab-8be2-aee7e1774a00
          description:
            type: string
            description: Free text string providing details on the transaction itself
          account_id:
            type: string
            description: "Unique, immutable transaction identifier to show that a\
              \ transaction belongs to a given account"
            format: uuid
            example: 2f5b2055-6253-4cd0-b646-06788342a609
          date_time:
            type: string
            description: "The date detailing when the transaction occurred, compliant\
              \ with RFC3339"
            format: datetime
            example: 2022-11-10T23:00:00Z
    TransactionV3Window:
      title: Transaction Window
      required:
      - account_id
      - end
      - start
      type: object
      properties:
        account_id:
          type: string
          description: "Unique, immutable transaction identifier to show that a transaction\
            \ window belongs to a given account"
          format: uuid
          example: 2f5b2055-6253-4cd0-b646-06788342a609
        start:
          type: string
          description: "The date detailing the start of the transaction window, compliant\
            \ with RFC3339"
          format: datetime
          example: 2022-05-10T23:00:00Z
        end:
          type: string
          description: "The date detailing the end of the transaction window, compliant\
            \ with RFC3339"
          format: datetime
          example: 2022-10-10T23:00:00Z
    IngestV2SyncResponse:
      title: Ingest Transactions V2 Sync Response
      type: object
      allOf:
      - $ref: '#/components/schemas/IngestV2Response'
      - required:
        - metadata
        - operation_id
        type: object
        properties:
          data:
            type: array
            items:
              $ref: '#/components/schemas/IngestV2SyncResponseData'
          metadata:
            $ref: '#/components/schemas/IngestV2Metadata'
    IngestV2Response:
      required:
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
    IngestV2SyncResponseData:
      title: Enriched Customer Transactions
      required:
      - customer_id
      - enriched_transactions
      type: object
      properties:
        customer_id:
          $ref: '#/components/schemas/CustomerID'
        enriched_transactions:
          type: array
          items:
            $ref: '#/components/schemas/Transaction_1'
    IngestV2Metadata:
      title: Created Task Details
      required:
      - task_id
      type: object
      properties:
        task_id:
          type: string
          description: Can be used with the transaction status endpoint to retrieve
            the status of the full enriched process
          format: uuid
        next_url:
          type: string
          description: The URL to call to obtain the current status of the task.
          format: uri
          example: /v1/enrich-transactions/4cef424c-1d7f-4cab-8be2-aee7e1774a00
        next_url_delay:
          type: number
          description: The time in milliseconds that the client should wait before
            trying to retrieve the current status of the task.
          example: 50
      description: "Metadata on the created task, including the task_id"
    IngestV2AsyncResponse:
      title: Ingest Transactions V2 Async Response
      type: object
      allOf:
      - $ref: '#/components/schemas/IngestV2Response'
      - required:
        - metadata
        - operation_id
        type: object
        properties:
          metadata:
            $ref: '#/components/schemas/IngestV2Metadata'
    BodyDecodeError:
      title: JSON Decoding Error
      required:
      - code_id
      - errors
      - message
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        code_id:
          type: string
          enum:
          - failed_body_decode
        message:
          type: string
          description: 'High level description on what has failed '
        errors:
          $ref: '#/components/schemas/BodyDecodeError_errors'
    ValidationError:
      title: Validation Errors
      required:
      - code_id
      - errors
      - message
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        code_id:
          type: string
          enum:
          - failed_validation
        message:
          type: string
          description: 'High level description on what has failed '
        errors:
          $ref: '#/components/schemas/Map_of_customer_IDs'
      example:
        operation_id: enrich_transactions_post
        code_id: failed_validation
        message: validation failure(s) in request payload
        errors:
          "1db8c4b5-e5ae-429e-947b-6a4616ffc717":
            missing_fields:
              "8b13ac45-9fe6-4c17-8c6d-b60ab2b4edad":
              - description
              - customer_id
              ba466961-d623-4173-9001-2f6487a9a41e:
              - customer_id
              tx-1:
              - transaction_id
              "578f24f2-5046-463a-bca6-239e0dfac7fa":
              - amount
            invalid_fields:
              "8b13ac45-9fe6-4c17-8c6d-b60ab2b4edad":
              - date
              ba466961-d623-4173-9001-2f6487a9a41e:
              - date
    ValidationMissing:
      title: Missing Fields
      type: array
      description: list of required missing fields for a transaction
      items:
        type: string
    ValidationInvalid:
      title: Invalid Fields
      type: array
      description: list of invalid fields for a transaction
      items:
        type: string
    FailedValidationError:
      title: Failed Validation
      required:
      - code_id
      - errors
      - message
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        code_id:
          type: string
          enum:
          - failed_validation
        message:
          type: string
          description: High level description on what has failed
        errors:
          type: object
          description: Contains a field specific error messages
      example:
        operation_id: ingest_transactions_get
        code_id: failed_validation
        message: Failed validation
        errors:
          task_id: A valid task ID URI parameter is required
    TaskNotFoundError:
      title: Task Not Found
      required:
      - code_id
      - errors
      - message
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        code_id:
          type: string
          enum:
          - not_found
        message:
          type: string
          description: High level description on what has failed
      example:
        operation_id: ingest_transactions_get
        code_id: not_found
        message: Task not found
    CustomerContext:
      title: Customer Context
      type: object
      properties:
        type:
          $ref: '#/components/schemas/CustomerContextType'
        region:
          $ref: '#/components/schemas/CustomerContextRegion'
        locale:
          $ref: '#/components/schemas/CustomerContextLocale'
      description: The context in which a customer is processed throughout the Bud
        platform. Default values can be populated using client configuration.
    CustomerContextType:
      title: Customer Context Type
      type: string
      description: |
        The type of customer signed up:

        | Value      | Description                             |
        |------------|-----------------------------------------|
        | `personal` | Individuals with personal bank accounts |
        | `business` | Businesses with business accounts       |
      enum:
      - personal
      - business
    CustomerContextRegion:
      title: Customer Context Region
      type: string
      description: "The region/country where the customer is located, format defined\
        \ by ISO 3166 Alpha-2."
    CustomerContextLocale:
      title: Customer Context Locale
      type: string
      description: "The locale/language, based on the region, format defined by BCP\
        \ 47."
    CustomerCreateResponse:
      title: Create Customer Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/CustomerCreateResponse_data'
      description: Expected response structure.
    CreateCustomersPayload:
      title: Create Customers Payload
      type: object
      properties:
        number_of_customers:
          maximum: 200
          type: integer
          description: The number of customers to create (register) on Bud's platform
            in a single request.
          default: 1
        customer_context:
          $ref: '#/components/schemas/CustomerContext'
    CustomersCreateResponse:
      title: Create Customers Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          description: An array of Customer Created objects
          items:
            $ref: '#/components/schemas/CustomerCreated'
        metadata:
          $ref: '#/components/schemas/ResultsMetadataNullable'
      description: Expected response structure.
    CustomerCreated:
      title: Customer Created
      required:
      - customer_context
      - customer_id
      - customer_secret
      type: object
      properties:
        customer_id:
          type: string
          description: "Unique identifier for a Customer, as registered on Bud's platform"
          format: uuid
        customer_secret:
          type: string
          description: "An unique Customer encryption key used to encrypt their data\
            \ on the Bud platform. Please note that this key is not held by Bud, and\
            \ is required in the header of any endpoint that involves reading Customer\
            \ data stored on the Bud platform."
        customer_context:
          $ref: '#/components/schemas/CustomerContext'
    ResultsMetadataNullable:
      title: Results Metadata Object
      type: object
      properties:
        results:
          type: number
          description: The number of results returned
      description: Metadata associated with the response schema
      nullable: true
    CustomerContextResponse:
      title: Customer Context Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          type: string
        data:
          $ref: '#/components/schemas/CustomerContext'
      description: Customer context response.
    UpdateCustomerContextRequest:
      title: Update Customer Context Request
      type: object
      properties:
        region:
          $ref: '#/components/schemas/CustomerContextRegion'
        locale:
          $ref: '#/components/schemas/CustomerContextLocale'
      description: Expected request payload structure.
    UpdateCustomerContextResponse:
      title: Customer Context Update Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          type: string
        data:
          $ref: '#/components/schemas/Updated_Customer_Context_Data'
      description: Customer context update response.
    CategoriesResponse:
      title: Categories Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          oneOf:
          - $ref: '#/components/schemas/CategoriesFlat'
          - $ref: '#/components/schemas/CategoriesMap'
      description: Expected response structure for the get categories endpoint
    CategoriesFlat:
      title: Category List
      type: object
      properties:
        l1:
          type: array
          description: List of all the available categories.
          items:
            type: string
        l2:
          type: array
          description: List of all the available subcategories.
          items:
            type: string
      description: A list of all the available categories and subcategories.
    CategoriesMap:
      title: Category Map
      type: array
      description: A map of all the available categories and respective subcategories
      items:
        $ref: '#/components/schemas/Category_1'
    CategoriesTotalResponse:
      title: Categories Totals Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/CategoriesTotalResponse_data'
      description: ""
    CategoryTotalSpend:
      title: Category Total Object
      required:
      - category
      - credit_amount
      - debit_amount
      type: object
      properties:
        category:
          $ref: '#/components/schemas/CategoryObject'
        credit_amount:
          type: array
          items:
            $ref: '#/components/schemas/BudAmount'
        debit_amount:
          type: array
          items:
            $ref: '#/components/schemas/BudAmount'
      description: Information regarding the total income and expenditure of a given
        category
    CategoryObject:
      title: Category Object
      required:
      - id
      - label
      type: object
      properties:
        id:
          type: string
          description: The identifier (slug) of the category
        label:
          type: string
          description: The label (name) of the transaction category for display purposes
      description: Category information
    MerchantTotalsResponse:
      title: Merchant Totals Response
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          description: Information surrounding possible groups of Regular transactions
          items:
            $ref: '#/components/schemas/MerchantTotals'
        metadata:
          $ref: '#/components/schemas/MerchantTotalsMetadata'
      description: Merchant Totals from Aggregated Data Response
    MerchantTotals:
      title: Merchant Totals
      required:
      - spend_by_merchants
      - total_incoming
      - total_outgoing
      type: object
      properties:
        total_outgoing:
          $ref: '#/components/schemas/LegacyBudAmount'
        total_incoming:
          $ref: '#/components/schemas/LegacyBudAmount'
        unknown_spend:
          $ref: '#/components/schemas/MerchantSpendObject'
        merchant_spend:
          type: array
          items:
            $ref: '#/components/schemas/MerchantSpendObject'
      description: Merchant Total spend structure
    MerchantSpendObject:
      title: Merchant Spend
      description: Total spend by merchants
      allOf:
      - $ref: '#/components/schemas/LegacyBudAmount'
      - required:
        - transaction_count
        type: object
        properties:
          transaction_count:
            type: number
            description: Number of transactions found using this merchant
    MerchantTotalsMetadata:
      title: Merchant Totals Metadata
      type: object
      properties:
        from:
          type: string
          description: Date (Y-m-d) from which transactions are returned from.
        to:
          type: string
          description: Date (Y-m-d) from which transactions are returned to.
        transaction_count:
          type: number
          description: Number of transactions returned.
    MerchantTotalsResponseV2:
      title: Merchant Totals
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          items:
            $ref: '#/components/schemas/MerchantTotalV2'
        metadata:
          $ref: '#/components/schemas/MerchantTotalsMetadataV2'
    MerchantTotalV2:
      title: Merchant Total
      required:
      - merchant
      - total_credit
      - total_debit
      - transaction_count
      type: object
      properties:
        merchant:
          $ref: '#/components/schemas/Merchant_1'
        total_debit:
          allOf:
          - title: Total Debit
            description: Total debit amount of all transactions identified with the
              named merchant
          - $ref: '#/components/schemas/BudAmount'
        total_credit:
          allOf:
          - title: Total Credit
            description: Total credit amount of all transactions identified with the
              named merchant
          - $ref: '#/components/schemas/BudAmount'
        transaction_count:
          title: Transaction Count
          type: number
          description: Total number of transactions identified with the named merchant
    Merchant_1:
      title: Bud Merchant Object
      required:
      - id
      - logo
      - name
      type: object
      properties:
        id:
          type: string
          description: Identifier for the detected merchant
        name:
          type: string
          description: Display name for the detected merchant
        logo:
          type: string
          description: URL for logo of the detected merchant
      description: Details regarding a merchant associated with a transaction
    MerchantTotalsMetadataV2:
      allOf:
      - $ref: '#/components/schemas/TransactionsResultsMetadata'
      - title: Metadata
        type: object
        properties:
          categories_included:
            type: array
            description: Categories included in total (from `X-Include-Categories`)
            items:
              type: string
          categories_excluded:
            type: array
            description: Categories excluded from total (from `X-Exclude-Categories`)
            items:
              type: string
    TransactionsResultsMetadata:
      title: Metadata
      description: Metadata associated with the response schema
      allOf:
      - $ref: '#/components/schemas/LegacyBudDateRangeMetadata'
      - required:
        - results
        type: object
        properties:
          results:
            type: number
            description: Number of results returned
    BenefitsTotalsResponseV1:
      title: Benefit Totals
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          items:
            $ref: '#/components/schemas/BenefitsTotalsResponseV1_data'
        metadata:
          $ref: '#/components/schemas/TransactionsResultsMetadata'
      description: Benefits Total income structure
    Benefit:
      title: Benefit
      required:
      - display_name
      - type
      type: object
      properties:
        type:
          type: string
          description: The type of benefit
          example: attendance_allowance
        display_name:
          type: string
          description: The display name of the benefit type
          example: Attendance Allowance
    ListAccountsV2Response:
      title: Retrieve Accounts Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          type: string
          enum:
          - financial_v2_accounts
        data:
          type: array
          items:
            $ref: '#/components/schemas/AccountV2'
        metatdata:
          $ref: '#/components/schemas/ListAccountsV2Response_metatdata'
    AccountV2:
      title: Account
      required:
      - account_id
      - currency
      type: object
      properties:
        account_id:
          type: string
          description: |
            A unique id associated with the account.

            Example: `sdb4eRMaad8XVEvdIoISOQ`
        currency:
          $ref: '#/components/schemas/BudCurrency'
        holder:
          $ref: '#/components/schemas/Account_Holder'
        holders:
          type: array
          description: "The account holders. This field is only present if parties\
            \ data **is** available.\n\nParties data will only be present if you are\
            \ a Check customer, and the provider is supported by Check. \nProviders\
            \ that support Check can be found in the Connect coverage table in Guides,\
            \ under Connect.\n"
          items:
            $ref: '#/components/schemas/Account_Holder_1'
        account_name:
          type: string
          description: |
            The name associated with the account, this is often a friendly name assigned to the account to make it easier to refer to.

            Example: `Household Savings Account`
        account_type:
          type: string
          description: |
            The type of account.

            Currently supported values include (but are not necessarily limited to):
              - `charge_card`
              - `credit_card`
              - `current_account`
              - `e_money`
              - `loan`
              - `mortgage`
              - `pre_paid_card`
              - `savings`
        usage_type:
          type: string
          description: |
            The intended usage of the account.

            Currently supported values include (but are not necessarily limited to):
              - `personal`
              - `business`
        provider:
          type: string
          description: |
            The account's provider, this is usually the bank or building society the account is held with.

            Example: `Nationwide`
        identifiers:
          $ref: '#/components/schemas/AccountV2_identifiers'
        balances:
          title: Balances
          type: array
          description: The latest balances for the account.
          items:
            $ref: '#/components/schemas/Balance_1'
        credit_lines:
          type: array
          description: The latest lines of credit available to the account. This is
            typically a representation of the overdraft or credit limits.
          items:
            $ref: '#/components/schemas/Credit_Line'
    ServerErrorResponse:
      title: Server Error Response
      required:
      - code_id
      - message
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        code_id:
          type: string
          description: A descriptive enough string that is linked to the reason for
            the error.
        message:
          type: string
          description: An actual user friendly error message.
        errors:
          anyOf:
          - $ref: '#/components/schemas/Error'
          - $ref: '#/components/schemas/Errors'
    Errors:
      title: Array of Error Object
      type: array
      description: Contains a list of error messages
      items:
        $ref: '#/components/schemas/Error'
    RetrieveAccountByIDV2Response:
      title: Retrieve Account By ID Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          type: string
          enum:
          - financial_v2_accounts_account_id
        data:
          $ref: '#/components/schemas/AccountV2'
        metatdata:
          type: object
    GetBalancesResponse:
      title: Get Balances Response
      required:
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          items:
            $ref: '#/components/schemas/GetBalancesResponse_data'
        metadata:
          $ref: '#/components/schemas/GetBalancesResponse_metadata'
    BalanceOverTimeDataPoint:
      title: Balance Over Time Data-Point
      required:
      - booked
      - date
      type: object
      properties:
        date:
          type: string
          description: |
            The date of the given balance in the format [RFC 3339](https://www.rfc-editor.org/rfc/rfc3339).

            Examples:
              - `2023-03-17T23:59:59Z`
              - `2023-03-17T23:59:59-08:00`
        booked:
          $ref: '#/components/schemas/BalanceAmount_1'
        pending:
          $ref: '#/components/schemas/BalanceAmount_1'
      description: A single record of the balance at the end of the given date.
    BalanceAmount_1:
      title: Balance amount
      required:
      - amount
      - credit_debit_indicator
      - type
      properties:
        amount:
          $ref: '#/components/schemas/BudAmount'
        type:
          type: string
          description: |
            The type for the given balance

            Currently supported values include (but are not necessarily limited to):
              - `closing_available`
              - `closing_booked`
              - `closing_cleared`
              - `expected`
              - `forward_available`
              - `information`
              - `interim_available`
              - `interim_booked`
              - `interim_cleared`
              - `opening_available`
              - `opening_booked`
              - `opening_cleared`
              - `previously_closed_booked`
        credit_debit_indicator:
          type: string
          description: Indication as to whether the balance is in credit or debit
          enum:
          - credit
          - debit
      description: A representation of both the amount and the credit/debit indicator
    GetBalancesForAccountIDResponse:
      title: Get Balances For Account ID Response
      required:
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          items:
            $ref: '#/components/schemas/BalanceOverTimeDataPoint'
        metadata:
          $ref: '#/components/schemas/GetBalancesForAccountIDResponse_metadata'
    BadRequestNotFoundResponse:
      title: Bad Request Not Found Response
      required:
      - code_id
      - message
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        code_id:
          type: string
          description: A descriptive enough string that is linked to the reason for
            the error.
        message:
          type: string
          description: An actual user friendly error message.
    OBListAccountsResponse:
      title: Open Banking Retrieve Accounts
      type: object
      allOf:
      - $ref: '#/components/schemas/BudResponseObject'
      - required:
        - data
        - metadata
        type: object
        properties:
          data:
            type: array
            description: Information surrounding a given Customer's Open Banking Account(s)
            items:
              $ref: '#/components/schemas/AccountInfo'
          metadata:
            $ref: '#/components/schemas/ResultsMetadata'
    BudResponseObject:
      title: Generic Bud Response Object
      required:
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
      description: The generic Bud response object
    AccountInfo:
      title: Open Banking Account Information
      required:
      - account_id
      - account_sub_type
      - account_type
      - balances
      - currency
      - details
      - nickname
      - parties
      - provider
      type: object
      properties:
        account_id:
          type: string
          description: The unique id associated with the account
        currency:
          type: string
          description: Main currency of the account
        account_type:
          description: The type of the account. Note that this field is now nullable
            since some banks started following v3.1.7 of the Open Banking Accounts
            & Transactions standards
          oneOf:
          - type: string
            enum:
            - Business
            - Personal
          - type: "null"
        account_sub_type:
          type: string
          description: The sub type of the account
          enum:
          - ChargeCard
          - CreditCard
          - CurrentAccount
          - EMoney
          - Loan
          - Mortgage
          - PrePaidCard
          - Savings
        nickname:
          type: string
          description: If any nickname has been given to the account
        details:
          type: array
          description: Provides the details to identify an account
          items:
            $ref: '#/components/schemas/OBAccountDetails'
        provider:
          type: string
          description: The provider of the account
        balances:
          type: array
          description: The balances associated with the account
          items:
            $ref: '#/components/schemas/OBAccountBalance'
        parties:
          type: array
          description: Details on the account owner(s)/holder(s) and operator(s)
          items:
            $ref: '#/components/schemas/OBParties'
      description: Information surrounding a given Customer's Open Banking account
    OBAccountDetails:
      title: Open Banking Account Details
      type: object
      properties:
        scheme_name:
          type: string
          description: Name of the scheme associated with the account
        identification:
          type: string
          description: A unique identifier for the account
        name:
          type: string
          description: The name of the account holder
        secondary_identification:
          type: string
          description: Any secondary identifier associated with the account
      description: Schema to define any further details about a given Open Banking
        account
    OBAccountBalance:
      title: Open Banking Account Balance Information
      required:
      - account_id
      - amount
      - credit_debit_indicator
      - credit_line
      - date_time
      - type
      type: object
      properties:
        account_id:
          type: string
          description: The unique id associated with the account
        amount:
          $ref: '#/components/schemas/LegacyBudAmount'
        credit_debit_indicator:
          type: string
          description: To describe whether the account balance is in debit or credit
        credit_line:
          type: array
          items:
            $ref: '#/components/schemas/CreditLine'
        date_time:
          type: string
          description: A date time string associated with the balance of the given
            account
        type:
          type: string
          description: Describes the state of the balance
          enum:
          - ClosingAvailable
          - ClosingBooked
          - ClosingCleared
          - Expected
          - ForwardAvailable
          - Information
          - InterimAvailable
          - InterimBooked
          - InterimCleared
          - OpeningAvailable
          - OpeningBooked
          - OpeningCleared
          - PreviouslyClosedBooked
      description: Information surrounding a Customer's Account Balance
    CreditLine:
      title: Open Banking Credit Line
      type: object
      properties:
        included:
          type: boolean
          description: "Indicates whether or not the credit line is included in the\
            \ balance of the account, if not present, credit line is not included\
            \ in the balance amount of the account"
        amount:
          $ref: '#/components/schemas/LegacyBudAmount'
        type:
          type: string
          description: "Limit type, in a coded form"
          enum:
          - Available
          - Credit
          - Emergency
          - Pre-Agreed
          - Temporary
      description: A set of elements used to provide details on the credit line
    OBParties:
      title: Parties Information
      type: object
      properties:
        full_name:
          type: string
          description: The full legal name of the party
        type:
          type: string
          description: Party type
          enum:
          - delegate
          - joint
          - sole
      description: Schema to identify information on the account owner(s)/holder(s)
        and operator(s)
    OBListTransactionsResponse:
      title: Open Banking List Account(s) Transactions
      type: object
      allOf:
      - $ref: '#/components/schemas/BudResponseObject'
      - required:
        - data
        - metadata
        type: object
        properties:
          data:
            type: array
            items:
              $ref: '#/components/schemas/OBTransactionResponse'
          metadata:
            $ref: '#/components/schemas/TransactionsResultsMetadata'
    OBTransactionResponse:
      title: Open Banking Transaction Schema
      required:
      - enrichment
      - id
      - provider
      - raw_transaction
      type: object
      properties:
        id:
          type: string
          description: Bud transaction identifier
        provider:
          type: string
          description: The provider of the account data
        raw_transaction:
          $ref: '#/components/schemas/RawOBTransaction'
        enrichment:
          $ref: '#/components/schemas/Enrichment'
      description: Bud transactions response array
    RawOBTransaction:
      title: Open Banking Raw Transaction
      required:
      - account_id
      - address_line
      - amount
      - balance
      - bank_transaction_code
      - booking_date_time
      - card_instrument
      - charge_amount
      - credit_debit_indicator
      - creditor_account
      - creditor_agent
      - currency_exchange
      - debtor_account
      - debtor_agent
      - merchant_details
      - proprietary_bank_transaction_code
      - statement_reference
      - status
      - supplementary_data
      - transaction_id
      - transaction_information
      - transaction_reference
      - value_date_time
      type: object
      properties:
        account_id:
          type: string
          description: A unique and immutable identifier used to identify the account
            resource. This identifier has no meaning to the account owner.
        transaction_id:
          type: string
          description: Unique identifier for the transaction within an servicing institution.
            This identifier is both unique and immutable.
        transaction_reference:
          type: string
          description: Unique reference for the transaction. This reference is optionally
            populated.
        amount:
          $ref: '#/components/schemas/LegacyBudAmount'
        credit_debit_indicator:
          type: string
          description: Indicates whether the transaction is a credit or a debit entry.
          enum:
          - Credit
          - Debit
        status:
          type: string
          description: Status of a transaction entry on the books of the account servicer.
          enum:
          - Booked
          - Pending
        booking_date_time:
          type: string
          description: Date and time when a transaction entry is posted to an account
            on the account servicer's books. ISODateTime.
        value_date_time:
          description: "Date and time at which assets become available to the account\
            \ owner in case of a credit entry, or cease to be available to the account\
            \ owner in case of a debit transaction entry. ISODateTime. Null if this\
            \ field is not applicable."
          oneOf:
          - type: "null"
          - type: string
        address_line:
          description: "Information that locates and identifies a specific address\
            \ for a transaction entry, that is presented in free format text. Null\
            \ if this field is not applicable."
          oneOf:
          - type: "null"
          - type: string
        transaction_information:
          type: string
          description: Further details of the transaction.
        bank_transaction_code:
          oneOf:
          - type: "null"
          - $ref: '#/components/schemas/BankTransactionCode'
        proprietary_bank_transaction_code:
          oneOf:
          - type: "null"
          - $ref: '#/components/schemas/ProprietaryBankTransactionCode'
        balance:
          oneOf:
          - type: "null"
          - $ref: '#/components/schemas/Balance'
        merchant_details:
          oneOf:
          - type: "null"
          - $ref: '#/components/schemas/MerchantDetails'
        statement_reference:
          type: array
          items:
            type: string
        creditor_agent:
          oneOf:
          - type: "null"
          - $ref: '#/components/schemas/CreditorAgent'
        creditor_account:
          oneOf:
          - type: "null"
          - $ref: '#/components/schemas/CreditorAccount'
        debtor_agent:
          oneOf:
          - type: "null"
          - $ref: '#/components/schemas/DebtorAgent'
        debtor_account:
          oneOf:
          - type: "null"
          - $ref: '#/components/schemas/DebtorAccount'
        card_instrument:
          oneOf:
          - type: "null"
          - $ref: '#/components/schemas/CardInstrument'
        currency_exchange:
          oneOf:
          - type: "null"
          - $ref: '#/components/schemas/CurrencyExchange'
        charge_amount:
          oneOf:
          - type: "null"
          - $ref: '#/components/schemas/LegacyBudAmount'
        supplementary_data:
          oneOf:
          - type: "null"
          - type: object
            description: Additional information that can not be captured in the structured
              fields and/or any other specific block. Null if this field is not applicable.
      description: "Raw information about the transaction, as taken from Open Banking."
    BankTransactionCode:
      type: object
      properties:
        code:
          type: string
          description: Specifies the family within a domain.
        sub_code:
          type: string
          description: Specifies the sub-product family within a specific family.
      description: Set of elements used to fully identify the type of underlying transaction
        resulting in an entry.
    ProprietaryBankTransactionCode:
      type: object
      properties:
        code:
          type: string
          description: Proprietary bank transaction code to identify the underlying
            transaction.
        issuer:
          type: string
          description: Identification of the issuer of the proprietary bank transaction
            code.
      description: Set of elements to fully identify a proprietary bank transaction
        code.
    Balance:
      type: object
      properties:
        amount:
          $ref: '#/components/schemas/LegacyBudAmount'
        credit_debit_indicator:
          type: string
          description: Indicates whether the transaction is a credit or a debit entry.
          enum:
          - Credit
          - Debit
        type:
          type: string
          description: "Balance type, in a coded form."
          enum:
          - ClosingAvailable
          - ClosingBooked
          - ClosingCleared
          - Expected
          - ForwardAvailable
          - Information
          - InterimAvailable
          - InterimBooked
          - InterimCleared
          - OpeningAvailable
          - OpeningBooked
          - OpeningCleared
          - PreviouslyClosedBooked
      description: Set of elements used to define the balance as a numerical representation
        of the net increases and decreases in an account after a transaction entry
        is applied to the account.
    MerchantDetails:
      type: object
      properties:
        merchant_name:
          type: string
          description: Name of the merchant for this transaction object.
        merchant_category_code:
          type: string
          description: "Category code conform to ISO 18245, related to the type of\
            \ services or goods the merchant provides for the transaction."
      description: Details of the merchant involved in the transaction.
    CreditorAgent:
      type: object
      properties:
        scheme_name:
          type: string
          description: "Name of the identification scheme, in a coded form as published\
            \ in an external list."
        identification:
          type: string
          description: Unique and unambiguous identification of a financial institution
            or a branch of a financial institution.
        name:
          type: string
          description: Name by which an agent is known and which is usually used to
            identify that agent.
        postal_address:
          $ref: '#/components/schemas/PostalAddress'
      description: Financial institution servicing an account for the creditor.
    PostalAddress:
      type: object
      properties:
        address_type:
          type: string
          description: Identifies the nature of the postal address.
          enum:
          - Business
          - Correspondence
          - DeliveryTo
          - MailTo
          - POBox
          - Postal
          - Residential
          - Statement
        building_number:
          type: string
          description: Number that identifies the position of a building on a street.
        country:
          type: string
          description: Nation with its own government.
        country_subdivision:
          type: string
          description: "Identifies a subdivision of a country such as state, region,\
            \ county."
        department:
          type: string
          description: Identification of a division of a large organisation or building.
        postcode:
          type: string
          description: Identifier consisting of a group of letters and/or numbers
            that is added to a postal address to assist the sorting.
        street_name:
          type: string
          description: Name of a street or thoroughfare.
        sub_department:
          type: string
          description: Identification of a sub-division of a large organisation or
            building.
        town_name:
          type: string
          description: "Name of a built-up area, with defined boundaries, and a local\
            \ government."
        address_line:
          type: array
      description: "Information that locates and identifies a specific address, as\
        \ defined by postal services."
    CreditorAccount:
      type: object
      properties:
        scheme_name:
          type: string
          description: "Name of the identification scheme, in a coded form as published\
            \ in an external list."
        identification:
          type: string
          description: Unique and unambiguous identification of a financial institution
            or a branch of a financial institution.
        name:
          type: string
          description: "Name of the account, as assigned by the account servicing\
            \ institution, in agreement with the account owner in order to provide\
            \ an additional means of identification of the account.  Usage: The account\
            \ name is different from the account owner name. The account name is used\
            \ in certain user communities to provide a means of identifying the account,\
            \ in addition to the account owner's identity and the account number.\
            \ OB: No name validation is expected for confirmation of payee."
        secondary_identification:
          type: string
          description: "This is secondary identification of the account, as assigned\
            \ by the account servicing institution. This can be used by building societies\
            \ to additionally identify accounts with a roll number (in addition to\
            \ a sort code and account number combination)."
          nullable: true
      description: "Unambiguous identification of the account of the creditor, in\
        \ the case of a debit transaction."
    DebtorAgent:
      type: object
      properties:
        scheme_name:
          type: string
          description: "Name of the identification scheme, in a coded form as published\
            \ in an external list."
        identification:
          type: string
          description: Unique and unambiguous identification of a financial institution
            or a branch of a financial institution.
        name:
          type: string
          description: Name by which an agent is known and which is usually used to
            identify that agent.
        postal_address:
          $ref: '#/components/schemas/PostalAddress'
      description: Financial institution servicing an account for the debtor.
    DebtorAccount:
      type: object
      properties:
        scheme_name:
          type: string
          description: "Name of the identification scheme, in a coded form as published\
            \ in an external list."
        identification:
          type: string
          description: Unique and unambiguous identification of a financial institution
            or a branch of a financial institution.
        name:
          type: string
          description: "Name of the account, as assigned by the account servicing\
            \ institution, in agreement with the account owner in order to provide\
            \ an additional means of identification of the account. Usage: The account\
            \ name is different from the account owner name. The account name is used\
            \ in certain user communities to provide a means of identifying the account,\
            \ in addition to the account owner's identity and the account number.\
            \ OB: No name validation is expected for confirmation of payee."
        secondary_identification:
          type: string
          description: "This is secondary identification of the account, as assigned\
            \ by the account servicing institution. This can be used by building societies\
            \ to additionally identify accounts with a roll number (in addition to\
            \ a sort code and account number combination)."
          nullable: true
      description: "Unambiguous identification of the account of the debtor, in the\
        \ case of a debit transaction."
    CardInstrument:
      type: object
      properties:
        card_scheme_name:
          type: string
          description: Name of the card scheme.
        card_authorisation_type:
          type: string
          description: The card authorisation type.
        cardholder_name:
          type: string
          description: Name of the cardholder using the card instrument.
        identification:
          type: string
          description: "Identification assigned by an institution to identify the\
            \ card instrument used in the transaction. This identification is known\
            \ by the account owner, and may be masked."
      description: Set of elements to describe the card instrument used in the transaction.
    CurrencyExchange:
      type: object
      properties:
        contract_identification:
          type: string
          description: Unique identification to unambiguously identify the foreign
            exchange contract.
        exchange_rate:
          type: string
          description: Factor used to convert an amount from one currency into another.
            This reflects the price at which one currency was bought with another
            currency.
        instructed_amount:
          $ref: '#/components/schemas/LegacyBudAmount'
        quotation_date:
          type: string
          description: Unix timestamp at which an exchange rate is quoted.
        source_currency:
          type: string
          description: Currency from which an amount is to be converted in a currency
            conversion.
        target_currency:
          type: string
          description: Currency into which an amount is to be converted in a currency
            conversion.
        unit_currency:
          type: string
          description: "Currency in which the rate of exchange is expressed in a currency\
            \ exchange. In the example 1GBP = xxxCUR, the unit currency is GBP."
      description: Set of elements used to provide details on the currency exchange.
    Enrichment:
      required:
      - categoriser
      - merchant
      - regular_payments
      type: object
      properties:
        categoriser:
          $ref: '#/components/schemas/DoubleCatCategory'
        merchant:
          oneOf:
          - type: "null"
          - $ref: '#/components/schemas/MerchantID'
        regular_payments:
          $ref: '#/components/schemas/RegularPayments'
        carbon_tracker:
          $ref: '#/components/schemas/CarbonTracker'
      description: Object that holds enrichment information for a transaction
    DoubleCatCategory:
      title: Category Enrichment Object
      required:
      - categories
      - subcategories
      type: object
      properties:
        categories:
          type: array
          items:
            $ref: '#/components/schemas/DoubleCatCategoryList'
        subcategories:
          type: array
          items:
            $ref: '#/components/schemas/DoubleCatSubcategoryList'
    DoubleCatCategoryList:
      title: Categories
      type: object
      properties:
        category_name:
          type: string
          description: The name of the category returned by the model
        confidence:
          type: string
          description: The level of certainty that the model has predicted the category
    DoubleCatSubcategoryList:
      title: Subcategories
      type: object
      properties:
        subcategory_name:
          type: string
          description: The name of the sub category returned by the model
        confidence:
          type: string
          description: The level of certainty that the model has predicted the subcategory
    MerchantID:
      title: Merchant ID Object
      type: object
      properties:
        id:
          type: string
          description: A unique ID for the identified merchant
        merchant_name:
          type: string
          description: The clean name of the identified merchant
        merchant_logo:
          type: string
          description: The merchant's logo image URL location
        merchant_confidence:
          type: string
          description: The level of certainty that the model has predicted the merchant
      description: Details surrounding the identified merchant of the transaction
    RegularPayments:
      title: Regular Payment Object
      type: object
      properties:
        label:
          description: "A recurring transaction group identifier label associating\
            \ regular transactions e.g. all Spotify transactions that are regular\
            \ by the same monthly period will share the same label. If a transaction\
            \ is irregular it will have a label of -1. All regular payments will be\
            \ grouped by a label identifier. The format of the label includes a hash\
            \ of the transaction description and the amount, followed by an integer\
            \ corresponding to the number of regular groups found, i.e. <hash>-<i>.\
            \ Null if this field is not applicable."
          oneOf:
          - type: "null"
          - type: string
        score:
          description: "A floating point number between 0 and 1, to define the confidence\
            \ level that the transaction is regular or not. Null if this field is\
            \ not applicable."
          oneOf:
          - type: "null"
          - type: string
        period:
          type: string
          description: 'To describe the period between each transaction in a regular
            group. Null if this field is not applicable. '
          oneOf:
          - type: "null"
          - type: string
          enum:
          - daily
          - weekly
          - biweekly
          - monthly
          - quarterly
          - unknown
      description: Details surrounding the regularity of the transaction
    CarbonTracker:
      title: Carbon Tracker
      required:
      - co2_amount_kg
      type: object
      properties:
        co2_amount_kg:
          type: number
          description: "The amount of Carbon Dioxide (CO2) in units of kilograms,\
            \ found to be associated with the transaction."
    RecategoriseCustomerRequestDoublecat:
      type: array
      description: Expected request structure for the recategorisation endpoint
      items:
        $ref: '#/components/schemas/RecategorisedCustomerRequestDoublecatPayload'
    RecategorisedCustomerRequestDoublecatPayload:
      required:
      - account_id
      - category_name
      - subcategory_name
      - transaction_id
      type: object
      properties:
        transaction_id:
          type: string
          description: A unique identifier for the transaction
        account_id:
          type: string
          description: A unique identifier for the Customer bank account
        category_name:
          type: string
          description: "The corrected transaction category name - please note: this\
            \ must be a valid category name"
        subcategory_name:
          type: string
          description: "The corrected transaction subcategory name - please note:\
            \ this must be a valid subcategory name"
      description: Expected recategorised transaction structure
    RecategoriseCustomerResponseDoublecat:
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          items:
            $ref: '#/components/schemas/RecategorisedCustomerRequestDoublecatPayload'
        metadata:
          $ref: '#/components/schemas/ResultsMetadata'
      description: Expected response structure for the recategorise Customer transactions
        endpoint
    CustomerCategoryCorrectionRequest:
      title: Customer Category Corrections Request Payload
      type: array
      description: Expected request structure for the category corrections endpoint
      items:
        $ref: '#/components/schemas/CustomerCategoryCorrectionPayload'
    CustomerCategoryCorrectionPayload:
      title: Customer Category Correction
      required:
      - transaction_id
      type: object
      properties:
        transaction_id:
          type: string
          description: The unique identifier for the transaction
        category_l1:
          type: string
          description: The name of the category that the transaction should be assigned
        category_l2:
          type: string
          description: The name of the subcategory that the transaction should be
            assigned
        include_similar:
          type: boolean
          description: Correct the category of other similar transactions to the specified
            transaction
          default: false
      description: Expected request structure for the category corrections endpoint
    CustomerCategoryCorrectionResponse:
      title: Customer Category Corrections Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          items:
            $ref: '#/components/schemas/CustomerCategoryCorrectionPayload'
        metadata:
          $ref: '#/components/schemas/ResultsMetadata'
      description: Expected response structure for the category corrections endpoint
    TransactionAttributesClientLabelsRequest:
      title: Transaction Attributes Client Labels
      type: array
      items:
        $ref: '#/components/schemas/TransactionAttributesClientLabelsRequest_inner'
    TransactionAttributesClientLabelsResponse:
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/TransactionAttributesClientLabelsResponse_data'
    RegularTransactionsResponse:
      title: Regular Transactions (Aggregated) Response
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          description: Information surrounding possible groups of Regular transactions
          items:
            $ref: '#/components/schemas/RegularTransaction'
        metadata:
          $ref: '#/components/schemas/ResultsMetadata'
      description: Regular Transactions from Aggregated Data Response
    RegularTransaction:
      title: Regular Transaction Group
      description: Information surrounding a possible group of Regular transactions
      allOf:
      - $ref: '#/components/schemas/RegularPaymentsConfirmed'
      - required:
        - transactions
        type: object
        properties:
          transactions:
            type: array
            items:
              $ref: '#/components/schemas/BasicTransactionWithNullableMerchant'
    RegularPaymentsConfirmed:
      title: Regular Payment Object
      required:
      - label
      - period
      - score
      type: object
      properties:
        label:
          type: string
          description: "A recurring transaction group identifier label associating\
            \ regular transactions e.g. all Spotify transactions that are regular\
            \ by the same monthly period will share the same label.   The format of\
            \ the label includes a hash of the transaction description and the amount,\
            \ followed by an integer corresponding to the number of regular groups\
            \ found, i.e. <hash>-<i>."
        period:
          type: string
          description: To describe the period between each transaction in a regular
            group.
          enum:
          - daily
          - weekly
          - biweekly
          - monthly
          - quarterly
          - unknown
        score:
          type: string
          description: "A floating point number between 0 and 1, to define the confidence\
            \ level that the transaction is regular or not."
      description: Details surrounding the regularity of the transaction
    BasicTransactionWithNullableMerchant:
      title: Basic Transaction With Nullable Merchant Schema
      required:
      - account_id
      - amount
      - credit_debit_indicator
      - date
      - provider
      - transaction_description
      - transaction_id
      type: object
      properties:
        transaction_id:
          type: string
          description: A unique identifier for the transaction
        account_id:
          type: string
          description: A unique identifier for the Customer bank account
        transaction_description:
          type: string
          description: "Any Customer defined input, e.g. a bank transfer reference"
        provider:
          type: string
          description: The name of the relevant provider relevant to the source of
            the original transaction data
        date:
          type: string
          description: The date (YYYY-MM-DD) that the transaction took place
        amount:
          $ref: '#/components/schemas/LegacyBudAmount'
        credit_debit_indicator:
          type: string
          description: Indication as to whether the transaction was a credit or debit
          enum:
          - Credit
          - Debit
        merchant:
          $ref: '#/components/schemas/NullableMerchant'
      description: Basic transaction with nullable merchant schema
    NullableMerchant:
      title: Bud Merchant Object
      required:
      - id
      - logo
      - name
      type: object
      properties:
        id:
          type: string
          description: Identifier for the detected merchant
        name:
          type: string
          description: Display name for the detected merchant
        logo:
          type: string
          description: URL for logo of the detected merchant
      description: Details regarding a merchant associated with a transaction
      nullable: true
    FutureTransactionsResponse:
      title: Future Transactions (Aggregated) Response
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          description: Information surrounding predicted future transactions
          items:
            allOf:
            - $ref: '#/components/schemas/BasicTransaction'
            - $ref: '#/components/schemas/FuturePaymentsConfirmed'
        metadata:
          $ref: '#/components/schemas/ResultsMetadata'
      description: Future Transactions from Aggregated Data Response
    BasicTransaction:
      title: Basic Transaction Schema
      required:
      - account_id
      - amount
      - credit_debit_indicator
      - date
      - provider
      - transaction_description
      - transaction_id
      type: object
      properties:
        transaction_id:
          type: string
          description: A unique identifier for the transaction
        account_id:
          type: string
          description: A unique identifier for the Customer bank account
        transaction_description:
          type: string
          description: "Any Customer defined input, e.g. a bank transfer reference"
        provider:
          type: string
          description: The name of the relevant provider relevant to the source of
            the original transaction data
        date:
          type: string
          description: |
            The date of the transaction in the format [RFC 3339](https://www.rfc-editor.org/rfc/rfc3339).

            Examples:
              - `2023-03-17T17:29:51Z`
              - `2023-03-17T17:29:51-08:00`
        amount:
          $ref: '#/components/schemas/LegacyBudAmount'
        credit_debit_indicator:
          type: string
          description: Indication as to whether the transaction was a credit or debit
          enum:
          - Credit
          - Debit
      description: Basic transaction schema
    FuturePaymentsConfirmed:
      title: Regular Payment Object
      required:
      - future_dates
      - label
      - period
      - score
      type: object
      properties:
        label:
          type: string
          description: "A recurring transaction group identifier label associating\
            \ regular transactions e.g. all Spotify transactions that are regular\
            \ by the same monthly period will share the same label.   The format of\
            \ the label includes a hash of the transaction description and the amount,\
            \ followed by an integer corresponding to the number of regular groups\
            \ found, i.e. <hash>-<i>."
        period:
          type: string
          description: To describe the period between each transaction in a regular
            group.
          enum:
          - daily
          - weekly
          - biweekly
          - monthly
          - quarterly
          - unknown
        score:
          type: string
          description: "A floating point number between 0 and 1, to define the confidence\
            \ level that the transaction is regular or not."
        future_dates:
          type: array
          description: The datetime (ISO 8601) that the regular transaction is likely
            to occur in the future
          items:
            type: string
      description: Details surrounding the regularity of the transaction
    FutureTransactionV2Response:
      allOf:
      - required:
        - data
        - metadata
        - operation_id
        type: object
        properties:
          operation_id:
            $ref: '#/components/schemas/OperationId'
          data:
            type: array
            items:
              $ref: '#/components/schemas/FutureTransactionV2'
          metadata:
            $ref: '#/components/schemas/FutureTransactionV2Response_metadata'
    FutureTransactionV2:
      allOf:
      - required:
        - account_id
        - amount
        - confidence
        - credit_debit_indicator
        - date_time
        - future_transactions
        - label
        - period
        - transaction_description
        - transaction_id
        type: object
        properties:
          transaction_id:
            type: string
            description: Unique identifier for the transaction.
          account_id:
            type: string
            description: Unique identifier for the account.
          transaction_description:
            type: string
            description: "Further details of the transaction. This is the transaction\
              \ narrative, which is unstructured text."
          date_time:
            type: string
            description: The date of the transaction. In the following format RFC-3339
              'Year-Month-Day Hour:Minute:Second'. E.g '2019-07-01T01:00:00'
          amount:
            $ref: '#/components/schemas/BudAmount'
          credit_debit_indicator:
            type: string
            description: Indication as to whether the transaction was a credit or
              debit. If credit then debtor is required. If debit then creditor required.
            enum:
            - credit
            - debit
          label:
            type: string
            description: Unique identifier for the regular transaction group
          period:
            type: string
            description: To describe the frequency of each transaction
            enum:
            - daily
            - weekly
            - biweekly
            - monthly
            - quarterly
            - six_monthly
            - annually
            - unknown
          confidence:
            type: string
            description: Probability score
          future_transactions:
            type: array
            items:
              $ref: '#/components/schemas/FutureTransactionV2_future_transactions'
        description: Expected transaction structure
    SalaryResponse:
      title: Salary Response
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          description: An array of possible Salary transactions
          items:
            $ref: '#/components/schemas/SalaryTransaction'
        metadata:
          $ref: '#/components/schemas/SalaryMetadata'
      description: Salary Response Schema
    SalaryTransaction:
      title: Salary Transaction
      description: Information surrounding a possible Salary transaction
      allOf:
      - $ref: '#/components/schemas/BasicTransaction'
      - required:
        - confidence
        - period
        type: object
        properties:
          confidence:
            type: string
            description: The level of certainty (between 0 and 1) associated with
              prediction
          period:
            type: string
            description: To describe the frequency of each salary transaction
            enum:
            - weekly
            - biweekly
            - monthly
            - quarterly
            - unknown
    SalaryMetadata:
      title: Salary Metadata
      type: object
      properties:
        results:
          type: number
          description: Number of transactions returned
      description: Salary Metadata Response
    IncomeResponseV1:
      title: Income Finder Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          description: Array of Income related transactions
          items:
            $ref: '#/components/schemas/IncomeTransactionV1'
        metadata:
          $ref: '#/components/schemas/TransactionsResultsMetadata'
    IncomeTransactionV1:
      title: Income Finder Transaction
      required:
      - account_id
      - amount
      - credit_debit_indicator
      - date
      - description
      - enrichment
      - transaction_id
      type: object
      properties:
        account_id:
          type: string
          description: Unique identifier for the account
        transaction_id:
          type: string
          description: Unique identifier for the transaction
        description:
          type: string
          description: "Further details of the transaction. This is the transaction\
            \ narrative, which is unstructured text"
        date:
          type: string
          description: The date of the transaction. In the following format 'Year-Month-Day
            Hour:Minute:Second'. E.g '2019-07-01T01:00:00+0100'
        amount:
          $ref: '#/components/schemas/LegacyBudAmount'
        credit_debit_indicator:
          type: string
          description: Indication as to whether the transaction was a credit or debit
          enum:
          - Credit
          - Debit
        enrichment:
          $ref: '#/components/schemas/IncomeTransactionEnrichmentsV1'
      description: Transaction structure for income related transactions
    IncomeTransactionEnrichmentsV1:
      title: Income Transaction Enrichments
      required:
      - categoriser
      - income
      - merchant
      type: object
      properties:
        categoriser:
          $ref: '#/components/schemas/IncomeTransactionEnrichmentsV1_categoriser'
        merchant:
          $ref: '#/components/schemas/MerchantID'
        income:
          $ref: '#/components/schemas/IncomeEnrichment'
      description: |
        Results from required enrichment services for successful marking of income transactions
    CategoriserCategory:
      title: Categoriser Category
      required:
      - confidence
      - label
      - name
      type: object
      properties:
        name:
          type: string
          description: Internal name (identifier) of the category
        confidence:
          type: string
          description: The level of certainty that the model has predicted the category
        label:
          type: string
          description: Humanised category name
      description: "The details in relation to a specific category level, as taken\
        \ from the output of Bud's categorsiation service."
    IncomeEnrichment:
      title: Income Enrichment
      required:
      - confidence
      - label
      type: object
      properties:
        label:
          type: string
          description: "The type of identified income type, either `salary_or_wages`\
            \ or `other_income`"
        confidence:
          type: string
          description: The level of certainty that the model has predicted an income
            related transaction.
      description: Results from Bud's Income Finder Service
    IncomeResponseV2:
      title: Income Finder Response V2
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/Income_Finder_Response_Data'
        metadata:
          $ref: '#/components/schemas/TransactionsResultsMetadata'
    IncomeTransactionV2:
      allOf:
      - $ref: '#/components/schemas/BasicTransactionV2'
      - title: Income Transaction
        required:
        - enrichment
        properties:
          enrichment:
            $ref: '#/components/schemas/IncomeEnrichmentsV2'
    BasicTransactionV2:
      title: Basic Transaction Schema
      required:
      - account_id
      - amount
      - credit_debit_indicator
      - date
      - provider
      - transaction_description
      - transaction_id
      type: object
      properties:
        transaction_id:
          type: string
          description: A unique identifier for the transaction
        account_id:
          type: string
          description: A unique identifier for the Customer bank account
        transaction_description:
          type: string
          description: "A description of the transaction, similar to the transaction\
            \ information in Open Banking. e.g. a bank transfer reference\""
        provider:
          type: string
          description: The name of the relevant provider relevant to the source of
            the original transaction data
        date:
          type: string
          description: |
            The date of the transaction in the format [RFC 3339](https://www.rfc-editor.org/rfc/rfc3339).

            Examples:
              - `2023-03-17T17:29:51Z`
              - `2023-03-17T17:29:51-08:00`
        amount:
          $ref: '#/components/schemas/BudAmount'
        credit_debit_indicator:
          type: string
          description: Indication as to whether the transaction was a credit or debit
          enum:
          - Credit
          - Debit
      description: Basic transaction schema
    IncomeEnrichmentsV2:
      title: Income Transaction Enrichments
      type: object
      properties:
        categories:
          $ref: '#/components/schemas/Categoriser_Enrichment'
        merchant:
          allOf:
          - type: object
            nullable: true
          - $ref: '#/components/schemas/MerchantIdV2'
        processor:
          allOf:
          - type: object
            nullable: true
          - $ref: '#/components/schemas/ProcessorIdV2'
        income:
          allOf:
          - type: object
            nullable: true
          - $ref: '#/components/schemas/IncomeEnrichmentV2'
      description: Results from required enrichment services for successful marking
        of income transactions
    MerchantIdV2:
      title: Merchant ID Object
      required:
      - confidence
      - id
      - logo
      - name
      type: object
      properties:
        id:
          type: string
          description: A unique ID for the identified merchant
        name:
          type: string
          description: The clean name of the identified merchant
        logo:
          type: string
          description: The merchant's logo image URL location
        confidence:
          type: string
          description: The level of certainty that the model has predicted the merchant
      description: Details surrounding the identified merchant of the transaction
    ProcessorIdV2:
      title: Processor ID Object
      required:
      - confidence
      - id
      - logo
      - name
      type: object
      properties:
        id:
          type: string
          description: A unique ID for the identified processor
        name:
          type: string
          description: The clean name of the identified processor
        logo:
          type: string
          description: The processor's logo image URL location
        confidence:
          type: string
          description: The level of certainty that the model has predicted the processor
      description: Details surrounding the identified processor of the transaction
    IncomeEnrichmentV2:
      title: Income Enrichment
      required:
      - confidence
      - type
      type: object
      properties:
        type:
          type: string
          description: "The type of identified income type, either `salary_or_wages`\
            \ or `other_incoming`"
        confidence:
          type: string
          description: The level of certainty that the model has predicted an income
            related transaction.
      description: Results from Bud's Income Finder Service
    IncomeStatistics:
      title: Income statistics
      required:
      - average
      type: object
      properties:
        average:
          $ref: '#/components/schemas/IncomeAverage'
    IncomeAverage:
      title: Average income statistics
      required:
      - monthly
      type: object
      properties:
        monthly:
          allOf:
          - description: average income per month
          - $ref: '#/components/schemas/IncomeAverageOverPeriod'
      description: "Averages of income amounts. These averages are calculated using\
        \ the filters supplied in the `X-From` & `X-To` headers. \nFor instance, with\
        \ 6 months of £1000/month and a date range of 6 months, the monthly average\
        \ will be £1000. \nHowever, if the supplied date range is 12 months and there\
        \ is no data for more than those 6 months, the average will be £500/month.\
        \ \n\nNote that the number of months are calculated inclusively e.g. `months(2022-01-01,\
        \ 2022-02-28) = 2` and `months(2022-01-01, 2022-03-01) = 3`."
    IncomeAverageOverPeriod:
      title: Average income statistics over time period
      required:
      - income
      - regular_income
      type: object
      properties:
        income:
          allOf:
          - description: average of all income transactions
          - $ref: '#/components/schemas/BudAmount'
        regular_income:
          allOf:
          - description: average income transactions that we have also detected as
              regular
          - $ref: '#/components/schemas/BudAmount'
    BenefitsResponseV1:
      title: Benefits Finder Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          description: Array of Benefits related transactions
          items:
            $ref: '#/components/schemas/BenefitsTransactionV1'
        metadata:
          $ref: '#/components/schemas/TransactionsResultsMetadata'
    BenefitsTransactionV1:
      title: Benefit Transactions
      allOf:
      - $ref: '#/components/schemas/BasicTransaction'
      - required:
        - benefit
        type: object
        properties:
          benefit:
            $ref: '#/components/schemas/Benefit'
    LoansResponseV1:
      title: Loans Finder Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/Loan_Finder_Response_Data'
        metadata:
          $ref: '#/components/schemas/TransactionsResultsMetadata'
    LoanTransactionV1:
      title: Loan Transaction
      allOf:
      - $ref: '#/components/schemas/BasicTransactionV2'
      - type: object
        properties:
          merchant:
            allOf:
            - type: object
              nullable: true
            - $ref: '#/components/schemas/MerchantIdV2'
    LoanStatistics:
      title: Loan Statistics
      required:
      - total_debit
      type: object
      properties:
        total_debit:
          allOf:
          - description: Total debit amount of all loan transactions
          - $ref: '#/components/schemas/BudAmount'
    DebtCollectionResponseV1:
      title: Debt Collection Finder Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/Debt_Collection_Finder_Response_Data'
        metadata:
          $ref: '#/components/schemas/TransactionsResultsMetadata'
    DebtCollectionTransaction:
      allOf:
      - $ref: '#/components/schemas/BasicTransactionV2'
      - title: Debt Collection Transaction
        required:
        - merchant
        type: object
        properties:
          merchant:
            $ref: '#/components/schemas/MerchantIdV2'
    DebtCollectionStatistics:
      title: Debt Collection Statistics
      required:
      - income_relations
      - total_debit
      type: object
      properties:
        total_debit:
          allOf:
          - description: Total debit amount of all debt collection transactions
          - $ref: '#/components/schemas/BudAmount'
        income_relations:
          $ref: '#/components/schemas/IncomeRelationStatistics'
    IncomeRelationStatistics:
      title: Income Relations
      required:
      - expense_to_income_ratio
      - total_income
      type: object
      properties:
        expense_to_income_ratio:
          type: string
          description: "The ratio of total debit amounts of the returned transactions\
            \ to the total income over the same period, to 3 decimal places."
        total_income:
          allOf:
          - description: Total income over the provided period
          - $ref: '#/components/schemas/BudAmount'
      description: Comparisons of the returned transactions to the income found over
        the same period
    GetProductsResponseV1:
      title: Predicted Products Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          type: string
          enum:
          - v1_products_get
        data:
          title: Product Finder Response Data
          type: array
          items:
            $ref: '#/components/schemas/FinancialProductTransaction'
        metadata:
          title: Metadata
          allOf:
          - $ref: '#/components/schemas/BudDateRangeMetadata'
          - required:
            - results
            type: object
            properties:
              results:
                title: Results count
                type: number
                description: Number of products returned.
      description: Transactions predicted as financial product payments for a customer
    FinancialProductTransaction:
      allOf:
      - $ref: '#/components/schemas/BasicTransactionV2'
      - title: Financial Product Transaction
        required:
        - merchant
        - product
        type: object
        properties:
          merchant:
            $ref: '#/components/schemas/MerchantIdV2'
          product:
            $ref: '#/components/schemas/FinancialProduct'
    FinancialProduct:
      title: Financial Product Prediction
      type: object
      properties:
        type:
          type: array
          description: The top predictions for the type of financial product
          items:
            title: Financial Product Type
            type: string
            description: The type of financial product
            enum:
            - loan
            - bnpl
            - mortgage
            - insurance
            - store_card
            - credit_card
            - private_pension
            - savings_and_investment
        period:
          title: Period
          type: string
          description: "The regularity of the product, based on transaction history.\
            \ If a product is not regular, it will have a period of `unknown`."
          enum:
          - weekly
          - biweekly
          - monthly
          - quarterly
          - unknown
      description: Details of the predicted financial product
    GetProductsResponseV2:
      title: Retrieve Financial Products V2 Response Strucutre
      required:
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          items:
            $ref: '#/components/schemas/Financial_Product'
        metadata:
          title: Metadata
          allOf:
          - $ref: '#/components/schemas/BudDateRangeMetadata'
          - required:
            - results
            type: object
            properties:
              results:
                title: Results count
                type: number
                description: Number of products returned.
    GetSubscriptionsResponseV1:
      title: Subscription Products Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          type: string
          enum:
          - v1_subscriptions_get
        data:
          title: Subscriptions Finder Response Data
          type: array
          items:
            $ref: '#/components/schemas/Subscription'
        metadata:
          $ref: '#/components/schemas/TransactionsResultsMetadata'
      description: Subscription products and associated transactions for a customer
    Subscription:
      required:
      - categories
      - period
      - subscription_type
      - transactions
      type: object
      properties:
        subscription_type:
          type: string
          description: |
            Type of subscription identified. Potential values are subject to change and may be converted to enums at a future unspecified date.

            | Subscription type           | Description |
            | --------------------------- | ----------- |
            | `unknown`                   | Unknown subscription type |
            | `media_streaming`           | Digital media streaming subscriptions |
            | `newspapers_and_magazines`  | Print media subscriptions |
            | `food_and_drink`            | Grocery and specialty food/drink subscriptions |
            | `technology`                | Technology subscriptions, including software and hardware |
            | `fitness_and_gym`           | Health and fitness subscriptions |
            | `charitable_donations`      | Recurring donations to charity |
        period:
          type: string
          description: "To describe the period between each transaction within a subscription.\
            \ Potential values could be (but are not limited to) `monthly`, `quarterly`\
            \ and `unknown`, and may be converted to enums at a future unspecified\
            \ date."
        categories:
          $ref: '#/components/schemas/Subscription_categories'
        merchant:
          $ref: '#/components/schemas/Subscription_merchant'
        transactions:
          type: array
          items:
            $ref: '#/components/schemas/BasicTransactionV2'
    EnergyPaymentSearch:
      title: Energy Payments Start Search
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/IngestTransactionsResponse_data'
    EnergyPaymentSearchResponse:
      title: Energy Payments Search Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          items:
            allOf:
            - $ref: '#/components/schemas/EnergyPayment'
        metadata:
          $ref: '#/components/schemas/Metadata'
      description: Representation of a customer energy payment
    EnergyPayment:
      required:
      - amount
      - payment_type
      - provider
      - supplier
      - transaction_id
      type: object
      properties:
        transaction_id:
          type: string
          description: Transaction ID for the payment (found in `GET /v1/transactions`)
        supplier:
          $ref: '#/components/schemas/Supplier'
        payment_type:
          $ref: '#/components/schemas/PayType'
        amount:
          $ref: '#/components/schemas/LegacyBudAmount'
        provider:
          type: string
          description: Bank or provider name
    Supplier:
      title: Energy Supplier
      required:
      - id
      - logo
      - name
      type: object
      properties:
        id:
          type: string
          description: ID of the given supplier
        name:
          type: string
          description: Name of the given supplier
        logo:
          type: string
          description: URL to logo of given supplier
      description: Expected supplier structure
    PayType:
      type: integer
      description: |
        | Value | Description                                                        |
        |:------|:-------------------------------------------------------------------|
        | 1     | Monthly Fixed Direct Debit                                         |
        | 2     | Quarterly Variable Direct Debit                                    |
        | 3     | Standing Order                                                     |
        | 4     | Quarterly Cash/Cheque                                              |
        | 5     | Prepayment Meter                                                   |
        | 6     | Advance Payment                                                    |
        | 7     | Monthly Card                                                       |
        | 8     | Monthly Debit/Credit Card                                          |
        | 9     | Monthly Variable Direct Debit                                      |
        | 10    | Quarterly Equal Payments                                           |
        | 11    | Monthly Cash/Cheque                                                |
        | 12    | Regular Cash Payments                                              |
        | 13    | Quarterly Debit Card                                               |
        | 14    | Annual Advance Direct Debit Payment followed by MFDD (1) in year 2 |
        | 15    | Pay as You Go (PAYG)                                               |
      enum:
      - 1
      - 2
      - 3
      - 4
      - 5
      - 6
      - 7
      - 8
      - 9
      - 10
      - 11
      - 12
      - 13
      - 14
      - 15
    TaskStatus:
      title: The Task Status
      type: string
      description: The general status of a task
      enum:
      - pending
      - complete
      - failed
    AffordabilitySpendRequestSchema:
      title: Affordability Spending Groups Request Schema
      type: array
      description: The requested structure of the spend groups and their underlying
        categories.
      items:
        $ref: '#/components/schemas/AffordabilitySpendRequestSchema_inner'
    AffordabilitySpendingGroupsResponse:
      title: Affordability Spending Groups Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/AffordabilitySpendingGroupsResponseData'
        metadata:
          $ref: '#/components/schemas/AffordabilitySpendMetaData'
      description: Expected response structure
    AffordabilitySpendingGroupsResponseData:
      title: Affordability Spending Groups Response Data
      type: object
      properties:
        totals:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/AffordabilitySpendingBreakdown'
          description: Each spending group will have their overall breakdown here
            (property names correspond to the group `name` given in the request).
        categories:
          type: object
          additionalProperties:
            type: object
            additionalProperties:
              $ref: '#/components/schemas/AffordabilitySpendingBreakdown'
            description: Each category within the spend group is broken down here
              (property names correspond to the `transaction_categories` specified
              in the group).
          description: Each spending group will have their breakdown by category here
            (property names correspond to the group `name` given in the request).
    AffordabilitySpendingBreakdown:
      title: Affordability Spending Groups Response Detail
      required:
      - average
      - income_percentage
      - maximum
      - minimum
      - total
      - transaction_count
      properties:
        total:
          allOf:
          - description: The total amount in this spending group during the period.
          - $ref: '#/components/schemas/SignedAmounts'
        average:
          allOf:
          - description: The mean amount in this spending group given the months searched.
          - $ref: '#/components/schemas/SignedAmounts'
        minimum:
          allOf:
          - description: The minimum amount in this spending group within the months
              searched.
          - $ref: '#/components/schemas/SignedAmounts'
        maximum:
          allOf:
          - description: The maximum amount in this spending group within the months
              searched.
          - $ref: '#/components/schemas/SignedAmounts'
        transaction_count:
          type: integer
          description: Total number of transactions returned in the spending group
        income_percentage:
          type: string
          description: Percentage of the spending group in relation to income in this
            period.
    SignedAmounts:
      title: Income Or Outgoing Value
      required:
      - incoming
      - outgoing
      properties:
        incoming:
          $ref: '#/components/schemas/BudAmount'
        outgoing:
          $ref: '#/components/schemas/BudAmount'
    AffordabilitySpendMetaData:
      title: Affordability Spending Groups Meta Data
      required:
      - to
      type: object
      properties:
        schema:
          $ref: '#/components/schemas/AffordabilitySpendRequestSchema'
        from:
          type: string
          description: Date (`YYYY-MM-DD`) from which the transactions should be returned
            from
        to:
          type: string
          description: Date (`YYYY-MM-DD`) from which the transactions should be returned
            to
      description: Metadata Response
    AffordabilityReportResponse:
      title: Retrieve Affordability Report Schema
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          type: string
          enum:
          - v1_affordability_report
        data:
          $ref: '#/components/schemas/AffordabilityReport'
      description: Expected response structure
    AffordabilityReport:
      title: Retrieve Affordability Report Response
      required:
      - accounts
      - assessment
      - months_assessed
      type: object
      properties:
        months_assessed:
          $ref: '#/components/schemas/AffordabilityReport_months_assessed'
        accounts:
          $ref: '#/components/schemas/AffordabilityReport_accounts'
        assessment:
          $ref: '#/components/schemas/AffordabilityReport_assessment'
      description: Retrieve Affordability Report Response Data
    MonthlyPrediction:
      title: Monthly Prediction
      required:
      - _links
      - predicted_monthly
      type: object
      properties:
        predicted_monthly:
          $ref: '#/components/schemas/BudAmount'
        _links:
          $ref: '#/components/schemas/TransactionsLinks'
      description: Monthly Prediction Amount
    TransactionsLinks:
      title: Affordability Transaction Links
      required:
      - transactions
      type: object
      properties:
        transactions:
          type: string
          format: uri
      description: Transaction Links
    MonthlyIncomeExpenditurePrediction:
      title: Monthly Income & Expenditure Predictions
      required:
      - _links
      - predicted_monthly
      type: object
      properties:
        predicted_monthly:
          $ref: '#/components/schemas/BudAmount'
        _links:
          $ref: '#/components/schemas/IncomeAndExpenditureTransactionsLinks'
      description: Monthly Income & Expenditure Predictions
    IncomeAndExpenditureTransactionsLinks:
      title: Income & Expenditure Transactions Links
      required:
      - expenditure_transactions
      - income_transactions
      type: object
      properties:
        income_transactions:
          type: string
          format: uri
        expenditure_transactions:
          type: string
          format: uri
      description: Income & Expenditure Transactions Links
    MonthlyRangePrediction:
      title: Monthly Range Prediction
      required:
      - _links
      - predicted_monthly_range
      type: object
      properties:
        predicted_monthly_range:
          $ref: '#/components/schemas/MonthlyRangePrediction_predicted_monthly_range'
        _links:
          $ref: '#/components/schemas/TransactionsLinks'
      description: Monthly Range
    DateTimeISO8601:
      title: Date/Time (ISO 8601)
      type: string
      description: ISO Date Format
      example: 2022-03-05T13:34:33Z
    AffordabilityCriteria:
      title: Affordability Criteria
      type: string
      description: Affordability Criteria
      enum:
      - net_disposable_income
      - fixed_expenditure
      - flexible_expenditure
      - essential_expenditure
      - non_essential_expenditure
    SpendingGroupsTransactionsResponse:
      title: Spending Groups Transactions Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          type: string
          enum:
          - v1_affordability_transactions_get
        data:
          type: array
          items:
            $ref: '#/components/schemas/SpendingGroupTransaction'
      description: Expected response structure
    SpendingGroupTransaction:
      title: Spending Groups Transaction Response Data
      required:
      - account_id
      - amount
      - categories
      - indicator
      - transaction_id
      type: object
      properties:
        transaction_id:
          type: string
          description: Unique identifier for the transaction within an servicing institution.
            This identifier is both unique and immutable.
        account_id:
          type: string
          description: A unique and immutable identifier used to identify the account
            resource. This identifier has no meaning to the account owner
        description:
          type: string
          description: Further details of the transaction.
        date:
          type: string
          description: Date and time when a transaction entry is posted to an account
            on the account servicer's books. ISODateTime.
          format: date
        indicator:
          type: string
          enum:
          - Credit
          - Debit
        amount:
          $ref: '#/components/schemas/LegacyBudAmount'
        categories:
          $ref: '#/components/schemas/SpendingGroupCategories'
        criteria_satisfied:
          type: array
          items:
            $ref: '#/components/schemas/AffordabilityCriteria'
      description: Expected response structure
    SpendingGroupCategories:
      title: Spending Group Categories
      required:
      - l1
      - l2
      type: object
      properties:
        l1:
          type: string
          description: The name of the category returned by the model.
        l2:
          type: string
          description: The name of the sub category returned by the model.
      description: Spending Group Categories
    CheckCompanyRequest:
      type: object
      properties:
        company:
          $ref: '#/components/schemas/CheckCompanyRequest_company'
        contacts:
          type: array
          items:
            $ref: '#/components/schemas/Person'
        custom_data:
          $ref: '#/components/schemas/CustomData'
        header:
          $ref: '#/components/schemas/KYCHeader'
      description: Expected request body.
    KYCAddress:
      type: object
      properties:
        country:
          type: string
          description: "2-character ISO country code of this address. Required for\
            \ some profiles. For example: GB is the country code for United Kingdom"
        county:
          type: string
          description: Address county
        line_five:
          type: string
          description: Address line 5
          nullable: true
        line_four:
          type: string
          description: Address line 4
          nullable: true
        line_six:
          type: string
          description: Address line 6
          nullable: true
        line_three:
          type: string
          description: Address line 3
          nullable: true
        name_number:
          type: string
          description: Flat/building name (or) number
        postcode:
          type: string
          description: Address postcode (or) ZIP
        state:
          type: string
          description: Address state
        street:
          type: string
          description: Address street
        town:
          type: string
          description: Address town
      description: Address.
    Person:
      type: object
      properties:
        bank_account:
          $ref: '#/components/schemas/Person_bank_account'
        current_address:
          $ref: '#/components/schemas/KYCAddress'
        date_of_birth:
          type: string
          format: yyyy-mm-dd
        email_address:
          type: array
          items:
            type: string
        first_name:
          type: string
        gender:
          type: string
          enum:
          - male
          - female
        identification_details:
          type: array
          items:
            $ref: '#/components/schemas/Person_identification_details'
        last_name:
          type: string
        middle_name:
          type: string
        mpan:
          type: string
        phone:
          type: array
          items:
            $ref: '#/components/schemas/CheckCompanyRequest_company_phone'
        previous_address:
          type: array
          items:
            $ref: '#/components/schemas/KYCAddress'
        title:
          type: string
          enum:
          - mr
          - mrs
      description: Person.
    CustomData:
      type: array
      description: A key value pairs array of custom data.
      items:
        $ref: '#/components/schemas/CustomData_inner'
    KYCHeader:
      type: object
      properties:
        profile_uuid:
          type: string
          description: ProfileUuid of the profile that will be used to perform the
            check.
        transaction_reference:
          type: string
          description: Transaction reference that the user can provide for the check.
            This is mandatory on Sandbox environment.
      description: Meta data used to identify you request reference.
    CheckResponseCheckId:
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          type: string
        data:
          $ref: '#/components/schemas/CheckResponseCheckId_data'
      description: Expected response structure for company check initiation.
    BadKycRequestResponse:
      required:
      - error
      - operation_id
      type: object
      properties:
        operation_id:
          type: string
        error:
          $ref: '#/components/schemas/BadKycRequestResponse_error'
      description: Expected response structure.
    CheckPersonRequest:
      type: object
      properties:
        person:
          $ref: '#/components/schemas/Person'
        custom_data:
          $ref: '#/components/schemas/CustomData'
        header:
          $ref: '#/components/schemas/KYCHeader'
    CheckStatusResponse:
      type: object
      properties:
        alerts:
          type: array
          description: List of alerts for the check.
          items:
            $ref: '#/components/schemas/CheckStatusResponse_alerts'
        category:
          type: string
          description: "Category of the check. Valid values are: person, company."
          enum:
          - person
          - company
        center_location:
          type: string
          description: Center location for the check if it was supplied in the initial
            request.
        client_name:
          type: string
          description: Client name used in the check.
        company_name:
          type: string
          description: Company name used in the check.
        date:
          type: string
          description: Date when the check was submitted in yyyy-MM-dd HH:mm:ss format.
          format: yyyy-MM-dd HH:mm:ss
        document_count:
          type: integer
          description: Number of documents included in the check.
        error_messages:
          type: array
          description: Error messages if the check was not executed as expected.
          items:
            type: string
        org_uid:
          type: string
          description: Organisation uuid for the check.
        profile:
          $ref: '#/components/schemas/CheckStatusResponse_profile'
        rag:
          type: string
          description: "RAG for the check , if the check is incomplete a RAG of 'waiting'\
            \ will be returned. Valid values are: red, amber, green, waiting."
          enum:
          - red
          - amber
          - green
          - waiting
        score:
          type: integer
          description: Total score generated for the check.
        status:
          type: string
          description: "Status of the check. Valid values are: live: for active checks,\
            \ archived: for archived checks."
          enum:
          - live
          - archived
        suspicious:
          type: boolean
          description: Check marked as suspicious.
        transaction_reference:
          type: string
          description: Reference used by the customer for the check.
        user:
          type: string
          description: Username of the user who performed the check.
        uuid:
          type: string
          description: Unique CheckUuid of the check.
    PaymentServices:
      title: Payment Services
      minLength: 1
      type: string
      description: A payment service supported by a payment provider
      enum:
      - domestic-single-payment
      - domestic-standing-order
      - domestic-scheduled-payment
    PaymentProvidersResponse:
      title: Payment Providers Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          title: Retrieve Providers
          type: array
          description: A list of the supported payment providers
          items:
            $ref: '#/components/schemas/PaymentProvider'
    PaymentProvider:
      title: Payment Provider
      required:
      - country_code
      - display_name
      - icon
      - implementation_type
      - maintenance_status
      - maintenance_window
      - provider
      - required_actions
      - services
      - supported_currencies
      type: object
      properties:
        provider:
          type: string
          description: The name (identifier) of the payment provider
        display_name:
          type: string
          description: The name of the payment provider to be used for display purposes
            (e.g. within a frontend application)
        icon:
          type: string
          description: A URL for the icon of the corresponding provider
        services:
          type: array
          items:
            $ref: '#/components/schemas/PaymentServices'
        maintenance_status:
          type: string
          description: The status of the maintenance window associated with the provider
          enum:
          - active
          - inactive
        maintenance_window:
          $ref: '#/components/schemas/MaintenanceWindowObject'
        country_code:
          type: string
          description: Provider country code following the ISO 3166 alpha-3 code format
        implementation_type:
          type: string
          description: The implementation standard adopted by the provider
          enum:
          - OpenbankingUK
          - BerlinGroup
          - CBIGlobe
        supported_currencies:
          type: array
          items:
            $ref: '#/components/schemas/PaymentSupportedCurrencies'
        required_actions:
          type: array
          description: |
            An array of enum fields to indicate if any additional actions are required in order to complete a given payment flow for the given provider.

            | Value  |  Description |
            |:-------|:-------------|
            | confirm_single_payment | If present, this value indicates that clients must complete an additional step in the single payments flow whereby they must confirm the payment once the customer has successfully authorised the payment with the provider. This confirmation can be accomplished using the Confirm Single Payment API Endpoint. Please note this step is only relevant for clients using Bud as a Technical Service Provider (TSP) |
            | confirm_standing_order | If present, this value indicates that clients must complete an additional step in the standing order payments flow whereby they must confirm the payment once the customer has successfully authorised the standing order with the provider. This confirmation can be accomplished using the Confirm Standing Order API Endpoint. Please note this step is only relevant for clients using Bud as a Technical Service Provider (TSP) |
            | confirm_scheduled_payment | If present, this value indicates that clients must complete an additional step in the scheduled payments flow whereby they must confirm the payment once the customer has successfully authorised the scheduled order with the provider. This confirmation can be accomplished using the Confirm Scheduled Payment API Endpoint. Please note this step is only relevant for clients using Bud as a Technical Service Provider (TSP) |
          items:
            type: string
            enum:
            - confirm_single_payment
            - confirm_standing_order
            - confirm_scheduled_payment
      description: Information surrounding a supported payment provider
    PaymentSupportedCurrencies:
      title: Payment provider supported currencies
      minLength: 1
      type: string
      description: The currencies supported by the payment provider
      enum:
      - GBP
      - EUR
    PaymentsSingleBudPayURLRequest:
      title: Payments Single Bud Pay URL Payload
      required:
      - payment_details
      - provider
      - redirect_url
      type: object
      properties:
        redirect_url:
          maxLength: 2083
          type: string
          description: URL where the user will be redirected to once they have completed
            the TPP Connection flow. This can be a web based URL or a mobile application
            internal URL.
          nullable: false
        provider:
          type: array
          description: The name (identifier) of the payment provider
          items:
            type: string
        provider_types:
          $ref: '#/components/schemas/ProviderTypes'
        payment_details:
          $ref: '#/components/schemas/SinglePaymentDetails'
    SinglePaymentDetails:
      title: Single Payment Details
      required:
      - amount
      - recipient
      - reference
      - sender
      type: object
      properties:
        reference:
          type: string
          description: The payment reference
        recipient:
          $ref: '#/components/schemas/PaymentRecipient'
        sender:
          $ref: '#/components/schemas/PaymentSender'
        amount:
          $ref: '#/components/schemas/BudAmount'
      description: Payment details required to make a Single Payment
    PaymentRecipient:
      title: Payment Recipient
      required:
      - account_number
      - name
      - type
      type: object
      properties:
        type:
          $ref: '#/components/schemas/PaymentAccountType'
        name:
          maxLength: 70
          minLength: 1
          type: string
          description: Account holder name of the recipient
        account_number:
          maxLength: 32
          minLength: 14
          type: string
          description: Account identifier of the recipient
      description: Details of the recipient of the payment
    PaymentAccountType:
      title: Account Type
      type: string
      description: The account type structure for the payment sender or receiver
      enum:
      - SortCodeAccountNumber
      - IBAN
    PaymentSender:
      title: Payment Sender
      required:
      - name
      - user_id
      type: object
      properties:
        user_id:
          maxLength: 120
          minLength: 1
          type: string
          description: A string that can be used to uniquely identify a user within
            the Client's application
        type:
          $ref: '#/components/schemas/PaymentAccountType'
        name:
          maxLength: 70
          minLength: 1
          type: string
          description: Account holder name of the sender
        account_number:
          maxLength: 32
          minLength: 14
          type: string
          description: Account identifier of the sender
        provider:
          type: string
          description: The name (identifier) of the payment provider
      description: Details of the payment sender
    BudPayResponse:
      title: Bud Pay URL Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/Bud_Pay_URL'
      description: Bud Pay Response Object
    PaymentStatusUpdatedNotificationBody:
      title: Payment Status Update Notification Body
      required:
      - data
      type: object
      properties:
        data:
          $ref: '#/components/schemas/PaymentStatusUpdatedNotificationBody_data'
    PaymentsStandingOrderBudPayURLRequest:
      title: Payments Standing Order Bud Pay URL Payload
      required:
      - provider
      - redirect_url
      - standing_order_details
      type: object
      properties:
        redirect_url:
          type: string
          description: URL where the user will be redirected to once they have completed
            the TPP Connection flow. This can be a web based URL or a mobile application
            internal URL.
        provider:
          type: string
          description: The name (identifier) of the payment provider
        provider_types:
          $ref: '#/components/schemas/ProviderTypes'
        standing_order_details:
          $ref: '#/components/schemas/StandingOrderDetails'
    StandingOrderDetails:
      title: Standing Order Details
      required:
      - first_payment_date
      - frequency
      - recipient
      - recurring_amount
      - reference
      - sender
      type: object
      properties:
        reference:
          maxLength: 18
          type: string
          description: Reference to use for payments made through this Standing Order
        recipient:
          $ref: '#/components/schemas/PaymentRecipient'
        sender:
          $ref: '#/components/schemas/PaymentSender'
        recurring_amount:
          $ref: '#/components/schemas/BudAmount'
        first_payment_date:
          type: string
          description: Date-time (ISO 8601) the first payment should be made. Must
            be future date.
          format: date-time
          example: 2020-06-01T15:00:00Z
        last_payment_date:
          type: string
          description: Date-time (ISO 8601) after which payments should stop. Must
            be after `first_payment_date`.
          format: date-time
          example: 2020-06-01T15:00:00Z
        frequency:
          $ref: '#/components/schemas/StandingOrderFrequencyEnum'
      additionalProperties: false
      description: Details of the standing order
    StandingOrderFrequencyEnum:
      title: Standing Order Frequency
      type: string
      description: The payment frequency for a Standing Order
      enum:
      - daily
      - weekly
      - fortnightly
      - monthly
      - quarterly
      - semiannually
      - yearly
    PaymentsScheduledPaymentBudPayURLRequest:
      title: Scheduled Payment Bud Pay URL Payload
      required:
      - provider
      - redirect_url
      - scheduled_payment_details
      type: object
      properties:
        redirect_url:
          type: string
          description: URL where the user will be redirected to once they have completed
            the TPP Connection flow. This can be a web based URL or a mobile application
            internal URL.
        provider:
          type: string
          description: The name (identifier) of the payment provider
        provider_types:
          $ref: '#/components/schemas/ProviderTypes'
        scheduled_payment_details:
          $ref: '#/components/schemas/ScheduledDetails'
    ScheduledDetails:
      title: Scheduled Payment Details
      required:
      - amount
      - recipient
      - reference
      - requested_execution_date
      - sender
      type: object
      properties:
        reference:
          maxLength: 18
          type: string
          description: Reference to use for the payment made through this scheduled
            instruction
        recipient:
          $ref: '#/components/schemas/PaymentRecipient'
        sender:
          $ref: '#/components/schemas/PaymentSender'
        amount:
          $ref: '#/components/schemas/BudAmount'
        requested_execution_date:
          type: string
          description: Date-time (ISO 8601) the payment should be made. Must be future
            date.
          format: date-time
          example: 2020-06-01T15:00:00Z
      additionalProperties: false
      description: Details of the scheduled payment
    ListSinglePaymentResponse:
      title: List Payment Status Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          description: Array of Single Payment Status Objects
          items:
            $ref: '#/components/schemas/SinglePaymentStatus'
        metadata:
          $ref: '#/components/schemas/ListSinglePaymentResponse_metadata'
    SinglePaymentStatus:
      title: Single Payment Status
      required:
      - amount
      - client_id
      - created_at
      - errors
      - known_charges
      - method
      - organisation_id
      - payment_id
      - recipient
      - reference
      - required_action
      - sender
      - state
      - supplementary_status
      type: object
      properties:
        payment_id:
          type: string
          description: Payment Identifier
        organisation_id:
          type: string
          description: Bud's Organisation Identifier
        client_id:
          type: string
          description: Bud's Client/App Identifier
        method:
          type: string
          description: The payment method
          enum:
          - BACS
          - FPS
          - SEPA
        reference:
          maxLength: 18
          type: string
          description: Reference to use for this payment
        recipient:
          $ref: '#/components/schemas/PaymentRecipient'
        amount:
          $ref: '#/components/schemas/BudAmount'
        sender:
          $ref: '#/components/schemas/PaymentSender'
        known_charges:
          $ref: '#/components/schemas/KnownCharges'
        state:
          $ref: '#/components/schemas/SinglePaymentStatus_state'
        supplementary_status:
          $ref: '#/components/schemas/SinglePaymentStatus_supplementary_status'
        errors:
          title: Payment Errors
          type: array
          description: A list of any errors that may be associated with the payment
          items:
            $ref: '#/components/schemas/Payment_Error'
        created_at:
          title: Created at timestamp
          type: string
          description: The created at timestamp for the payment
        required_action:
          type: array
          description: |
            This field will indicate that there is an action required to be taken by the client in order to complete the payment.

            | Value  |  Description |
            |:-------|:-------------|
            | confirm_single_payment | If present, this value indicates that client has yet to confirm the single payment once the customer has successfully authorised the payment with the provider. This confirmation can be accomplished using the Confirm Single Payment API Endpoint. Please note this step will only be relevant for clients using Bud as a Technical Service Provider (TSP) |
          nullable: true
          items:
            type: string
            enum:
            - confirm_single_payment
      description: Detailed information for a given payment and it's status
    KnownCharges:
      title: Known Charges
      required:
      - recipient_charge
      - sender_charge
      type: object
      properties:
        recipient_charge:
          $ref: '#/components/schemas/KnownCharges_recipient_charge'
        sender_charge:
          $ref: '#/components/schemas/KnownCharges_sender_charge'
      description: A list detailing information surrounding any known charges that
        may be associated with the payment
    StatusCodeEnum:
      type: string
      description: The payment status code
      enum:
      - CREATED
      - AWAITING_AUTH
      - AUTHENTICATED
      - AUTH_REJECTED
      - AUTH_COMPLETED
      - FUNDS_CONFIRMED
      - INSUFFICIENT_FUNDS
      - INITIATING
      - ACCEPTED
      - SETTLED
      - PAYMENT_REJECTED
      - FAILED
    StatusMessageEnum:
      type: string
      description: The payment status message
      enum:
      - Payment created
      - Awaiting Authentication
      - Authenticated; Confirming Funds
      - Funds Confirmed; Awaiting Payment Initiation
      - Insufficient Funds In Account; Payment Aborted
      - Initiating Payment
      - Payment Order Accepted
      - Payment Settlement Complete
      - Payment Settlement Rejected
      - Failed
    SupplementaryStatusDetail:
      required:
      - history
      - status
      type: object
      properties:
        status:
          type: string
          description: The status description as returned by the provide
        history:
          type: array
          description: A list of any historical changes in the state
          items:
            $ref: '#/components/schemas/SupplementaryStatusDetail_history'
      description: The payment supplementary as described by the provider
    SinglePaymentRequest:
      title: Single Payment Request Payload
      required:
      - payment_details
      - provider
      type: object
      properties:
        redirect_url:
          type: string
          description: This is the url that your Customer will be redirected to when
            using the Bud user interface. If you wish to use your own license and
            callback infrastructure this parameter will have no effect and the provider_redirect_url
            parameter should be used instead.
        provider_redirect_url:
          type: string
          description: This is the url that your Customer will be redirected to once
            they have authorised with the relevant provider. This should only be used
            when using your own license and wish to use the Submit Authorisation Codes
            endpoint. If you wish to use Bud's call back then the redirect_url must
            be provided.
        provider:
          type: string
          description: The name (identifier) of the payment provider
        payment_details:
          $ref: '#/components/schemas/SinglePaymentDetails'
      description: Expected request payload structure
    SinglePaymentResponse:
      title: Single Payment Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/SinglePaymentResponse_data'
    PaymentsAuthorisationCodesResponse:
      title: Authorisation Codes Response Payload
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/PaymentsAuthorisationCodesResponse_data'
    PaymentsErrorResponse:
      required:
      - code_id
      - errors
      - message
      - operation_id
      type: object
      properties:
        operation_id:
          type: string
          enum:
          - v1_payments_providers_get
          - v1_payments_single_get
          - v1_payments_single_post
          - v1_payments_single_payment_id_auth_token_post
          - v1_payments_single_payment_id_get
          - v1_payments_single_confirm_post
          - v1_payments_authorisation_codes_post
        code_id:
          type: string
          enum:
          - failed_validation
          - internal_error
          - not_found
          - provider_in_maintenance_mode
        message:
          type: string
          enum:
          - Failed validation
          - Internal server error has occurred
          - Resource not found
          - "[ProviderName] is currently in a maintenance mode, please try again later."
        errors:
          type: object
      description: Payments Error Response
    StatusSinglePaymentResponse:
      title: Payment Status Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/SinglePaymentStatus'
    ListStandingOrderResponse:
      title: List Standing Order Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          description: Array of Standing Order Payment Status Objects
          items:
            $ref: '#/components/schemas/StandingOrderData'
        metadata:
          $ref: '#/components/schemas/ListStandingOrderResponse_metadata'
      description: Response structure when retrieving a filtered list of Standing
        Order status'
    StandingOrderData:
      title: Standing Order Data
      required:
      - client_id
      - created_at
      - errors
      - first_payment_date
      - frequency
      - known_charges
      - organisation_id
      - payment_id
      - recipient
      - recurring_amount
      - reference
      - required_action
      - sender
      - state
      type: object
      properties:
        payment_id:
          type: string
          description: Payment Identifier
        organisation_id:
          type: string
          description: Bud's Organisation Identifier
        client_id:
          type: string
          description: Bud's Client/App Identifier
        reference:
          type: string
          description: Reference to use for this payment
        recipient:
          $ref: '#/components/schemas/PaymentRecipient'
        recurring_amount:
          $ref: '#/components/schemas/BudAmount'
        sender:
          $ref: '#/components/schemas/PaymentSender'
        known_charges:
          $ref: '#/components/schemas/KnownCharges'
        state:
          $ref: '#/components/schemas/StandingOrderData_state'
        errors:
          type: array
          description: Details surrounding any errors when attempting to initiate
            a Standing Order
          items:
            $ref: '#/components/schemas/StandingOrderData_errors'
        created_at:
          type: string
          description: Date-time (ISO 8601) of when the Standing Order was created
          format: date-time
          example: 2020-06-01T15:00:00Z
        first_payment_date:
          type: string
          description: Date-time (ISO 8601) the first payment should be made. Must
            be future date.
          format: date-time
          example: 2020-06-01T15:00:00Z
        last_payment_date:
          type: string
          description: Date-time (ISO 8601) after which payments should stop. Must
            be after `first_payment_date`.
          format: date-time
          example: 2020-06-01T15:00:00Z
        frequency:
          $ref: '#/components/schemas/StandingOrderFrequencyEnum'
        required_action:
          type: array
          description: |
            This field will indicate that there is an action required to be taken by the client in order to complete the payment.

            | Value  |  Description |
            |:-------|:-------------|
            | confirm_standing_order | If present, this value indicates that client has yet to confirm the standing order once the customer has successfully authorised the payment with the provider. This confirmation can be accomplished using the Confirm Standing Order API Endpoint. Please note this step will only be relevant for clients using Bud as a Technical Service Provider (TSP) |
          nullable: true
          items:
            type: string
            enum:
            - confirm_standing_order
      description: Data structure for the Standing Order object
    StandingOrderStatusCodeEnum:
      title: Standing Order Status Codes
      type: string
      description: The payment status code for a Standing Order
      enum:
      - CREATED
      - AWAITING_AUTH
      - AUTH_REJECTED
      - AUTH_COMPLETED
      - PENDING
      - FAILED
      - COMPLETED
    StandingOrderStatusMessageEnum:
      title: Standing Order Status Message
      type: string
      description: The payment status message for a Standing Order
      enum:
      - Standing Order Created
      - Awaiting Customer Authentication
      - Authentication Failed
      - Authentication Completed
      - Payment Order Pending
      - Standing Order Creation Failed
      - Standing Order Creation Completed
    CreateStandingOrderRequest:
      title: Create Standing Order Request
      required:
      - provider
      - standing_order_details
      type: object
      properties:
        redirect_url:
          type: string
          description: This is the url that your Customer will be redirected to when
            using the Bud user interface. If you wish to use your own license and
            callback infrastructure this parameter will have no effect and the provider_redirect_url
            parameter should be used instead.
        provider_redirect_url:
          type: string
          description: This is the url that your Customer will be redirected to once
            they have authorised with the relevant provider. This should only be used
            when using your own license and wish to use the Submit Authorisation Codes
            endpoint. If you wish to use Bud's call back then the redirect_url must
            be provided.
        provider:
          type: string
          description: The name (identifier) of the payment provider
        provider_types:
          $ref: '#/components/schemas/ProviderTypes'
        standing_order_details:
          $ref: '#/components/schemas/StandingOrderDetails'
    CreateStandingOrderResponse:
      title: Create Standing Order Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/CreateStandingOrderResponse_data'
      description: Response structure when creating a Standing Order payment
    StatusStandingOrderResponse:
      title: Standing Order Status Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/StandingOrderData'
    ListScheduledPaymentResponse:
      title: List Scheduled Payment Response
      required:
      - data
      - metadata
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          description: Array of Scheduled Payment Status Objects
          items:
            $ref: '#/components/schemas/ScheduledPaymentData'
        metadata:
          $ref: '#/components/schemas/ListStandingOrderResponse_metadata'
      description: Response structure when retrieving a filtered list of Scheduled
        Payment status'
    ScheduledPaymentData:
      title: Scheduled Payment Data
      required:
      - amount
      - client_id
      - created_at
      - errors
      - known_charges
      - organisation_id
      - payment_id
      - recipient
      - reference
      - requested_execution_date
      - sender
      - state
      type: object
      properties:
        payment_id:
          type: string
          description: Payment Identifier
        organisation_id:
          type: string
          description: Bud's Organisation Identifier
        client_id:
          type: string
          description: Bud's Client/App Identifier
        reference:
          type: string
          description: Reference to use for this payment
        recipient:
          $ref: '#/components/schemas/PaymentRecipient'
        recurring_amount:
          $ref: '#/components/schemas/BudAmount'
        sender:
          $ref: '#/components/schemas/PaymentSender'
        known_charges:
          $ref: '#/components/schemas/KnownCharges'
        state:
          $ref: '#/components/schemas/ScheduledPaymentData_state'
        errors:
          type: array
          description: Details surrounding any errors when attempting to initiate
            a Scheduled Payment
          items:
            $ref: '#/components/schemas/StandingOrderData_errors'
        created_at:
          type: string
          description: Date-time (ISO 8601) of when the Scheduled Payment was created
          format: date-time
          example: 2020-06-01T15:00:00Z
        requested_execution_date:
          type: string
          description: Date-time (ISO 8601) the Scheduled Payment should be made.
            Must be future date.
          format: date-time
          example: 2020-06-01T15:00:00Z
        required_action:
          type: array
          description: |
            This field will indicate that there is an action required to be taken by the client in order to complete the payment.

            | Value  |  Description |
            |:-------|:-------------|
            | confirm_scheduled_payment | If present, this value indicates that client has yet to confirm the Scheduled Payment once the customer has successfully authorised the payment with the provider. This confirmation can be accomplished using the Confirm Scheduled Payment API Endpoint. Please note this step will only be relevant for clients using Bud as a Technical Service Provider (TSP) |
          nullable: true
          items:
            type: string
            enum:
            - confirm_scheduled_payment
      description: Data structure for the Scheduled Payment object
    ScheduledPaymentStatusCodeEnum:
      title: Scheduled Payment Status Codes
      type: string
      description: The payment status code for a Scheduled Payment
      enum:
      - CREATED
      - AWAITING_AUTH
      - AUTH_REJECTED
      - AUTH_COMPLETED
      - PENDING
      - FAILED
      - COMPLETED
    ScheduledPaymentStatusMessageEnum:
      title: Scheduled Payment Status Message
      type: string
      description: The payment status message for a Scheduled Payment
      enum:
      - Scheduled Payment Created
      - Awaiting Customer Authentication
      - Authentication Failed
      - Authentication Completed
      - Payment Order Pending
      - Scheduled Payment Creation Failed
      - Scheduled Payment Creation Completed
    CreateScheduledPaymentRequest:
      title: Create Scheduled Payment Request
      required:
      - provider
      - scheduled_payment_details
      type: object
      properties:
        redirect_url:
          type: string
          description: This is the url that your Customer will be redirected to when
            using the Bud user interface. If you wish to use your own license and
            callback infrastructure this parameter will have no effect and the provider_redirect_url
            parameter should be used instead.
        provider_redirect_url:
          type: string
          description: This is the url that your Customer will be redirected to once
            they have authorised with the relevant provider. This should only be used
            when using your own license and wish to use the Submit Authorisation Codes
            endpoint. If you wish to use Bud's call back then the redirect_url must
            be provided.
        provider:
          type: string
          description: The name (identifier) of the payment provider
        provider_types:
          $ref: '#/components/schemas/ProviderTypes'
        scheduled_payment_details:
          $ref: '#/components/schemas/ScheduledDetails'
    CreateScheduledPaymentResponse:
      title: Create Scheduled Payment Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/CreateScheduledPaymentResponse_data'
      description: Response structure when creating a Scheduled Payment
    GetScheduledPaymentResponse:
      title: Get Scheduled Payment Response
      required:
      - data
      - operation_id
      type: object
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          $ref: '#/components/schemas/ScheduledPaymentData'
        metadata:
          type: object
      description: Response structure when retrieving a specific Scheduled Payment
        status
    MoneyManagementResponse:
      title: Money Management Response
      type: array
      description: |
        | Money Management                | Description                                                                            |
        |:--------------------------------|:---------------------------------------------------------------------------------------|
        | `overdraft`                     | Account is overdrawn (note that credit cards will not trigger this warning). |
        | `cannot_cover_bills`            | The total upcoming payments for exceeds the current balance. The time range used for analysing past payments is `(X-From, X-Today)` and the period used for predicting upcoming payments is `(X-Today, X-To)`. |
        | `late_income`                   | A regular incoming payment was expected to be received on the account and hasn't yet. |
        | `late_payment`                  | A regular outgoing payment was expected to come out of the account and hasn't yet.    |
        | `regular_payment_changed`       | The value of a regular payment has increased or decreased between the oldest and newest instance |
        | `suspected_duplicate_charge`    | A duplicate transaction is one of more transactions that are debit transactions, have a non-zero booking time, and have a non-zero amount. They must also have matching `account_id`, `transaction_reference`, `merchant_id` (if one exists), `amount`, `currency`, `date`, `booking_datetime` |
        | `regular_monthly_income_change` | The value of a regular income has increased or decreased based on the previous months income. As this is comparing income over whole months, only complete months are considered in the provided date range. For instance, if `X-From=2022-01-05` and `X-To=2022-04-05` then the range considered by this warning will be `(2022-01-01, 2022-03-31)`. In addition, the default treshold for a difference in amounts to trigger this warning is 10%. |
      items:
        $ref: '#/components/schemas/MoneyManagement'
    MoneyManagement:
      title: Money Management Object
      required:
      - details
      - type
      type: object
      properties:
        type:
          type: string
          description: Money Management responses returned by API endpoint.
          enum:
          - overdraft
          - cannot_cover_bills
          - late_income
          - late_payment
          - regular_payment_changed
          - suspected_duplicate_charge
          - regular_monthly_income_change
        details:
          anyOf:
          - $ref: '#/components/schemas/OverdraftMoneyMangementDetails'
          - $ref: '#/components/schemas/CannotCoverBillsMoneyManagementDetails'
          - $ref: '#/components/schemas/LateIncomeMoneyManagementDetails'
          - $ref: '#/components/schemas/LatePaymentMoneyManagementDetails'
          - $ref: '#/components/schemas/RegularPaymentChangedMoneyManagementDetails'
          - $ref: '#/components/schemas/SuspectedDuplicateChargeMoneyManagementDetails'
          - $ref: '#/components/schemas/RegularMonthlyIncomeChangedMoneyManagementDetails'
      description: Bud money management response array
    OverdraftMoneyMangementDetails:
      title: Overdraft Warning Details
      required:
      - account_id
      - overdrawn_by
      type: object
      properties:
        account_id:
          type: string
          description: ID of the account that is overdrawn.
        overdrawn_by:
          allOf:
          - description: Amount the account is overdrawn by.
          - $ref: '#/components/schemas/BudAmount'
    CannotCoverBillsMoneyManagementDetails:
      title: Cannot Cover Bills Warning Details
      required:
      - account_id
      - current_balance
      - total_expected_payments
      - transactions
      type: object
      properties:
        account_id:
          type: string
          description: A unique identifier for the Customer bank account
        total_expected_payments:
          allOf:
          - description: Total predicted amount expected to be spent (i.e. the total
              of all upcoming debit transaction amounts).
          - $ref: '#/components/schemas/BudAmount'
        transactions:
          type: array
          description: List of predicted upcoming transactions.
          items:
            $ref: '#/components/schemas/CannotCoverBillsMoneyManagementDetails_transactions'
        current_balance:
          allOf:
          - required:
            - credit_debit_indicator
            type: object
            properties:
              credit_debit_indicator:
                type: string
                description: Indication as to whether the transaction was a credit
                  or debit
                enum:
                - Credit
                - Debit
            description: The current balance of the account
          - $ref: '#/components/schemas/BudAmount'
    LateIncomeMoneyManagementDetails:
      title: Late Income Warning Details
      required:
      - account_id
      - category_l1
      - category_l2
      - category_l3
      - days_late
      - description
      - expected_amount
      - expected_date
      - label
      type: object
      properties:
        account_id:
          type: string
          description: ID of the account that has not received its income yet.
        label:
          type: string
          description: The recurring transaction group identifier associating one
            set of regular transactions e.g. all Salary transactions that are regular
            by the same monthly period will share the same label.
        description:
          type: string
          description: Transaction description.
        expected_amount:
          $ref: '#/components/schemas/BudAmount'
        expected_date:
          type: string
          description: Expected date of payment in ISO8601 format.
        days_late:
          type: integer
          description: Number of days that the transaction is late by.
        merchant:
          $ref: '#/components/schemas/NullableMerchant'
        category_l1:
          type: string
          description: The name of the category returned by the Bud categorisation
            model.
        category_l2:
          type: string
          description: The name of the subcategory returned by the Bud categorisation
            model.
        category_l3:
          type: string
          description: The name of the 3rd level category returned by the Bud categorisation
            model.
    LatePaymentMoneyManagementDetails:
      title: Late Payment Warning Details
      required:
      - account_id
      - category_l1
      - category_l2
      - category_l3
      - days_late
      - description
      - expected_amount
      - expected_date
      - label
      type: object
      properties:
        account_id:
          type: string
          description: ID of the account from where the income is expected to be debited.
        label:
          type: string
          description: The recurring transaction group identifier associating one
            set of regular transactions e.g. all "Spotify" transactions that are regular
            by the same monthly period will share the same label.
        description:
          type: string
          description: The transaction description string.
        expected_amount:
          $ref: '#/components/schemas/BudAmount'
        expected_date:
          type: string
          description: Expected date of payment in ISO8601 format.
        days_late:
          type: integer
          description: Number of days that the transaction is late by.
        merchant:
          $ref: '#/components/schemas/NullableMerchant'
        category_l1:
          type: string
          description: The name of the category returned by the Bud categorisation
            model.
        category_l2:
          type: string
          description: The name of the subcategory returned by the Bud categorisation
            model.
        category_l3:
          type: string
          description: The name of the 3rd level category returned by the Bud categorisation
            model.
      description: Triggered when a payment has not been made by predicted date.
    RegularPaymentChangedMoneyManagementDetails:
      title: Regular Payment Changed Warning Details
      required:
      - account_id
      - change
      - delta
      - description
      - provider
      - regular_payment_label
      type: object
      properties:
        account_id:
          type: string
          description: Unique identifier of the account that the regular payment is
            made from.
        provider:
          type: string
          description: Banking provider the account exists with.
        regular_payment_label:
          type: string
          description: The recurring transaction group identifier associating one
            set of regular transactions e.g. all "Spotify" transactions that are regular
            by the same monthly period will share the same label.
        description:
          type: string
          description: The description of the latest transaction of the regular payments
            group.
        change:
          type: string
          description: To denote whether the change in the amount associated with
            the regular payment has increased or decreased.
          enum:
          - increase
          - decrease
        delta:
          allOf:
          - description: The difference in the transaction amount between latest transaction
              and the previous transaction.
          - $ref: '#/components/schemas/BudAmount'
        transactions:
          type: array
          description: The transactions making up this group of regular payments.
          items:
            $ref: '#/components/schemas/RegularPaymentChangedMoneyManagementDetails_transactions'
    SuspectedDuplicateChargeMoneyManagementDetails:
      title: Duplicate Charge Warning Details
      type: array
      items:
        $ref: '#/components/schemas/RegularPaymentChangedMoneyManagementDetails_transactions'
    RegularMonthlyIncomeChangedMoneyManagementDetails:
      title: Regular Monthly Income Changed Warning Details
      required:
      - current_month_income
      - month
      - previous_month_income
      - proportion_change
      type: object
      properties:
        month:
          type: string
          description: "The current month used in calculations, in `YYYY-MM` format."
        previous_month_income:
          allOf:
          - description: The total income identified in the previous month.
          - $ref: '#/components/schemas/BudAmount'
        current_month_income:
          allOf:
          - description: The total income identified in the current month.
          - $ref: '#/components/schemas/BudAmount'
        proportion_change:
          type: string
          description: "The difference between the previous month's and the current\
            \ month's income as a decimal rounded to 2 decimal places e.g. `\"0.51\"\
            `. \nIf there is no income in one of the months, it is not possible to\
            \ calculate the value so it is set to `null`."
          nullable: true
    MoneyManagementMetaData:
      title: Warnings Metadata
      required:
      - from
      - results
      - to
      - today
      type: object
      properties:
        results:
          type: integer
          description: Number of results returned.
        from:
          type: string
          description: '`From` date used in query (`YYYY-MM-DD`)'
        to:
          type: string
          description: '`To` date used in query (`YYYY-MM-DD`)'
        today:
          type: string
          description: '`Today` date used in query (`YYYY-MM-DD`)'
      description: Bud money management metadata
    CustomerCharacteristicResponse:
      title: Customer Characteristic Response
      type: array
      description: "| Customer Characteristics             | Description |\n|:---------------------|:---------------------------------------------------------------------------------------|\n\
        | `parent`             | User has childcare transactions |\n| `student_loan`\
        \       | User is paying off a student loan |\n| `pensioner`          | User\
        \ receives pension income |                                              \
        \   \n| `saver`              | User receives savings income and / or deposits\
        \ money into a savings / investment account |\n| `insurer`            | User\
        \ has one or more insurance policies |\n| `overdraft_user`     | User was\
        \ in their overdraft at midnight on any day during a set period|\n| `cash_user`\
        \          | User has made cash deposits and / or cash withdrawals |\n| `subscriber`\
        \         | User has one or more subscriptions|                     \n"
      items:
        $ref: '#/components/schemas/CustomerCharacteristic'
    CustomerCharacteristic:
      title: Customer Characteristic Object
      required:
      - details
      - type
      type: object
      properties:
        type:
          type: string
          description: Customer Characteristics responses returned by endpoint.
          enum:
          - parent
          - student_loan
          - pensioner
          - saver
          - insurer
          - overdraft
          - cash_user
          - subscriber
        details:
          anyOf:
          - $ref: '#/components/schemas/ParentCustomerCharacteristicDetails'
          - $ref: '#/components/schemas/StudentLoanCustomerCharacteristicDetails'
          - $ref: '#/components/schemas/PensionerCustomerCharacteristicDetails'
          - $ref: '#/components/schemas/SaverCustomerCharacteristicDetails'
          - $ref: '#/components/schemas/InsurerCustomerCharacteristicDetails'
          - $ref: '#/components/schemas/OverdraftCustomerCharacteristicDetails'
          - $ref: '#/components/schemas/CashUserCustomerCharacteristicDetails'
          - $ref: '#/components/schemas/SubscriberCustomerCharacteristicDetails'
    ParentCustomerCharacteristicDetails:
      title: Parent
      required:
      - expenditure
      - income
      - outgoing_categories
      type: object
      properties:
        outgoing_categories:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ParentCustomerCharacteristicDetails_outgoing_categories'
          description: |
            An object keyed by an L3 category that triggered the characteristic that summarises
            all the outgoing transactions which fall under the category.
        income:
          $ref: '#/components/schemas/BudAmount'
        expenditure:
          $ref: '#/components/schemas/BudAmount'
    StudentLoanCustomerCharacteristicDetails:
      title: Student Loan
      required:
      - expenditure
      - income
      type: object
      properties:
        incoming_categories:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/StudentLoanCustomerCharacteristicDetails_incoming_categories'
        outgoing_categories:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ParentCustomerCharacteristicDetails_outgoing_categories'
          description: |
            An object keyed by an L3 category that triggered the characteristic that summarises
            all the outgoing transactions which fall under the category.
        income:
          $ref: '#/components/schemas/BudAmount'
        expenditure:
          $ref: '#/components/schemas/BudAmount'
    PensionerCustomerCharacteristicDetails:
      title: Pensioner
      required:
      - expenditure
      - income
      - incoming_categories
      type: object
      properties:
        incoming_categories:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/StudentLoanCustomerCharacteristicDetails_incoming_categories'
        income:
          $ref: '#/components/schemas/BudAmount'
        expenditure:
          $ref: '#/components/schemas/BudAmount'
    SaverCustomerCharacteristicDetails:
      title: Saver
      required:
      - expenditure
      - income
      type: object
      properties:
        incoming_categories:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/StudentLoanCustomerCharacteristicDetails_incoming_categories'
        outgoing_categories:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ParentCustomerCharacteristicDetails_outgoing_categories'
          description: |
            An object keyed by an L3 category that triggered the characteristic that summarises
            all the outgoing transactions which fall under the category.
        income:
          $ref: '#/components/schemas/BudAmount'
        expenditure:
          $ref: '#/components/schemas/BudAmount'
    InsurerCustomerCharacteristicDetails:
      title: Insurer
      required:
      - expenditure
      - income
      type: object
      properties:
        incoming_categories:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/StudentLoanCustomerCharacteristicDetails_incoming_categories'
        outgoing_categories:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ParentCustomerCharacteristicDetails_outgoing_categories'
          description: |
            An object keyed by an L3 category that triggered the characteristic that summarises
            all the outgoing transactions which fall under the category.
        income:
          $ref: '#/components/schemas/BudAmount'
        expenditure:
          $ref: '#/components/schemas/BudAmount'
    OverdraftCustomerCharacteristicDetails:
      title: Overdraft
      required:
      - account_id
      - days_in_overdraft
      - ratio_days_in_overdraft
      type: object
      properties:
        account_id:
          type: string
          description: The account ID of the account which has been in overdraft
        days_in_overdraft:
          type: string
          description: Total number of days in the time period spent in overdraft
        ratio_days_in_overdraft:
          description: The ratio of days spent in overdraft to the total days in the
            time period. Null if time period was over 0 days.
          oneOf:
          - type: "null"
          - type: string
    CashUserCustomerCharacteristicDetails:
      title: Cash User
      required:
      - expenditure
      - income
      type: object
      properties:
        incoming_categories:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/StudentLoanCustomerCharacteristicDetails_incoming_categories'
        outgoing_categories:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ParentCustomerCharacteristicDetails_outgoing_categories'
          description: |
            An object keyed by an L3 category that triggered the characteristic that summarises
            all the outgoing transactions which fall under the category.
        income:
          $ref: '#/components/schemas/BudAmount'
        expenditure:
          $ref: '#/components/schemas/BudAmount'
    SubscriberCustomerCharacteristicDetails:
      title: Subscriber
      required:
      - expenditure
      - income
      - outgoing_categories
      type: object
      properties:
        outgoing_categories:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ParentCustomerCharacteristicDetails_outgoing_categories'
          description: |
            An object keyed by an L3 category that triggered the characteristic that summarises
            all the outgoing transactions which fall under the category.
        income:
          $ref: '#/components/schemas/BudAmount'
        expenditure:
          $ref: '#/components/schemas/BudAmount'
    CustomerCharacteristicMetaData:
      title: Customer Characteristics Metadata
      required:
      - from
      - results
      - to
      - today
      type: object
      properties:
        results:
          type: integer
          description: Number of results returned.
        from:
          type: string
          description: '`From` date used in query (`YYYY-MM-DD`)'
        to:
          type: string
          description: '`To` date used in query (`YYYY-MM-DD`)'
        today:
          type: string
          description: '`Today` date used in query (`YYYY-MM-DD`)'
    FinancialInsightResponse:
      title: Customer Characteristic Response
      type: array
      description: |
        | Financial Insights   | Description                                                                            |
        |:---------------------|:---------------------------------------------------------------------------------------|
        | `gambling_income`             | Income indentified through gambling transactions |
        | `pension_income`              | Income indentified through company pension(s) |
        | `gambling_threshold`          | Overall spending on gambling exceeds the threshold (defaults to 20%) of all income over that same time period |
        | `new_insurance_expense`       | Any new insurance related expense identified |
        | `subscription_expense`        | Any new subscription related expense identified |
      items:
        $ref: '#/components/schemas/FinancialInsight'
    FinancialInsight:
      title: Customer Characteristic Object
      required:
      - details
      - type
      type: object
      properties:
        type:
          type: string
          enum:
          - subscription_expense
          - insurance_expense
          - gambling_threshold
          - pension_income
          - gambling_income
        details:
          anyOf:
          - $ref: '#/components/schemas/GamblingIncomeFinancialInsightDetails'
          - $ref: '#/components/schemas/PensionIncomeFinancialInsightDetails'
          - $ref: '#/components/schemas/GamblingThresholdFinancialInsightDetails'
          - $ref: '#/components/schemas/InsuranceExpenseFinancialInsightDetails'
          - $ref: '#/components/schemas/SubscriptionExpenseFinancialInsightDetails'
    GamblingIncomeFinancialInsightDetails:
      title: Gambling Income
      required:
      - merchant_ids
      - total
      type: object
      properties:
        total:
          type: array
          description: Income identified as pension transactions
          items:
            $ref: '#/components/schemas/BudAmount'
        merchant_ids:
          allOf:
          - type: array
            description: List of merchants associated to pension transactions
            items:
              type: string
    PensionIncomeFinancialInsightDetails:
      title: Pension Income
      required:
      - merchant_ids
      - total
      type: object
      properties:
        total:
          type: array
          description: Income identified as pension transactions
          items:
            $ref: '#/components/schemas/BudAmount'
        merchant_ids:
          allOf:
          - type: array
            description: List of merchants associated to pension transactions
            items:
              type: string
    GamblingThresholdFinancialInsightDetails:
      title: Gambling Threshold
      required:
      - expenditure
      - income
      - ratio_to_income
      - threshold
      - transactions
      type: object
      properties:
        income:
          allOf:
          - description: Total income amount
          - $ref: '#/components/schemas/BudAmount'
        expenditure:
          allOf:
          - description: Total expenditure amount
          - $ref: '#/components/schemas/BudAmount'
        threshold:
          type: string
          description: "The fraction of income needed to spend on gambling to trigger\
            \ the warning, formatted as a decimal numeric string"
        ratio_to_income:
          type: string
          description: "The ratio of gambling expenditure to income over the period.\
            \ \nIf there is no income in one of the months, it is not possible to\
            \ calculate the value so it is set to `null`."
          nullable: true
        transactions:
          type: array
          items:
            $ref: '#/components/schemas/GamblingTransaction'
    GamblingTransaction:
      title: Gambling Transaction
      required:
      - account_id
      - amount
      - booking_datetime
      - credit_debit_indicator
      - description
      - transaction_id
      type: object
      properties:
        transaction_id:
          type: string
          description: A unique identifier for the transaction
        account_id:
          type: string
          description: A unique identifier for the Customer bank account
        description:
          type: string
          description: The raw transaction reference e.g. "bank transfer"
        booking_datetime:
          type: string
          description: The timestamp of when the transactions was booked in ISO 8601/RFC
            3339 format e.g. `"2022-06-10T15:30:02Z"`
        credit_debit_indicator:
          type: string
          description: Indication as to whether the transaction was a credit or debit
          enum:
          - Credit
          - Debit
        amount:
          $ref: '#/components/schemas/BudAmount'
    InsuranceExpenseFinancialInsightDetails:
      title: Insurance Expenses
      required:
      - merchant_ids
      - total
      type: object
      properties:
        total:
          type: array
          description: Income identified as pension transactions
          items:
            $ref: '#/components/schemas/BudAmount'
        merchant_ids:
          allOf:
          - type: array
            description: List of merchants associated to pension transactions
            items:
              type: string
    SubscriptionExpenseFinancialInsightDetails:
      title: Subscription Expense
      required:
      - account_id
      - amount
      - l3_category_name
      - merchant
      - transaction_id
      type: object
      properties:
        transaction_id:
          type: string
          description: trans id
        account_id:
          type: string
          description: account id
        merchant:
          type: string
          description: merchant
        l3_category_name:
          type: string
          description: level 3 transaction category
        amount:
          allOf:
          - description: Total amount of subscription related expenses.
          - $ref: '#/components/schemas/BudAmount'
    FinancialInsightMetaData:
      title: Financial Insight Metadata
      required:
      - from
      - results
      - to
      - today
      type: object
      properties:
        results:
          type: integer
          description: Number of results returned.
        from:
          type: string
          description: '`From` date used in query (`YYYY-MM-DD`)'
        to:
          type: string
          description: '`To` date used in query (`YYYY-MM-DD`)'
        today:
          type: string
          description: '`Today` date used in query (`YYYY-MM-DD`)'
    TrendsResponse:
      title: Trends Response
      type: object
      additionalProperties:
        required:
        - categories
        - expenditure
        - income
        - results
        - spending_ratio
        type: object
        properties:
          income:
            allOf:
            - description: Total income in the period
            - $ref: '#/components/schemas/BudAmount'
          expenditure:
            allOf:
            - description: Total expenses in the period
            - $ref: '#/components/schemas/BudAmount'
          spending_ratio:
            type: string
            description: Ratio of expenditure to income (to 2dp)
          categories:
            type: object
            additionalProperties:
              $ref: '#/schemas/CategoryTotal'
            description: A spending breakdown of each category. Each key name corresponds
              to the category name.
          results:
            type: integer
            description: Number of transactions that were totalled over.
      description: |
        Each key/value pair represents a month and the totals for that month. The keys will be of the form `YYYY-MM` for each month totalled.
    TrendsMetaData:
      title: Trends Response Metadata
      required:
      - from
      - results
      - to
      type: object
      properties:
        results:
          type: integer
          description: Number of results returned.
        from:
          type: string
          description: '`From` date used in query (`YYYY-MM-DD`)'
        to:
          type: string
          description: '`To` date used in query (`YYYY-MM-DD`)'
      description: Any relevant metadata associated wih the response from the Retrieve
        Trends endpoint
    ForecastedTransaction:
      title: Forecasted Transaction
      required:
      - amount
      - credit_debit_indicator
      - date
      - description
      - label
      - status
      - transaction_id
      type: object
      properties:
        transaction_id:
          type: string
          description: "ID of the transaction if it is `Booked` or `Pending`. This\
            \ will be empty if it corresponds to a predicted transaction \nthat has\
            \ not yet been seen on the account.\n"
        label:
          type: string
          description: Grouping label for the transaction if it is detected as a regular
            transaction.
        description:
          type: string
          description: Transaction description (usually the user-provided reference)
        status:
          type: string
          description: The transaction status
          enum:
          - Booked
          - Pending
          - Predicted
        amount:
          $ref: '#/components/schemas/BudAmount'
        credit_debit_indicator:
          type: string
          description: Indication as to whether the transaction was a credit or debit
          enum:
          - Credit
          - Debit
        date:
          type: string
          description: Date (or predicted date) of the transaction in `YYYY-MM-DD`
            format.
      description: Transaction object for the financial assistant forecast response
    ForecastedMetaData:
      title: Forecasted Metadata
      required:
      - from
      - to
      type: object
      properties:
        from:
          type: string
          description: From-date in `YYYY-MM-DD` format.
        to:
          type: string
          description: From-date in `YYYY-MM-DD` format.
      description: Metadata object for the financial assistant forecast response
    ListComponentsResponse:
      type: array
      items:
        $ref: '#/components/schemas/ComponentSpec'
    ComponentSpec:
      required:
      - description
      - name
      - parameters
      properties:
        name:
          type: string
          description: "Name of the component, for creating an insight using it."
        description:
          type: string
          description: Human-readable description of the component.
        parameters:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ComponentParameterSpec'
          nullable: true
    ComponentParameterSpec:
      required:
      - default
      - max
      - min
      - type
      properties:
        type:
          type: string
          enum:
          - number
          - period
          - string
          - string-array
        min:
          description: "The minimum value accepted for this parameter, if any."
          nullable: true
          oneOf:
          - type: number
          - type: string
        max:
          description: "The maximum value accepted for this parameter, if any."
          nullable: true
          oneOf:
          - type: number
          - type: string
        default:
          description: The default value for this parameter if unspecified.
          oneOf:
          - type: number
          - type: string
          - type: array
    ListComponentsMetaData:
      required:
      - results
      type: object
      properties:
        results:
          type: number
          description: Number of available components.
    CreateInsightRequest:
      required:
      - components
      - name
      type: object
      properties:
        name:
          type: string
          description: The name to assign to this segment of users.
        description:
          type: string
          description: An optional human-readable description of the insight.
        components:
          type: array
          items:
            $ref: '#/components/schemas/ComponentParameters'
    ComponentParameters:
      required:
      - name
      type: object
      properties:
        name:
          type: string
          description: The name of the component to incorporate in the insight.
        parameters:
          type: object
          additionalProperties: {}
          description: The parameters you want to specify for the component from its
            component spec. All are optional and if omitted the default value is used.
    CreateInsightResponse:
      required:
      - insight_id
      type: object
      properties:
        insight_id:
          type: string
          description: The ID of the created insight.
    RetrieveInsightResponse:
      required:
      - components
      - description
      - id
      - name
      type: object
      properties:
        id:
          type: string
          description: The ID of the insight.
        name:
          type: string
          description: The name assigned to this segment of users.
        description:
          type: string
          description: An optional human-readable description of the insight.
        components:
          type: array
          items:
            $ref: '#/components/schemas/CreatedComponentParameters'
    CreatedComponentParameters:
      allOf:
      - $ref: '#/components/schemas/ComponentParameters'
      - required:
        - id
        type: object
        properties:
          id:
            type: string
            description: The ID of this component configuration.
    CompareInsightResponse:
      required:
      - components
      - description
      - match
      - name
      type: object
      properties:
        name:
          type: string
          description: The name assigned to this segment of users.
        description:
          type: string
          description: An optional human-readable description of the insight.
        components:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ComponentResult'
          description: "The result of comparing the customer against each configured\
            \ component of this insight, keyed by component configuration IDs."
        match:
          type: string
          description: "Whether this customer fully, partially, or not at all matched\
            \ this insight. Full means matching all components, partial means matching\
            \ at least one."
          enum:
          - full
          - partial
          - "false"
    ComponentResult:
      required:
      - match
      - name
      - value
      type: object
      properties:
        name:
          type: string
          description: The name of the component.
        match:
          type: boolean
          description: Whether the customer matched this component.
        value:
          description: "A component-specific computed value for this customer, that\
            \ either matched or failed to match the components's requirements. Meaning\
            \ varies by component."
    BudAmount:
      title: Standard Bud Amount
      required:
      - currency
      - value
      type: object
      properties:
        value:
          $ref: '#/components/schemas/BudMonetaryValue'
        currency:
          $ref: '#/components/schemas/BudCurrency'
      description: The monetary amount.
    BudMonetaryValue:
      title: Monetary Value
      type: string
      description: "The value of the monetary amount. The value is formatted with\
        \ the number of decimal places for the respective currency. \n\nExample: `10.98`\n"
    BudCurrency:
      title: Currency
      type: string
      description: |
        The three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html) of the monetary amount.

        Example: `GBP`
    LegacyBudAmount:
      title: Legacy Bud Amount
      required:
      - amount
      - currency
      type: object
      properties:
        amount:
          $ref: '#/components/schemas/BudMonetaryValue'
        currency:
          $ref: '#/components/schemas/BudCurrency'
      description: The monetary amount.
    Transaction_1:
      title: Transaction
      required:
      - account_id
      - amount
      - credit_debit_indicator
      - date_time
      - description
      - status
      - transaction_id
      type: object
      properties:
        transaction_id:
          type: string
          description: Unique identifier for the transaction. May be mutable depending
            on original ingestion source.
        account_id:
          type: string
          description: Identifier for the account associated with the transaction.
        provider:
          type: string
          description: Name of the transaction source provider.
        description:
          type: string
          description: Description of the transaction. Similar to the transaction
            information in Open Banking.
        credit_debit_indicator:
          type: string
          description: Credit/Debit Indicator
          enum:
          - credit
          - debit
        status:
          type: string
          description: Status of the transaction. Defaults to booked.
          enum:
          - booked
          - pending
        amount:
          $ref: '#/components/schemas/BudAmount'
        date_time:
          type: string
          description: Date of the transaction compliant with RFC3339.
        enrichments:
          $ref: '#/components/schemas/Enrichments_1'
        tags:
          type: array
          description: |
            A list of potential tags associated with the transaction after contextual enrichment, which can be used for filtering.
            Region and client specific.

            | Value                   | Description                                               |
            |:------------------------|:----------------------------------------------------------|
            | `benefit`               | A government/non-profit benefit transaction               |
            | `debt-collection`       | A transaction associated with a known debt-collector      |
            | `income`                | A transaction associated with income                      |
            | `regular-transaction`   | A transaction predicted to occur with a regular frequency |
            | `salary`                | A transaction associated with a regular wage              |
            | `subscription`          | A transaction associated with a subscription service      |
          items:
            type: string
      description: A financial transaction
    Enrichments_1:
      title: Enrichments
      type: object
      properties:
        categories:
          $ref: '#/components/schemas/Categories_1'
        merchant:
          $ref: '#/components/schemas/Merchant'
        processor:
          $ref: '#/components/schemas/Processor'
        regularity:
          $ref: '#/components/schemas/Regularity'
        locations:
          $ref: '#/components/schemas/Location'
        transaction_types:
          type: array
          description: Transaction types associated with the transaction
          items:
            type: string
        names:
          type: array
          description: Names that were detected in the transaction description
          items:
            type: string
      description: Contextual enrichments associated with a Transaction
    Categories_1:
      title: Categories
      type: object
      properties:
        l1:
          $ref: '#/components/schemas/Category'
        l2:
          $ref: '#/components/schemas/Category'
      description: Categories enrichment associated with a Transaction
    LegacyBudDateRangeMetadata:
      title: Metadata
      required:
      - from
      - to
      type: object
      properties:
        from:
          type: string
          description: |
            The date from when results were retrieved in the format [ISO-8601](https://www.iso.org/iso-8601-date-and-time-format.html).
            This is either populated with the default value used when retrieving the results, or the user specified parameter.

            Example: `2023-01-17`
        to:
          type: string
          description: |
            The date up to when results were retrieved in the format [ISO-8601](https://www.iso.org/iso-8601-date-and-time-format.html).
            This is either populated with the default value used when retrieving the results, or the user specified parameter.

            Example: `2023-03-17`
    BudDateRangeMetadata:
      title: Metadata
      required:
      - from
      - to
      type: object
      properties:
        from:
          type: string
          description: |
            The date from when results were retrieved in the format [RFC 3339](https://www.rfc-editor.org/rfc/rfc3339).
            This is either populated with the default value used when retrieving the results, or the user specified parameter.

            Examples:
              - `2023-01-17T17:29:51Z`
              - `2023-01-17T17:29:51-08:00`
        to:
          type: string
          description: |
            The date up to when results were retrieved in the format [RFC 3339](https://www.rfc-editor.org/rfc/rfc3339).
            This is either populated with the default value used when retrieving the results, or the user specified parameter.

            Examples:
              - `2023-03-17T17:29:51Z`
              - `2023-03-17T17:29:51-08:00`
    inline_response_200:
      required:
      - data
      - operation_id
      properties:
        operation_id:
          $ref: '#/components/schemas/OperationId'
        data:
          type: array
          items:
            $ref: '#/components/schemas/OBProvider'
      example:
        operation_id: open_banking_providers_get
        data:
        - provider: barclays
          display_name: Barclays
          maintenance_window:
            start: 2019-08-07T11:48:00+0000
            end: 2019-08-07T11:00:00+0000
          maintenance_status: active
          icon: https://assets.thisisbud.com/example-icon
          regions:
          - GBR
        - provider: fd
          display_name: first direct
          maintenance_window: null
          maintenance_status: inactive
          icon: https://assets.thisisbud.com/example-icon
          regions:
          - GBR
        - provider: halifax
          display_name: Halifax
          maintenance_window: null
          maintenance_status: inactive
          icon: https://assets.thisisbud.com/example-icon
          regions:
          - GBR
        - provider: hbos
          display_name: Bank of Scotland
          maintenance_window: null
          maintenance_status: inactive
          icon: https://assets.thisisbud.com/example-icon
          regions:
          - GBR
        - provider: hsbc
          display_name: HSBC
          maintenance_window: null
          maintenance_status: inactive
          icon: https://assets.thisisbud.com/example-icon
          regions:
          - GBR
        - provider: lloyds
          display_name: Lloyds
          maintenance_window: null
          maintenance_status: inactive
          icon: https://assets.thisisbud.com/example-icon
          regions:
          - GBR
        - provider: mns
          display_name: Marks & Spencer
          maintenance_window: null
          maintenance_status: inactive
          icon: https://assets.thisisbud.com/example-icon
          regions:
          - GBR
        - provider: nationwide
          display_name: Nationwide
          maintenance_window: null
          maintenance_status: inactive
          icon: https://assets.thisisbud.com/example-icon
          regions:
          - GBR
        - provider: natwest
          display_name: Natwest
          maintenance_window: null
          maintenance_status: inactive
          icon: https://assets.thisisbud.com/example-icon
          regions:
          - GBR
        - provider: rbs
          display_name: Royal Bank of Scotland
          maintenance_window: null
          maintenance_status: inactive
          icon: https://assets.thisisbud.com/example-icon
          regions:
          - GBR
        - provider: santander
          display_name: Santander
          maintenance_window: null
          maintenance_status: inactive
          icon: https://assets.thisisbud.com/example-icon
          regions:
          - GBR
    inline_response_400:
      oneOf:
      - $ref: '#/components/schemas/BodyDecodeError'
      - $ref: '#/components/schemas/ValidationError'
    inline_response_400_1:
      oneOf:
      - $ref: '#/components/schemas/FailedValidationError'
      - $ref: '#/components/schemas/TaskNotFoundError'
    v1_customers_body:
      properties:
        customer_context:
          $ref: '#/components/schemas/CustomerContext'
    inline_response_200_1:
      required:
      - data
      - metadata
      - operation_id
      properties:
        operation_id:
          type: string
          enum:
          - v1_signal_money_management_get
        data:
          $ref: '#/components/schemas/MoneyManagementResponse'
        metadata:
          $ref: '#/components/schemas/MoneyManagementMetaData'
    inline_response_200_2:
      required:
      - data
      - metadata
      - operation_id
      properties:
        operation_id:
          type: string
          enum:
          - v1_signal_customer_characteristics_get
        data:
          $ref: '#/components/schemas/CustomerCharacteristicResponse'
        metadata:
          $ref: '#/components/schemas/CustomerCharacteristicMetaData'
    inline_response_200_3:
      required:
      - data
      - metadata
      - operation_id
      properties:
        operation_id:
          type: string
          enum:
          - v1_signal_financial_insights_get
        data:
          $ref: '#/components/schemas/FinancialInsightResponse'
        metadata:
          $ref: '#/components/schemas/FinancialInsightMetaData'
    inline_response_200_4:
      required:
      - data
      - metadata
      - operation_id
      properties:
        operation_id:
          type: string
          enum:
          - v1_signal_trends_get
        data:
          $ref: '#/components/schemas/TrendsResponse'
        metadata:
          $ref: '#/components/schemas/TrendsMetaData'
      example:
        operation_id: v1_signal_trends_get
        data:
          "2020-02":
            income:
              value: "2000.00"
              currency: GBP
            expenditure:
              value: "1800.00"
              currency: GBP
            spending_ratio: "0.90"
            categories:
              bills:
                credit:
                  amount:
                    value: "0.00"
                    currency: GBP
                  ratio_to_income: "0.00"
                  ratio_to_expenditure: "0.00"
                debit:
                  amount:
                    value: "1800.00"
                    currency: GBP
                  ratio_to_income: "0.90"
                  ratio_to_expenditure: "1.00"
                subcategories:
                  mortgage_and_rent:
                    credit:
                      amount:
                        value: "0.00"
                        currency: GBP
                      ratio_to_income: "0.00"
                      ratio_to_expenditure: "0.00"
                    debit:
                      amount:
                        value: "1800.00"
                        currency: GBP
                      ratio_to_income: "0.90"
                      ratio_to_expenditure: "1.00"
            results: 2
        metadata:
          results: 1
          from: 2020-02-01
          to: 2020-02-28
    inline_response_200_5:
      required:
      - data
      - metadata
      - operation_id
      properties:
        operation_id:
          type: string
          enum:
          - v1_signal_forecast_get
        data:
          type: array
          items:
            $ref: '#/components/schemas/ForecastedTransaction'
        metadata:
          $ref: '#/components/schemas/ForecastedMetaData'
      example:
        operation_id: v1_signal_forecast_get
        data:
        - transaction_id: e559d2d1a38e7758c2b640ae29af576a0ed03a14ba2131eaa8b55c54f6be2828-1
          label: f39db9ff27181b809f124289af2e4375c585673c-0
          description: BT GROUP PLC
          status: Booked
          amount:
            value: "78.49"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-02
        - transaction_id: ca634c18a6cbb73c25cce68d119a47bd75857a162214a03b55c3ba86e381ce15-1
          label: 963e2fe4610d4d70b4b2e908440f8a5ddd9ac416-0
          description: DVLA-EY05HKB
          status: Booked
          amount:
            value: "17.50"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-02
        - transaction_id: abd3d0a16e19853776c62b780b02178f90ee81ecb05d77255f08ca1e6cf58475-1
          label: 776738cdc7011c7be809dc095e80e6331756de6f-0
          description: 9773 29FEB20 C    CO-OP GROUP 610109CHINGFORD GB
          status: Booked
          amount:
            value: "29.06"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-02
        - transaction_id: 912e463dade24b51afc0daf1b3f9d69b8b6bf5030d6ab32dd67e40b04b8b31dd-1
          label: 3136746f94216e00f283c260ef0896d326ad2875-0
          description: NATIONWIDE B S
          status: Booked
          amount:
            value: "1381.03"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-02
        - transaction_id: 8de94260f704b3ca1ef51c1ed7240e57b1a8fca3fba9c3658fc1bd2d46576f3f-1
          label: da39a3ee5e6b4b0d3255bfef95601890afd80709-0
          description: H3G
          status: Booked
          amount:
            value: "29.72"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-02
        - transaction_id: 768c321c463700f1cc3be7b3ff6873daf7059f5ee8dc74a2bfc5f572cf2c8704-1
          label: b868161760980af4d0dd8653b80c23927e07257d-0
          description: THAMES WATER
          status: Booked
          amount:
            value: "29.00"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-02
        - transaction_id: 1a82b2890a47675a1641b509591e642e58d9b57cea3078eae3bc3f8ae9c6e4ab-1
          label: 776738cdc7011c7be809dc095e80e6331756de6f-1
          description: 9773 01MAR20 C    CO-OP GROUP 610109CHINGFORD GB
          status: Booked
          amount:
            value: "25.29"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-02
        - transaction_id: 3d5ee8c42b094ce0091cd3bd35f20dc8ada6ef59b0a2e234e8e812ea57ce979d-1
          label: 836cfe936b932a8277c7e0abc822ae8e8f1b3cc3-0
          description: 9773 02MAR20 C    MARKS&SPENCER PLC SACA              LONDON
            EC1V GB
          status: Booked
          amount:
            value: "10.00"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-03
        - transaction_id: 2a1b07cf671dc0bc19b6e5152b5eebcdb0ad5298dcb88e18ad69d3b91f5f1dbb-1
          label: 41b0d188f2e71c009b8b746c040dab5befb40bef-0
          description: ROYAL SUNALLIANCE
          status: Booked
          amount:
            value: "46.40"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-03
        - transaction_id: ""
          label: 0a829f5c1ec55c904e21dc3dfde4097ad599df84-0
          description: LB WALTHAM FOREST
          status: Predicted
          amount:
            value: "173.00"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-06
        - transaction_id: ""
          label: 787e7a7fd179117bab6037233c531b28240c2389-0
          description: TV LICENCE MBP
          status: Predicted
          amount:
            value: "13.26"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-10
        - transaction_id: ""
          label: edfb9515f80334b4747c5c4943bcfdb44058cc6d-0
          description: ARRANGED OD USAGE 22JAN A/C 21621268
          status: Predicted
          amount:
            value: "6.00"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-12
        - transaction_id: ""
          label: 755e23ba3dbb93068f15d07ac4c9f54dcc85340f-1
          description: 22JAN A/C 21621268
          status: Predicted
          amount:
            value: "2.79"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-12
        - transaction_id: ""
          label: 755e23ba3dbb93068f15d07ac4c9f54dcc85340f-0
          description: 22JAN A/C 21621268
          status: Predicted
          amount:
            value: "18.00"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-12
        - transaction_id: ""
          label: a702a4542d63fd235c40810fc9e37e1fe35028cb-0
          description: BULB ENERGY
          status: Predicted
          amount:
            value: "108.00"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-13
        - transaction_id: ""
          label: da39a3ee5e6b4b0d3255bfef95601890afd80709-1
          description: H3G
          status: Predicted
          amount:
            value: "20.08"
            currency: GBP
          credit_debit_indicator: Debit
          date: 2020-03-24
        metadata:
          from: 2020-03-01
          to: 2020-04-01
    inline_response_200_6:
      required:
      - data
      - metadata
      - operation_id
      properties:
        operation_id:
          type: string
          enum:
          - v1_signal_custom_components_get
        data:
          $ref: '#/components/schemas/ListComponentsResponse'
        metadata:
          $ref: '#/components/schemas/ListComponentsMetaData'
      example:
        operation_id: v1_signal_custom_components_get
        data:
          components:
          - name: expenditure_merchant
            description: "Tests whether the total spend, over a period, across a list\
              \ of merchants, is at least an amount"
            parameters:
              amount:
                type: number
                min: 0.01
                max: 1000000000000
                default: 100
              merchants:
                type: string-array
                min: null
                max: null
                default: []
              period:
                type: period
                min: 1D
                max: 12M
                default: 1M
          - name: income_l2s
            description: "Tests whether total income, over a period, across a list\
              \ of L2 categories, is at least an amount"
            parameters:
              amount:
                type: number
                min: 0.01
                max: 1000000000000
                default: 100
              merchants:
                type: string-array
                min: null
                max: null
                default: []
              period:
                type: period
                min: 1D
                max: 12M
                default: 1M
          - name: income_l3s
            description: "Tests whether total income, over a period, across a list\
              \ of L3 categories, is at least an amount"
            parameters:
              amount:
                type: number
                min: 0.01
                max: 1000000000000
                default: 100
              merchants:
                type: string-array
                min: null
                max: null
                default: []
              period:
                type: period
                min: 1D
                max: 12M
                default: 1M
          - name: all
            description: Matches all customers
            parameters: null
          - name: expenditure_l2s
            description: "Tests whether the total spend, over a period, across a list\
              \ of L2 categories, is at least an amount"
            parameters:
              amount:
                type: number
                min: 0.01
                max: 1000000000000
                default: 100
              merchants:
                type: string-array
                min: null
                max: null
                default: []
              period:
                type: period
                min: 1D
                max: 12M
                default: 1M
          - name: expenditure_l3s
            description: "Tests whether the total spend, over a period, across a list\
              \ of L3 categories, is at least an amount"
            parameters:
              amount:
                type: number
                min: 0.01
                max: 1000000000000
                default: 100
              merchants:
                type: string-array
                min: null
                max: null
                default: []
              period:
                type: period
                min: 1D
                max: 12M
                default: 1M
        metadata:
          results: 6
    inline_response_200_7:
      required:
      - data
      - metadata
      - operation_id
      properties:
        operation_id:
          type: string
          enum:
          - v1_signal_custom_create_post
        data:
          $ref: '#/components/schemas/CreateInsightResponse'
        metadata:
          nullable: true
      example:
        operation_id: v1_signal_custom_create_post
        data:
          insight_id: 9298f468-a8e1-49c5-9d37-9fc45d870b22
    inline_response_200_8:
      required:
      - data
      - metadata
      - operation_id
      properties:
        operation_id:
          type: string
          enum:
          - v1_signal_custom_schema_get
        data:
          $ref: '#/components/schemas/RetrieveInsightResponse'
        metadata:
          nullable: true
      example:
        id: 9298f468-a8e1-49c5-9d37-9fc45d870b22
        name: Life Insurance
        description: Customer is paying more than bank X's average life insurance
          cost
        components:
        - id: 428b7a57-6480-44c9-bb98-56b93310ab6c
          name: expenditure_l3s
          parameters:
            amount: 15
            l3-categories:
            - life_insurance
    inline_response_200_9:
      required:
      - data
      - metadata
      - operation_id
      properties:
        operation_id:
          type: string
          enum:
          - v1_signal_custom_get
        data:
          $ref: '#/components/schemas/CompareInsightResponse'
        metadata:
          nullable: true
      example:
        operation_id: v1_signal_custom_schema_get
        data:
          name: Life Insurance
          description: Customer is paying more than bank X's average life insurance
            cost
          components:
            "216d20e6-78e9-40d7-85cf-435077254d38":
              name: expenditure_l3s
              match: "true"
              value: 23
          match: full
    Location_address:
      type: object
      properties:
        address_lines:
          type: array
          description: |
            The lines of the detected address. These could be anything from a full street address down to a simple town or city.
            The level of detail depends on the resolution with which we are able to detect the transaction location.
          items:
            type: string
        country:
          type: string
          description: An ISO-3166 Alpha-3 country code representing the detected
            country the transaction was located.
      description: The address of the detected location.
    ListTransactionsResponse_metadata:
      required:
      - results
      type: object
      properties:
        results:
          type: integer
          description: The number of results returned.
        next_page_token:
          type: string
          description: The token required to retrieve the next page of results. Will
            be omitted if no next page exists.
    AuthGatewayURLResponse_data:
      required:
      - url
      type: object
      properties:
        url:
          type: string
          description: "An Authorisation Gateway URL, allowing Customers to connect\
            \ an Open Banking provider via Bud's TPP Connection UI"
          format: url
      description: Information related to the unique (customer specific) Authorisation
        Gateway URL
    OBSyncWebhookBody_data:
      required:
      - customer_id
      - status
      - task_id
      - task_type
      properties:
        task_id:
          type: string
          description: The task identifier that the event relates to
          example: e145c656-4a90-45db-a025-af7765482c8c
        status:
          type: string
          description: The completion status of the task
          enum:
          - Completed
          - Failed
        task_type:
          $ref: '#/components/schemas/TaskType'
        customer_id:
          type: string
          description: The customer the event relates to
          example: 19677d9f-90e7-44a6-a32e-566990623da4
      description: Data Segments being loaded
    OBWebhookBody_data:
      required:
      - customer_id
      - result
      - status
      - task_id
      - task_type
      properties:
        task_id:
          type: string
          description: The task identifier that the event relates to
          example: e145c656-4a90-45db-a025-af7765482c8c
        status:
          type: string
          description: The general status of a task
          enum:
          - Completed
          - Failed
        task_type:
          $ref: '#/components/schemas/TaskType'
        customer_id:
          type: string
          description: The customer the event relates to
          example: 19677d9f-90e7-44a6-a32e-566990623da4
        result:
          $ref: '#/components/schemas/ConnectResultCodes'
      description: Data Segments being loaded
    AuthorisationCodesResponse_data:
      type: object
      properties:
        task_id:
          $ref: '#/components/schemas/TaskId'
        provider:
          type: string
          description: Name of the provider (banking institution)
        status:
          $ref: '#/components/schemas/IngestResponseStatus'
        result:
          type: string
          enum:
          - success
          - auth_invalid
          - auth_expired
          - provider_failure
          - internal_error
      description: Details regarding the response object for the authorisation codes
        response.
    OpenBankingConnectResponse_metadata:
      type: object
      properties:
        status:
          type: string
          enum:
          - Failed
          - Pending
          - Completed
        next_url:
          type: string
          description: The URL to call to obtain the results of the task
        next_url_delay:
          type: number
          description: Recommended delay in milliseconds before next call
    OpenBankingRefreshResponse_metadata:
      type: object
      properties:
        has_new_transactions:
          type: boolean
          description: |
            To describe whether new transactions have been pulled from the relevant
            ASPSP during the refresh. Note that if this field is set to `false` then
            there is no need to make a request to any other downstream endpoints to
            collect the data related to that customer.
        status:
          $ref: '#/components/schemas/TaskStatusCaps'
        next_url:
          type: string
          description: The URL to call to obtain the results of the task
        next_url_delay:
          type: integer
          description: Recommended delay in milliseconds before next call
      description: Refresh Response Metadata
    RevokeAccountAccessIntentTastStatusResponse_metadata:
      required:
      - status
      type: object
      properties:
        status:
          type: string
        error_code:
          type: integer
        error_message:
          type: string
    IngestTransactionsResponse_data:
      type: object
      properties:
        task_id:
          $ref: '#/components/schemas/TaskId'
    IngestTransactionsV3Request_inner:
      required:
      - customer_id
      - customer_secret
      - transactions
      type: object
      properties:
        customer_id:
          $ref: '#/components/schemas/CustomerID'
        customer_secret:
          $ref: '#/components/schemas/CustomerSecret'
        transactions:
          minLength: 1
          type: array
          description: List of transactions belonging to the customer.
          items:
            $ref: '#/components/schemas/CustomerTransactionV3'
        transaction_windows:
          type: array
          description: "The transaction window is used to describe the entire period\
            \ for which you have \nprovided full coverage for the transactions within\
            \ the request. It is used by Bud to \nascertain periods of inactivity\
            \ on the account(s) in question to ensure accurate data \ncan be provided\
            \ across downstream endpoints (e.g. Retrieve Balances Over Time).\n"
          items:
            $ref: '#/components/schemas/TransactionV3Window'
    BodyDecodeError_errors:
      required:
      - decode_error
      type: object
      properties:
        decode_error:
          type: string
      description: Contains more details on the decoding error
    Map_of_customer_IDs:
      title: Map_of_customer_IDs
      type: object
      properties:
        missing_fields:
          title: Map of transaction IDs
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ValidationMissing'
          description: "A map of transaction IDs to missing fields array. \nIf the\
            \ transaction ID was missing use the request transaction array index to\
            \ identify it. \nSee example\n"
        invalid_fields:
          title: Map of transaction IDs
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ValidationInvalid'
          description: "A map of transaction IDs to invalid fields array. \nIf the\
            \ transaction ID was missing use the request transaction array index to\
            \ identify it. \nSee example\n"
      description: a map of customer IDs to transaction validation errors
    CustomerCreateResponse_data:
      required:
      - customer_context
      - customer_id
      - customer_secret
      type: object
      properties:
        customer_id:
          type: string
          description: "Unique identifier for a Customer, as registered on Bud's platform"
          format: uuid
        customer_secret:
          type: string
          description: "An unique Customer encryption key used to encrypt their data\
            \ on the Bud platform. Please note that this key is not held by Bud, and\
            \ is required in the header of any endpoint that involves reading Customer\
            \ data stored on the Bud platform."
        customer_context:
          $ref: '#/components/schemas/CustomerContext'
    Updated_Customer_Context_Data:
      title: Updated_Customer_Context_Data
      type: object
      properties:
        region:
          $ref: '#/components/schemas/CustomerContextRegion'
        locale:
          $ref: '#/components/schemas/CustomerContextLocale'
    Category_1:
      title: Category
      type: object
      properties:
        name:
          title: Category Name
          type: string
          description: The name of the category.
        subcategories:
          title: Subcategories
          type: array
          description: The respective subcategories for the given category.
          items:
            title: subcategory
            type: object
            properties:
              name:
                title: Subcategory Name
                type: string
                description: The name of the subcategory.
            description: A subcategory that belongs to the given category.
      description: A single category and its respective subcategories.
    CategoriesTotalResponse_data:
      required:
      - categories
      - sub_categories
      type: object
      properties:
        categories:
          type: array
          description: A list of category total objects
          items:
            $ref: '#/components/schemas/CategoryTotalSpend'
        sub_categories:
          type: array
          description: A list of subcategory total objects
          items:
            $ref: '#/components/schemas/CategoryTotalSpend'
      description: Total spend by categories
    BenefitsTotalsResponseV1_data:
      required:
      - benefit
      - total_credit
      type: object
      properties:
        benefit:
          $ref: '#/components/schemas/Benefit'
        total_credit:
          $ref: '#/components/schemas/BudAmount'
    ListAccountsV2Response_metatdata_parameters:
      type: object
      properties:
        currencies:
          type: array
          description: The Currency values supplied in the request to generate the
            given result set.
        account_types:
          type: array
          description: |
            The Account Type values supplied in the request to generate the given result set.

            Currently supported values include (but are not necessarily limited to):
              - `charge_card`
              - `credit_card`
              - `current_account`
              - `e_money`
              - `loan`
              - `mortgage`
              - `pre_paid_card`
              - `savings`
          items:
            type: string
        usage_types:
          type: array
          description: |
            The Usage Type values supplied in the request to generate the given result set.

            Currently supported values include (but are not necessarily limited to):
              - `personal`
              - `business`
          items:
            type: string
        holder_types:
          type: array
          description: |
            The Holder Type values supplied in the request to generate the given result set.

            Currently supported values include (but are not necessarily limited to):
              - `sole`
              - `joint`
              - `delegate`
              - `unknown`
          items:
            type: string
        providers:
          type: array
          description: The Provider values supplied in the request to generate the
            given result set.
          items:
            type: string
    ListAccountsV2Response_metatdata:
      required:
      - parameters
      - result_count
      type: object
      properties:
        parameters:
          $ref: '#/components/schemas/ListAccountsV2Response_metatdata_parameters'
        result_count:
          type: number
          description: The number of accounts returned in the results
    Account_Holder:
      title: Account_Holder
      type: object
      properties:
        name:
          type: string
          description: |
            The name of the given account holder.

            Example: `John Smith`
        relationship:
          type: string
          description: |
            The relationship that the individual holder has with the account. If parties data is not present, this will always be `unknown`.

            Currently supported values include (but are not necessarily limited to):
              - `sole`
              - `joint`
              - `delegate`
              - `unknown`
      description: "The account holder. This field is only present if parties data\
        \ **is not** available.\n\nParties data will only be present if you are a\
        \ Check customer, and the provider is support by Check. \nProviders that support\
        \ Check can be found in the Connect coverage table in Guides, under Connect.\n"
    Account_Holder_1:
      title: Account_Holder
      type: object
      properties:
        name:
          type: string
          description: |
            The name of the given account holder.

            Example: `John Smith`
        relationship:
          type: string
          description: |
            The relationship that the individual holder has with the account. If parties data is not present, this will always be `unknown`

            Currently supported values include (but are not necessarily limited to):
              - `sole`
              - `joint`
              - `delegate`
              - `unknown`
    AccountV2_identifiers:
      type: object
      properties:
        uk_sort_code:
          type: string
          description: |
            A six digit number identifying the UK bank or building society the account is held with. This is usually supplied alongside a `uk_account_number` to uniquely identify the account.

            Example: `601613`
        uk_account_number:
          type: string
          description: |
            An eight digit number uniquely identifying the account for the UK bank or building society the account is held with. This is usually supplied alongside a `uk_sort_code` to uniquely identify the account from accounts with other UK banks or building societies.

            Example: `31926819`
        nz_account_number:
          type: string
          description: |
            A sixteen digit number uniquely identifying the account and New Zealand bank the account is held with.

            Example: `1212341234567123`
        iban:
          type: string
          description: |
            A thirty-four character alphanumerical code (ISO 13616), internationally and uniquely identifying the account.

            Example: `GB29NWBK60161331926819`
        pan:
          type: string
          description: |
            A number between 14 and 19 digits that uniquely identifies the account, this is usually the number printed on the card assigned to the account.

            Example: `4444333322221111`
      description: These are wellknown fields which uniquely identify the account.
    Balance_1:
      title: Balance
      required:
      - amount
      - credit_debit_indicator
      - date
      - type
      type: object
      properties:
        date:
          type: string
          description: |
            The date when the balance was last updated in the format [RFC 3339](https://www.rfc-editor.org/rfc/rfc3339).

            Examples:
              - `2023-01-17T17:29:51Z`
              - `2023-01-17T17:29:51-08:00`
        type:
          type: string
          description: |
            The type for the given balance

            Currently supported values include (but are not necessarily limited to):
              - `closing_available`
              - `closing_booked`
              - `closing_cleared`
              - `expected`
              - `forward_available`
              - `information`
              - `interim_available`
              - `interim_booked`
              - `interim_cleared`
              - `opening_available`
              - `opening_booked`
              - `opening_cleared`
              - `previously_closed_booked`
        amount:
          $ref: '#/components/schemas/BudAmount'
        credit_debit_indicator:
          type: string
          description: The credit or debit state of the given balance
          enum:
          - credit
          - debit
    Credit_Line:
      title: Credit_Line
      required:
      - amount
      - date
      - type
      type: object
      properties:
        date:
          type: string
          description: |
            The date when the credit line was last updated in the format [RFC 3339](https://www.rfc-editor.org/rfc/rfc3339).

            Examples:
              - `2023-01-17T17:29:51Z`
              - `2023-01-17T17:29:51-08:00`
        type:
          type: string
          description: |
            The type of the given credit line.

            Currently supported values include (but are not necessarily limited to):
              - `available`
              - `credit`
              - `emergency`
              - `pre_agreed`
              - `temporary`
        amount:
          $ref: '#/components/schemas/BudAmount'
    GetBalancesResponse_data:
      required:
      - balances
      type: object
      properties:
        account_id:
          type: string
          description: Identifier of the accounts from which the balances have been
            calculated
        balances:
          type: array
          items:
            $ref: '#/components/schemas/BalanceOverTimeDataPoint'
    GetBalancesResponse_metadata:
      type: object
      properties:
        accounts:
          description: This is a hashmap representing account_ids and metadata about
            the results returned from the balances endpoint
          allOf:
          - $ref: '#/components/schemas/BudDateRangeMetadata'
          - type: object
            additionalProperties:
              type: object
              properties:
                balance_count:
                  type: number
                  description: The number of balances returned for the account
              description: Metadata about the response for the given account_id
        parameters:
          title: The parameters used to calculated balances
          allOf:
          - $ref: '#/components/schemas/BudDateRangeMetadata'
          - type: object
            properties:
              granularity:
                type: string
                description: The granularity that the balances have been retrieved
                  for.
    GetBalancesForAccountIDResponse_metadata:
      type: object
      properties:
        account:
          description: Metadata about the response for the given account_id
          allOf:
          - $ref: '#/components/schemas/BudDateRangeMetadata'
          - type: object
            properties:
              balance_count:
                type: number
                description: The number of balances returned for the account
        parameters:
          allOf:
          - $ref: '#/components/schemas/BudDateRangeMetadata'
          - type: object
            properties:
              granularity:
                type: string
                description: The granularity that the balances have been retrieved
                  for.
              account_id:
                type: string
                description: The account ID the balances have been retrieved for.
    TransactionAttributesClientLabelsRequest_inner:
      required:
      - match_attributes
      - set_attribute
      type: object
      properties:
        match_attributes:
          type: array
          description: Detailing the attributes and criteria from which to match against
            a customer's transactions.
          items:
            required:
            - name
            - type
            - value
            type: object
            properties:
              type:
                type: string
                description: The type of matching to be done to the transaction attribute
                  in question.
                enum:
                - exact
              name:
                type: string
                description: |
                  | Name of Transaction Attribute | Description                    |
                  |:-------------------------|:-----------------------------------------|
                  | `cdi`         | Credit Debit Indicator of the transcation |
                  | `amount`| The transaction amount    |
                  | `currency` | The transaction currency |
                  | `description` | The transaction description |
                enum:
                - cdi
                - amount
                - currency
                - description
              value:
                type: string
                description: The value of the transaction attribute that will be used
                  to match.
        set_attribute:
          required:
          - values
          type: object
          properties:
            values:
              type: array
              description: An array of values that can be set against the `client_labels`
                attribute if the above matching criteria are triggered.
              items:
                type: string
                description: Free text defining one of the values of the `client_label`
                  attribute
          description: Details on the value(s) of the client label attribute based
            on the result of the matching criteria.
    TransactionAttributesClientLabelsResponse_data:
      required:
      - rules_created
      type: object
      properties:
        rules_created:
          type: integer
          description: The number of rules created in the above request
    FutureTransactionV2Response_metadata_change_percentages:
      required:
      - l2
      - value
      type: object
      properties:
        l2:
          type: string
          description: The l2 category that a percentage change has been applied to
          example: bills
        value:
          type: number
          description: The percentage of change that has been applied to the given
            l2 category
          example: 2.0
    FutureTransactionV2Response_metadata:
      required:
      - months
      - results
      type: object
      properties:
        results:
          type: number
          description: The number of different upcoming transactions that have been
            found
        months:
          type: number
          description: The number of months for which the upcoming transactions have
            been projected
        change_percentages:
          type: array
          description: A list of all of the percentage value changes that have been
            applied to different Level 2 tegories
          items:
            $ref: '#/components/schemas/FutureTransactionV2Response_metadata_change_percentages'
    FutureTransactionV2_future_transactions:
      required:
      - date
      type: object
      properties:
        date:
          type: string
          description: "The next date at which the future transaction will occur in\
            \ the following format, 'Year-Month-Day'. E.g '2019-07-01'"
        amount:
          $ref: '#/components/schemas/BudAmount'
      description: Dates and amounts of the predicted future occurrences
    IncomeTransactionEnrichmentsV1_categoriser_categories:
      required:
      - category_name
      - confidence
      - label
      type: object
      properties:
        category_name:
          type: string
          description: Internal name (identifier) of the category
        confidence:
          type: string
          description: The level of certainty that the model has predicted the category
        label:
          type: string
          description: Humanised category name
      description: "The details in relation to the first category level, as taken\
        \ from the output of Bud's categorsiation service."
    IncomeTransactionEnrichmentsV1_categoriser_subcategories:
      required:
      - confidence
      - label
      - subcategory_name
      type: object
      properties:
        subcategory_name:
          type: string
          description: Internal name (identifier) of the subcategory
        confidence:
          type: string
          description: The level of certainty that the model has predicted the subcategory
        label:
          type: string
          description: Humanised subcategory name
      description: "The details in relation to the second category level, as taken\
        \ from the output of Bud's categorsiation service."
    IncomeTransactionEnrichmentsV1_categoriser:
      type: object
      properties:
        categories:
          type: array
          description: Details on the Level One category associated with the transaction
          items:
            $ref: '#/components/schemas/IncomeTransactionEnrichmentsV1_categoriser_categories'
        subcategories:
          type: array
          description: Details on the Level Two category associated with the transaction
          items:
            $ref: '#/components/schemas/IncomeTransactionEnrichmentsV1_categoriser_subcategories'
        l3:
          type: array
          description: Details on the Level Three category associated with the transaction
          items:
            $ref: '#/components/schemas/CategoriserCategory'
      description: Results from Bud's Categorisation Service
    Income_Finder_Response_Data:
      title: Income_Finder_Response_Data
      required:
      - statistics
      - transactions
      type: object
      properties:
        transactions:
          title: Income Transactions
          type: array
          items:
            $ref: '#/components/schemas/IncomeTransactionV2'
        statistics:
          $ref: '#/components/schemas/IncomeStatistics'
    Categoriser_Enrichment:
      title: Categoriser_Enrichment
      required:
      - l1
      - l2
      - l3
      type: object
      properties:
        l1:
          type: array
          description: Details on the Level One category associated with the transaction
          items:
            $ref: '#/components/schemas/CategoriserCategory'
        l2:
          type: array
          description: Details on the Level Two category associated with the transaction
          items:
            $ref: '#/components/schemas/CategoriserCategory'
        l3:
          type: array
          description: Details on the Level Three category associated with the transaction
          items:
            $ref: '#/components/schemas/CategoriserCategory'
      description: Results from Bud's Categorisation Service
      nullable: true
    Loan_Finder_Response_Data:
      title: Loan_Finder_Response_Data
      required:
      - statistics
      - transactions
      type: object
      properties:
        transactions:
          title: Loan Transactions
          type: array
          items:
            $ref: '#/components/schemas/LoanTransactionV1'
        statistics:
          $ref: '#/components/schemas/LoanStatistics'
    Debt_Collection_Finder_Response_Data:
      title: Debt_Collection_Finder_Response_Data
      required:
      - statistics
      - transactions
      type: object
      properties:
        transactions:
          title: Debt Collection Transactions
          type: array
          items:
            $ref: '#/components/schemas/DebtCollectionTransaction'
        statistics:
          $ref: '#/components/schemas/DebtCollectionStatistics'
    Financial_Product_Merchant:
      title: Financial_Product_Merchant
      required:
      - id
      - logo
      - name
      type: object
      properties:
        id:
          type: string
          description: A unique ID for the merchant.
        name:
          type: string
          description: The merchant's name in a displayable format.
        logo:
          type: string
          description: The merchant's logo image URL location.
      description: Details of the merchant providing the Financial Product.
    Financial_Product:
      title: Financial_Product
      required:
      - amount
      - merchant
      - period
      - type
      type: object
      properties:
        type:
          title: Financial_Product_Type
          type: array
          description: |
            A list of the types products and services identified for the given Financial Product. Potential values could be (but not limited to):
              - `loan`
              - `bnpl`
              - `mortgage`
              - `insurance`
              - `store_card`
              - `credit_card`
              - `private_pension`
              - `savings_and_investment`
          items:
            type: string
        merchant:
          $ref: '#/components/schemas/Financial_Product_Merchant'
        amount:
          $ref: '#/components/schemas/BudAmount'
        period:
          title: Transaction Period
          type: string
          description: |
            The period between each transaction for the given product. Possible values are:
            - `daily` -  This product is charged once a day.
            - `weekly` - This product is charged once a week.
            - `biweekly` - This product is charged once every two weeks.
            - `monthly` - This product is charged once a monthy.
            - `quarterly` - This product is charged once a quater (every 3 months).
            - `six_monthly` - product is charged every six months.
            - `annually` - This product is charged once a year.
            - `unknown` - It is unknown how frequently this product is charged.
          enum:
          - daily
          - weekly
          - biweekly
          - monthly
          - quarterly
          - six_monthly
          - annually
          - unknown
      description: A Financial Product that a customer uses.
    Subscription_categories:
      required:
      - l1
      - l2
      type: object
      properties:
        l1:
          type: string
          description: Details on the Level One category associated with the subscription
        l2:
          type: string
          description: Details on the Level Two category associated with the subscription
      description: Categories of the subscription
    Subscription_merchant:
      required:
      - id
      - logo
      - name
      type: object
      properties:
        id:
          type: string
          description: A unique ID for the identified merchant.
        name:
          type: string
          description: The clean name of the identified merchant.
        logo:
          type: string
          description: The merchant's logo image URL location.
      description: Details surrounding the identified merchant of the transaction
        (this field will be omitted if a merchant is not detected)
    Metadata:
      title: Metadata
      required:
      - status
      type: object
      properties:
        status:
          $ref: '#/components/schemas/TaskStatus'
    AffordabilitySpendRequestSchema_inner:
      required:
      - name
      - transaction_categories
      type: object
      properties:
        name:
          type: string
          description: The name of a requested spend group
        transaction_categories:
          type: array
          description: The specified categories underlying a given spend group. These
            categories are dependent on your region. Please contact Bud for more details.
          items:
            type: string
    AffordabilityReport_months_assessed:
      required:
      - end
      - start
      properties:
        start:
          type: string
          description: Date (YYYY-MM) from which the calculation should be returned
            from
        end:
          type: string
          description: Date (YYYY-MM) from which the calculation should be returned
            to
      description: Details the start and end dates for which the affordability calculation
        has been run
    AffordabilityReport_accounts_missing_data:
      required:
      - expenditure
      - income
      properties:
        income:
          type: boolean
          description: Specifies if there is enough data to determine customer's income.
        expenditure:
          type: boolean
          description: Specifies if there is enough data to determine customer's expenditure.
      description: Data from the customer that is deemed (in)sufficient for making
        assessments.
    AffordabilityReport_accounts:
      required:
      - connected
      - holder_names
      - missing_data
      properties:
        connected:
          type: integer
          description: Number of accounts connected.
        holder_names:
          type: array
          description: Account holder names associated to connected accounts.
          items:
            type: string
        missing_data:
          $ref: '#/components/schemas/AffordabilityReport_accounts_missing_data'
      description: Information surrounding a given Customer's Open Banking Account(s)
    AffordabilityReport_assessment_income:
      required:
      - net_discretionary
      - net_disposable
      properties:
        net_disposable:
          allOf:
          - description: Income -- excluding benefits -- after taxes
          - $ref: '#/components/schemas/MonthlyPrediction'
        net_discretionary:
          allOf:
          - description: Net disposable income subtract essential expenditure
          - $ref: '#/components/schemas/MonthlyIncomeExpenditurePrediction'
      description: Detailing transactions linked to a customers income
    AffordabilityReport_assessment_expenditure:
      required:
      - essential
      - fixed
      - flexible
      - non_essential
      properties:
        fixed:
          description: An expense that is a fixed amount each month
          allOf:
          - $ref: '#/components/schemas/MonthlyPrediction'
        flexible:
          description: A regular expense that differs in amount each month
          allOf:
          - $ref: '#/components/schemas/MonthlyRangePrediction'
        essential:
          description: "An expense that is not optional for a customer to pay, but\
            \ isn’t necessarily the same in £ amount each month."
          allOf:
          - $ref: '#/components/schemas/MonthlyPrediction'
        non_essential:
          description: "An expense that a customer does not necessarily need to make\
            \ per month, and isn’t necessarily the same in £ amount each month."
          allOf:
          - $ref: '#/components/schemas/MonthlyPrediction'
      description: Detailing transactions linked to a customers expenditure
    AffordabilityReport_assessment:
      required:
      - expenditure
      - income
      properties:
        income:
          $ref: '#/components/schemas/AffordabilityReport_assessment_income'
        expenditure:
          $ref: '#/components/schemas/AffordabilityReport_assessment_expenditure'
      description: A breakdown of a customers income and expenditure.
    MonthlyRangePrediction_predicted_monthly_range:
      required:
      - average
      - high
      - low
      properties:
        low:
          $ref: '#/components/schemas/BudAmount'
        high:
          $ref: '#/components/schemas/BudAmount'
        average:
          $ref: '#/components/schemas/BudAmount'
    CheckCompanyRequest_company_phone:
      type: object
      properties:
        number:
          type: string
        type:
          type: string
          enum:
          - mobile
          - landline
    CheckCompanyRequest_company:
      type: object
      properties:
        description:
          type: string
        name:
          type: string
        phone:
          $ref: '#/components/schemas/CheckCompanyRequest_company_phone'
        registered:
          $ref: '#/components/schemas/KYCAddress'
        registration_number:
          type: string
        tax_number:
          type: string
        trading:
          $ref: '#/components/schemas/KYCAddress'
        type:
          type: string
        vat_number:
          type: string
        website:
          type: string
    Person_bank_account:
      type: object
      properties:
        account_number:
          type: string
        sort_code:
          type: string
    Person_identification_details:
      type: object
      properties:
        issuing_country:
          type: string
        number:
          type: string
        type:
          type: string
          enum:
          - passport
          - driving_licence
          - residence_permit
          - visa
          - id_card
    CustomData_inner:
      type: object
      properties:
        key:
          type: string
          description: Key for the custom section.
        value:
          type: string
          description: Value for the custom section.
    CheckResponseCheckId_data:
      type: object
      properties:
        check_uuid:
          type: string
    BadKycRequestResponse_error_errorDetail:
      type: object
      properties:
        field:
          type: string
          description: Field that has gone wrong
        message:
          type: string
          description: Detail message for the error
    BadKycRequestResponse_error:
      type: object
      properties:
        code:
          type: string
          description: This will contain the Northrow error code. Reserved for future
            releases.
        error:
          type: string
          description: This will contain the Northrow error code. Reserved for future
            releases.
        errorDetail:
          type: array
          description: Detail for the error.
          items:
            $ref: '#/components/schemas/BadKycRequestResponse_error_errorDetail'
        path:
          type: string
          description: The endpoint that has failed.
        status:
          type: integer
          description: HTTP Status code
        timestamp:
          type: string
          description: Timestamp for the error
    CheckStatusResponse_alerts:
      type: object
      properties:
        category:
          type: string
          description: "Category of the alert. Valid values are: Person,Company,ID,Other,Risk."
          enum:
          - Person
          - Company
          - ID
          - Other
          - Risk
        crid:
          type: string
          description: Unique NorthRow rule ID of the alert.
        message:
          type: string
          description: Description of the alert.
        score:
          type: integer
          description: Score of the alert.
        type:
          type: string
          description: "Type of the alert. Valid values are: alert, info, verification."
          enum:
          - alert
          - info
          - verification
    CheckStatusResponse_profile:
      type: object
      properties:
        name:
          type: string
          description: Profilename of the profile used in the check.
        uuid:
          type: string
          description: ProfileUUID of the profile used in the check.
    Bud_Pay_URL:
      title: Bud_Pay_URL
      required:
      - bud_pay_url
      - payment_id
      properties:
        bud_pay_url:
          type: string
          description: "A Bud Pay URL, allowing Customers to complete (authenticate)\
            \ a relevant payment resource with the relevant payment service provider."
        payment_id:
          type: string
          description: Unique identifier for the payment
      description: Bud Pay URL Object
    PaymentStatusUpdatedNotificationBody_data:
      required:
      - event
      - payment_id
      - service
      - user_id
      properties:
        payment_id:
          type: string
          description: The payment ID to which this event is associated
          example: 19677d9f-90e7-44a6-a32e-566990623da4
        service:
          type: string
          description: The type of payment to which this event is related
          enum:
          - domestic-single-payment
          - domestic-scheduled-payment
          - domestic-standing-order
        user_id:
          type: string
          description: The sender.user_id provided when the payment was created
          example: 19677d9f-90e7-44a6-a32e-566990623da4
        event:
          type: string
          description: The event related to the payment
          enum:
          - payment.success
          - payment.failure
      description: Request which is sent to the subscribed URL when the status related
        to a payment has changed
    ListSinglePaymentResponse_metadata:
      required:
      - page
      - results
      - total_pages
      - total_results
      type: object
      properties:
        total_results:
          type: integer
          description: The total number of payment results for the request
        results:
          type: integer
          description: The number of payment results currently displayed on the page
        page:
          type: integer
          description: The current page number
        total_pages:
          type: integer
          description: The total number of pages for the request
      description: Metadata for the response including pagination details
    SinglePaymentStatus_state_history:
      required:
      - code
      - datetime
      - message
      type: object
      properties:
        datetime:
          type: string
          description: A datetime string ISO 8601 defining the date and time at which
            the state change occurred
        code:
          $ref: '#/components/schemas/StatusCodeEnum'
        message:
          $ref: '#/components/schemas/StatusMessageEnum'
    SinglePaymentStatus_state:
      required:
      - history
      - status_code
      - status_message
      type: object
      properties:
        status_code:
          $ref: '#/components/schemas/StatusCodeEnum'
        status_message:
          $ref: '#/components/schemas/StatusMessageEnum'
        history:
          type: array
          items:
            $ref: '#/components/schemas/SinglePaymentStatus_state_history'
      description: Details of the payment state and history
    SinglePaymentStatus_supplementary_status:
      required:
      - confirmation_of_funds
      - consent
      - payment_order
      type: object
      properties:
        payment_order:
          $ref: '#/components/schemas/SupplementaryStatusDetail'
        consent:
          $ref: '#/components/schemas/SupplementaryStatusDetail'
        confirmation_of_funds:
          $ref: '#/components/schemas/SupplementaryStatusDetail'
      description: A list of supplementary states associated with the payment as described
        by the specific provider
    Payment_Error:
      title: Payment_Error
      required:
      - code
      - description
      type: object
      properties:
        code:
          type: string
          description: Error Code
        description:
          type: string
          description: Text string used to give a description of the payment error
      description: Details surrounding any error that may be associated with the payment
    KnownCharges_recipient_charge:
      required:
      - charge
      - currency
      - recipient_receives
      type: object
      properties:
        charge:
          type: string
          description: A number of monetary units specified in an active currency
            where the unit of currency is explicit and compliant with ISO 4217.
        currency:
          type: string
          description: "A code allocated to a currency by a Maintenance Agency under\
            \ an international identification scheme, as described in the latest edition\
            \ of the international standard ISO 4217 \"Codes for the representation\
            \ of currencies and funds\""
        recipient_receives:
          type: string
          description: A number of monetary units specified in an active currency
            where the unit of currency is explicit and compliant with ISO 4217.
      description: The charge details applied to the recipient
    KnownCharges_sender_charge:
      required:
      - bank_sends
      - charge
      - currency
      - total_cost
      type: object
      properties:
        charge:
          type: string
          description: A number of monetary units specified in an active currency
            where the unit of currency is explicit and compliant with ISO 4217.
        currency:
          type: string
          description: "A code allocated to a currency by a Maintenance Agency under\
            \ an international identification scheme, as described in the latest edition\
            \ of the international standard ISO 4217 \"Codes for the representation\
            \ of currencies and funds\""
        bank_sends:
          type: string
          description: A number of monetary units specified in an active currency
            where the unit of currency is explicit and compliant with ISO 4217.
        total_cost:
          type: string
          description: A number of monetary units specified in an active currency
            where the unit of currency is explicit and compliant with ISO 4217.
      description: The charge details applied by the sender
    SupplementaryStatusDetail_history:
      required:
      - datetime
      - status
      type: object
      properties:
        datetime:
          type: string
          description: A datetime string (ISO 8601) defining the date and time at
            which the state change occurred
        status:
          type: string
          description: The status message
    SinglePaymentResponse_data:
      required:
      - authorisation_url
      - payment_id
      type: object
      properties:
        authorisation_url:
          type: string
          description: The authorisation URL for a relevant payment provider. Redirect
            your Customer to this url to allow them to authorise their payment
        payment_id:
          type: string
          description: Unique identifier for the single payment resource
        required_action:
          type: string
          description: |
            If present, this fild will indicate the next required action (if any) to be taken by the client in order to complete the payment flow

            | Value  |  Description |
            |:-------|:-------------|
            | confirm_single_payment | Indicates that the client must confirm the single payment using the Confirm Single Payment endpoint in order to complete the payment flow. |
          enum:
          - confirm_single_payment
      description: Single Payment Response
    PaymentsAuthorisationCodesResponse_data:
      type: object
      properties:
        result:
          type: string
          enum:
          - success
          - auth_invalid
          - auth_expired
          - provider_failure
          - internal_error
        payment_id:
          type: string
          description: Payment Identifier
        payment_type:
          type: string
          description: The type of payment iniated through Bud's Payments Service
          enum:
          - single
          - scheduled
          - standing-order
      description: Details regarding the response object for the authorisation codes
        response.
    ListStandingOrderResponse_metadata:
      required:
      - page
      - results
      - total_pages
      - total_results
      type: object
      properties:
        total_results:
          type: integer
          description: The total number of payment results for the request
        results:
          type: integer
          description: The number of payment results currently displayed on the page
        page:
          type: integer
          description: The current page number
        total_pages:
          type: integer
          description: The total number of pages for the request
      description: Metadata associated with response
    StandingOrderData_state_history:
      required:
      - code
      - datetime
      - message
      type: object
      properties:
        datetime:
          type: string
        code:
          $ref: '#/components/schemas/StandingOrderStatusCodeEnum'
        message:
          $ref: '#/components/schemas/StandingOrderStatusMessageEnum'
    StandingOrderData_state:
      required:
      - history
      - status_code
      - status_message
      type: object
      properties:
        status_code:
          $ref: '#/components/schemas/StandingOrderStatusCodeEnum'
        status_message:
          $ref: '#/components/schemas/StandingOrderStatusMessageEnum'
        history:
          type: array
          items:
            $ref: '#/components/schemas/StandingOrderData_state_history'
    StandingOrderData_errors:
      required:
      - code
      - description
      type: object
      properties:
        code:
          type: string
          description: Error Code
        description:
          type: string
          description: Text string used to give a description of the payment error
    CreateStandingOrderResponse_data:
      required:
      - authorisation_url
      - payment_id
      type: object
      properties:
        payment_id:
          type: string
          description: Payment Identifier
        authorisation_url:
          type: string
          description: The authorisation URL for a relevant payment provider. Redirect
            your Customer to this url to allow them to authorise the Standing Order
        required_action:
          type: string
          description: |
            If present, this fild will indicate the next required action (if any) to be taken by the client in order to complete the payment flow

            | Value  |  Description |
            |:-------|:-------------|
            | confirm_standing_order | Indicates that the client must confirm the standing order using the Confirm Standing Order endpoint in order to complete the payment flow. |
          enum:
          - confirm_standing_order
      description: Standing Order Response Object
    ScheduledPaymentData_state_history:
      required:
      - code
      - datetime
      - message
      type: object
      properties:
        datetime:
          type: string
        code:
          $ref: '#/components/schemas/ScheduledPaymentStatusCodeEnum'
        message:
          $ref: '#/components/schemas/ScheduledPaymentStatusMessageEnum'
    ScheduledPaymentData_state:
      required:
      - history
      - status_code
      - status_message
      type: object
      properties:
        status_code:
          $ref: '#/components/schemas/ScheduledPaymentStatusCodeEnum'
        status_message:
          $ref: '#/components/schemas/ScheduledPaymentStatusMessageEnum'
        history:
          type: array
          items:
            $ref: '#/components/schemas/ScheduledPaymentData_state_history'
    CreateScheduledPaymentResponse_data:
      required:
      - authorisation_url
      - payment_id
      type: object
      properties:
        payment_id:
          type: string
          description: Payment Identifier
        authorisation_url:
          type: string
          description: The authorisation URL for a relevant payment provider. Redirect
            your Customer to this url to allow them to authorise the scheduled instruction
        required_action:
          type: string
          description: |
            If present, this fild will indicate the next required action (if any) to be taken by the client in order to complete the payment flow

            | Value  |  Description |
            |:-------|:-------------|
            | confirm_scheduled_payment | Indicates that the client must confirm the scheduled payment using the Confirm Scheduled Payment endpoint in order to complete the payment flow. |
          enum:
          - confirm_scheduled_payment
      description: Scheduled Payment Response Object
    CannotCoverBillsMoneyManagementDetails_transactions:
      required:
      - account_id
      - amount
      - category_l1
      - category_l2
      - category_l3
      - credit_debit_indicator
      - date
      - description
      - label
      - provider
      type: object
      properties:
        account_id:
          type: string
          description: A unique identifier for the Customer bank account
        description:
          type: string
          description: The raw transaction reference e.g. "bank transfer"
        provider:
          type: string
          description: The name of the relevant provider relevant to the source of
            the original transaction data
        date:
          type: string
          description: The timestamp of when the transaction is expected to be booked
            in the format `YYYY-MM-DD`
        label:
          type: string
          description: The recurring transaction group identifier associating one
            set of regular transactions e.g. all Spotify transactions that are regular
            by the same monthly period will share the same label. This label comes
            from the group used to predict this upcoming transaction.
        credit_debit_indicator:
          type: string
          description: Indication as to whether the transaction was a credit or debit
          enum:
          - Credit
          - Debit
        amount:
          allOf:
          - description: The predicted transaction amount
          - $ref: '#/components/schemas/BudAmount'
        merchant:
          $ref: '#/components/schemas/NullableMerchant'
        category_l1:
          type: string
          description: The name of the category returned by the Bud categorisation
            model.
        category_l2:
          type: string
          description: The name of the subcategory returned by the Bud categorisation
            model.
        category_l3:
          type: string
          description: The name of the 3rd level category returned by the Bud categorisation
            model.
    RegularPaymentChangedMoneyManagementDetails_transactions:
      required:
      - account_id
      - amount
      - credit_debit_indicator
      - date
      - description
      - merchant
      - transaction_id
      type: object
      properties:
        account_id:
          type: string
          description: The unique identifier of the account associated with the transaction.
        transaction_id:
          type: string
          description: Unique identifier of the transaction.
        description:
          type: string
          description: The transaction description string.
        date:
          type: string
          description: The date of the transaction in YYYY-MM-DD format.
        label:
          type: string
          description: The recurring transaction group identifier associating one
            set of regular transactions e.g. all "Spotify" transactions that are regular
            by the same monthly period will share the same label.
        credit_debit_indicator:
          type: string
          description: Indicates whether the transaction is a credit or a debit entry.
          enum:
          - Credit
          - Debit
        amount:
          $ref: '#/components/schemas/BudAmount'
        merchant:
          $ref: '#/components/schemas/Merchant_1'
        l1_category_name:
          type: string
          description: The name of the category returned by the Bud categorisation
            model.
        l2_category_name:
          type: string
          description: The name of the subcategory returned by the Bud categorisation
            model.
        l3_category_name:
          type: string
          description: The name of the 3rd level category returned by the Bud categorisation
            model.
    ParentCustomerCharacteristicDetails_outgoing_categories:
      type: object
      properties:
        spending:
          $ref: '#/components/schemas/BudAmount'
        spending_ratio:
          oneOf:
          - type: "null"
          - type: string
        merchants:
          oneOf:
          - type: "null"
          - type: array
            items:
              type: string
    StudentLoanCustomerCharacteristicDetails_incoming_categories:
      type: object
      properties:
        incoming:
          $ref: '#/components/schemas/BudAmount'
        expenditure_ratio:
          oneOf:
          - type: "null"
          - type: string
        merchants:
          oneOf:
          - type: "null"
          - type: array
            items:
              type: string
      description: |
        An object keyed by an L3 category that triggered the characteristic that summarises
        all the incoming transactions which fall under the category.
  parameters:
    ClientId:
      name: X-Client-Id
      in: header
      description: The API Client Identifier (Service Application Identifier).
      required: true
      schema:
        type: string
    OBProvidersQueryTypeFilter:
      name: types
      in: query
      description: "A comma separated list of Bud support provider types to be shown.\
        \ If no filter is applied, all the providers are returned."
      required: false
      schema:
        type: string
        enum:
        - sandbox
        - business
        - retail
    CustomerId:
      name: X-Customer-Id
      in: header
      description: Bud Customer identifier
      required: true
      schema:
        type: string
        format: uuid
    CustomerSecret:
      name: X-Customer-Secret
      in: header
      description: Bud Customer secret
      required: true
      schema:
        type: string
    SignatureHeaderParameter:
      name: X-Signature
      in: header
      description: The signed request body JWT
      required: true
      schema:
        type: string
    SigningIdHeaderParameter:
      name: X-Signing-ID
      in: header
      description: The public key ID which should be used to verify the X-Signature
        header. Bud's list of public keys can be found at https://assets.thisisbud.com/bud-callback.jwks
      required: true
      schema:
        type: string
    TaskId:
      name: task_id
      in: path
      description: Bud Task identifier
      required: true
      schema:
        type: string
        format: uuid
    ConnectionTaskId:
      name: connection_task_id
      in: path
      description: Unique identifier related to a specific connection task
      required: true
      schema:
        type: string
        format: uuid
    CustomerSecretOptional:
      name: X-Customer-Secret
      in: header
      description: Bud Customer secret
      required: false
      schema:
        type: string
    ConsentStatus:
      name: status
      in: query
      description: "Filter connections by connection status. When ommited, only active\
        \ Authorised connections will be shown."
      required: false
      schema:
        type: string
        enum:
        - all
    ConsentId:
      name: consent_id
      in: path
      description: Bud Consent identifier
      required: true
      schema:
        type: string
    IngestAccountsContentType:
      name: Content-Type
      in: header
      description: Define the transactions' format for this request.
      required: true
      schema:
        type: string
        enum:
        - application/bud-accounts+json
    IngestTransactionsContentType:
      name: Content-Type
      in: header
      description: Define the transactions' format for this request.
      required: true
      schema:
        type: string
        enum:
        - application/bud-transaction-v2+json
    IngestTransactionsV2ContentType:
      name: Content-Type
      in: header
      description: Define the transactions' format for this request.
      required: true
      schema:
        type: string
        enum:
        - application/bud-transaction-v3+json
        - application/bud-transaction-v2+json
    DisableSynchronous:
      name: X-Disable-Synchronous
      in: header
      description: "If provided as true, the task will not be processed synchronously"
      schema:
        type: string
        enum:
        - "true"
    HeaderFrom:
      name: X-From
      in: header
      description: "Date (YYYY-MM-DD) from which the transactions should be returned\
        \ from, this works in pair with the 'X-To' parameter"
      required: false
      schema:
        type: string
      example: 2022-02-28
    HeaderTo:
      name: X-To
      in: header
      description: "Date (YYYY-MM-DD) from which the transactions should be returned\
        \ to, this works in pair with the 'X-From' parameter"
      required: false
      schema:
        type: string
      example: 2022-03-30
    From:
      name: X-From
      in: header
      description: Transaction from date
      schema:
        type: string
      example: 2022-01-29
    To:
      name: X-To
      in: header
      description: Transaction to date
      schema:
        type: string
      example: 2022-03-29
    MerchantsTotalsIncludeCategories:
      name: X-Include-Categories
      in: header
      description: Comma-separated list of transaction categories to include in the
        total
      schema:
        type: string
      example: "shopping,entertainment"
    MerchantsTotalsExcludeCategories:
      name: X-Exclude-Categories
      in: header
      description: Comma-separated list of transaction categories to exclude from
        the total
      schema:
        type: string
      example: "bills,finances"
    QueryCurrency:
      name: currency
      in: query
      description: Use this parameter to filter the results returned on the `currency`
        associated with each result. Multiple values are accepted. If this parameter
        is not provided then results of any `currency` will be returned.
      schema:
        type: string
      example: GBP
    QueryProvider:
      name: provider
      in: query
      description: Use this parameter to filter the results returned on the `provider`
        associated with each result. Multiple values are accepted. If this parameter
        is not provided then results of any `provider` will be returned."
      schema:
        type: string
      example: BankOfBud
    PathAccountID:
      name: account_id
      in: path
      description: The account ID to retrieve data for.
      required: true
      schema:
        type: string
    QueryFromBudDate:
      name: from
      in: query
      description: |
        The date from when results are to be retrieved in the format [RFC 3339](https://www.rfc-editor.org/rfc/rfc3339).

        Examples:
          - `2023-01-17T17:29:51Z`
          - `2023-01-17T17:29:51-08:00`
      schema:
        type: string
      example: 2019-02-29T12:23:00Z
    QueryToBudDate:
      name: to
      in: query
      description: |
        The date up to when results are to be retrieved in the format [RFC 3339](https://www.rfc-editor.org/rfc/rfc3339).

        Examples:
          - `2023-03-17T17:29:51Z`
          - `2023-03-17T17:29:51-08:00`
      schema:
        type: string
      example: 2019-02-29T12:23:00Z
    OBAccountId:
      name: X-Account-Id
      in: header
      description: The identifier of the Open Banking Account to retrieve
      required: false
      schema:
        type: string
    OBProvider:
      name: provider
      in: path
      description: Name of the provider (banking institution)
      required: true
      schema:
        type: string
    FutureTransactionsMonthsProjection:
      name: months
      in: query
      description: "To specify how many months we return the prediction for, the default\
        \ is 3 months."
      required: false
      schema:
        type: integer
        default: 3
      example: 6
    FutureTransactionsChangePercentage:
      name: "change_percentage[subcategory]"
      in: query
      description: "To set a percentage value used in the calculation of the forecasted\
        \ amount for the future transactions categorised with specific transaction\
        \ subcategory; for example `change_percentage[loans]=2.0`. This can be a positive\
        \ or negative float number. To apply the same percentage to all transactions\
        \ use the `subcategory=all`."
      required: false
      schema:
        type: string
        default: "change_percentage[all]=0.0"
    QueryFromDate:
      name: from
      in: query
      description: "Filter from this date (format: `YYYY-MM-DD`)."
      schema:
        type: string
      example: 2019-02-29
    QueryToDate:
      name: to
      in: query
      description: "Filter to this date (format: `YYYY-MM-DD`)."
      schema:
        type: string
      example: 2019-02-29
    HeaderFromSpendingGroups:
      name: X-From
      in: header
      description: "Date (`YYYY-MM-DD`) from which the transactions should be returned\
        \ from, this works in pair with the `X-To` parameter. This X-From format of\
        \ (YYYY-MM-DD) will still be backwards compatiable for 3 months see the release\
        \ notes for more details."
      required: false
      schema:
        type: string
      example: 2022-02-28
    HeaderToSpendingGroups:
      name: X-To
      in: header
      description: "Date (`YYYY-MM-DD`) from which the transactions should be returned\
        \ to, this works in pair with the `X-From` parameter. This X-To format of\
        \ (YYYY-MM-DD) will still be backwards compatiable for 3 months see the release\
        \ notes for more details."
      required: false
      schema:
        type: string
      example: 2022-03-30
    FromMonthSpendingGroups:
      name: X-From-Month
      in: header
      description: "Month (`YYYY-MM`) from which the transactions should be returned\
        \ from, this works in pair with the `X-To` parameter. This X-From-Month format\
        \ of (YYYY-MM) will become the default format in 3 months see the release\
        \ notes for more details."
      required: false
      schema:
        type: string
      example: 2019-02
    ToMonthSpendingGroups:
      name: X-To-Month
      in: header
      description: "Month (`YYYY-MM`) from which the transactions should be returned\
        \ to, this works in pair with the `X-From` parameter. This X-To-Month format\
        \ of (YYYY-MM) will become the default format in 3 months see the release\
        \ notes for more details."
      required: false
      schema:
        type: string
      example: 2019-03
    HeaderCurrency:
      name: X-Currency
      in: header
      description: ISO code for the currency of the transactions that will be aggregated
        over.
      required: false
      schema:
        type: string
        default: GBP
      example: GBP
    URLMonthFrom:
      name: month_from
      in: query
      description: "Month (`YYYY-MM`) from which the transactions should be returned\
        \ from, this works in pair with the `month_to` parameter."
      required: false
      schema:
        type: string
      example: 2019-02
    URLMonthTo:
      name: month_to
      in: query
      description: "Month (`YYYY-MM`) from which the transactions should be returned\
        \ to, this works in pair with the `month_from` parameter."
      required: false
      schema:
        type: string
      example: 2019-03
    DateFrom:
      name: date_from
      in: query
      schema:
        $ref: '#/schemas/DateTimeISO8601'
    DateTo:
      name: date_to
      in: query
      schema:
        $ref: '#/schemas/DateTimeISO8601'
    Criteria:
      name: criteria
      in: query
      schema:
        type: array
        items:
          $ref: '#/components/schemas/AffordabilityCriteria'
    PaymentProviderRegionFilter:
      name: country
      in: query
      description: Country filter as a comma separated list of country codes following
        the ISO 3166 alpha-3 code format.
      schema:
        type: string
      example: "GBR,DEU"
    PaymentProviderServiceFilter:
      name: product
      in: query
      description: Product filter as a comma separated list of bud supported products
      schema:
        $ref: '#/schemas/PaymentServices'
    PaymentProviderTypeFilter:
      name: type
      in: query
      description: "A comma separated list of Bud support provider types to be shown.\
        \ If no filter is applied, all the providers are returned."
      required: false
      schema:
        type: string
        enum:
        - sandbox
        - business
        - retail
    PaymentIdHeader:
      name: X-Payment-Id
      in: header
      description: Payment ID filter
      required: false
      schema:
        type: string
      example: 84470aa9-71a2-4da2-8fa4-660adbf2c9b2
    PageNumber:
      name: X-Page-Number
      in: header
      description: Page number filter
      required: false
      schema:
        type: string
      example: "1"
    PaymentSenderProviders:
      name: X-Sender-Providers
      in: header
      description: comma separated list of providers name filter
      required: false
      schema:
        type: string
      example: "Lloyds,Nationwide"
    PaymentStatusCodes:
      name: X-Status-Codes
      in: header
      description: comma separated list of status codes filter
      required: false
      schema:
        type: string
      example: "CREATED,SETTLED"
    PaymentDateFrom:
      name: X-Date-From
      in: header
      description: Date from filter
      schema:
        type: string
      example: 2020-06-01T15:00:00Z
    PaymentDateTo:
      name: X-Date-To
      in: header
      description: Date to filter
      schema:
        type: string
      example: 2020-06-01T15:00:00Z
    PaymentAmountFrom:
      name: X-Amount-From
      in: header
      description: Amount from filter
      required: false
      schema:
        type: string
      example: "10.00"
    PaymentAmountTo:
      name: X-Amount-To
      in: header
      description: Amount to filter
      required: false
      schema:
        type: string
      example: "10000.00"
    PaymentId:
      name: payment_id
      in: path
      description: Bud Payment Identifier
      required: true
      schema:
        type: string
    Today:
      name: X-Today
      in: header
      description: Date (YYYY-MM-DD) to treat as the current day. Use this with `X-From`
        and `X-To` to find historical warnings (e.g. warnings that you would have
        received last week)
      required: false
      schema:
        type: string
      example: 2019-03-30
    Delta:
      name: X-Delta
      in: header
      description: "Number of days error to match regular payments when they could\
        \ be off by a few days from month to month. E.g. if your predicted rent payment\
        \ is on `25th` but you paid it on `23rd`, a delta of `2` would treat your\
        \ predicted transaction for `25th` as `Booked/Pending`."
      schema:
        minimum: 0
        type: number
        default: 3
    FromMonth:
      name: X-From
      in: header
      description: "Month (`YYYY-MM`) from which the transactions should be returned\
        \ from, this works in pair with the `X-To` parameter."
      required: false
      schema:
        type: string
      example: 2019-02
    ToMonth:
      name: X-To
      in: header
      description: "Month (`YYYY-MM`) from which the transactions should be returned\
        \ to, this works in pair with the `X-From` parameter."
      required: false
      schema:
        type: string
      example: 2019-03
    InsightId:
      name: insight_id
      in: path
      description: Insight identifier
      required: true
      schema:
        type: string
        format: uuid
  securitySchemes:
    OAuth2:
      type: oauth2
      description: |2

        Authentication flow:

        1. Perform OAuth2 Client Credentials authentication using API Credentials (`client_id`,`client_secret`) to obtain an `access_token` against `/v1/oauth/token` endpoint,
        2. Use `access_token` as Bearer Authorisation for every other API request,
        3. Include `X-Client-Id` (=client_id) within the header of every API request
        4. Note that some of the requests may also require `X-Customer-Id` or `X-Customer-Id` and `X-Customer-Secret` to be provided within the request header.

        ### Examples
        Obtain OAuth2 `access_token` and `refresh_token` using `grant_type=client_credentials` and HTTP Basic auth header

        ```
        curl --basic --user {{client_id}}:{{client_secret}} \
          -X POST https://api-sandbox.thisisbud.com/v1/oauth/token \
          -H 'Content-Type: application/x-www-form-urlencoded' \
          -d grant_type=client_credentials
        ```

        Successful response:
        ```
        {
          "operation_id": "oauth_token_post",
          "data": {
            "access_token": "dd0c17e3fd6d2ce94aa091257a3ea393b4f9b5cf3d3e998f07dc9826da86ff15",
            "token_type": "bearer",
            "expires_in": 3600,
            "refresh_token": "fac32cca7559d9f6e8f1dfe9a99c71fa1dcfeb482bedf287d7934d2667ae54b3"
          }
        }
        ```

        Refresh `access_token` token using `refresh_token` against `/v1/oauth/token` endpoint with `grant_type=refresh_token`

        ```
        curl -X POST \
          https://api-sandbox.thisisbud.com/v1/oauth/token \
          -H 'Content-Type: application/x-www-form-urlencoded' \
          -H 'X-Client-Id: {{client_id}}' \
          -d 'grant_type=refresh_token&refresh_token={{refresh_token}}'
        ```

        Successful response:
        ```
        {
            "operation_id": "oauth_token_post",
            "data": {
                "access_token": "cc0c17e3fd6d2ce94aa091257a3ea393b4f9b5cf3d3e998f07dc9826da86ff94",
                "token_type": "bearer",
                "expires_in": 3600,
                "refresh_token": "ffc30cca7559d9f6e8f1dfe9a99c71fa1dcfeb482bedf287d7934d2667ae54b3"
            }
        }
        ```
      flows:
        clientCredentials:
          tokenUrl: /v1/oauth/token
          scopes: {}
x-tagGroups:
- name: ""
  tags:
  - Connect API
  - Create a Connection
  - Manage a Connection
  - Ingest First Party Data
- name: ""
  tags:
  - Customers API
  - Manage Customers
- name: ""
  tags:
  - Enrichment API
  - Enrichment Resources
  - Enrichment Totals
- name: ""
  tags:
  - Financial Data API
  - Retrieve Financial Data
  - Manage Financial Data
- name: ""
  tags:
  - Financial Insights API
  - Regular Insights
  - Income Insights
  - Expenditure Insights
- name: ""
  tags:
  - Financial Review API
  - Assess Affordability
  - Retrieve Affordability Report
- name: ""
  tags:
  - KYC API
  - Perform KYC Check
- name: ""
  tags:
  - Payments API
  - Initiate Payment - Bud license
  - Initiate Payment - Client license
  - Manage Payments
- name: ""
  tags:
  - Signal API
  - Everyday Money Management
  - Customer Characteristics
  - Income and Expenditure Insight
  - Custom Signals
- name: ""
  tags:
  - Actionable Insights API
  - Retrieve Balance Insights (Beta)
